function dffer_day(n, t) {
    var i = n.substring(5, n.lastIndexOf("-")),
    r = n.substring(n.length, n.lastIndexOf("-") + 1),
    u = n.substring(0, n.indexOf("-")),
    f = t.substring(5, t.lastIndexOf("-")),
    e = t.substring(t.length, t.lastIndexOf("-") + 1),
    o = t.substring(0, t.indexOf("-"));
    return (Date.parse(i + "/" + r + "/" + u) - Date.parse(f + "/" + e + "/" + o)) / 864e5
}
function string_to_date(n) {
    var t = Date.parse(n);
    return new Date(t)
}
function getEmailHost(n) {
    var i = n.split("@")[1],
    t = hash[i];
    return t || (t = "../../mail./" + i),
    t
}
function EnCryptJsonParams(n, t) {
    var i, r, u, f;
    return (t = t == undefined && _justOneKey != undefined ? _justOneKey: "12345^&*()?><QAZ", i = obj2jsonString(n), r = i.length > 1e4 ? 1 : 0, r ? (i = i.replaceAll("万", "w~").replaceAll("千", "q~").replaceAll("百", "b~").replaceAll("十", "s~").replaceAll("个", "g~"), f = new JSZip, f.file("betcontent.txt", i), u = f.generate({
        compression: "DEFLATE"
    })) : u = JsEncryptHelper.Encrypt(t, i), gl != undefined && gl.isDebug) ? {
        info: u,
        hasZip: r,
        copyParam: i
    }: {
        info: u,
        hasZip: r
    }
}
function ShowDialog(n, t, i, r) {
    var f, e, u;
    if (i || (i = 800), r || (r = 600), f = (window.screen.height - r) / 2, e = (window.screen.width - i) / 2, !t && ctx.isIE()) u = document.getElementById("kefuA"),
    u.href = n,
    u.click();
    else try {
        window.showModelessDialog(n, window, "dialogHeight: " + r + "px; dialogWidth: " + i + "px;dialogTop: " + f + "; dialogLeft: " + e + "; resizable: yes; status: yes;scroll:no")
    } catch(o) {
        window.open(n, "_blank", "height=" + r + ", width=" + i + ", scrollbars=yes,resizable=1,modal=false,alwaysRaised=yes")
    }
}
function CalcRemainder(n, t) {
    for (var i = 1,
    r = t; parseInt(r) != r;) i *= 10,
    r = t * i;
    return n * i % r / i
}
function GetCountDownSum(n) {
    for (var i = 0,
    t = 1; t <= n; t++) i += t;
    return i
}
function ComputeCombinationsVariations(n, t) {
    var i = 0,
    r;
    if (t == 6) {
        if (n < 3) return 0;
        for (r = 1; r <= n - 2; r++) i += GetCountDownSum(r);
        return i * 6
    }
    return t == 3 ? n < 2 ? 0 : (i = GetCountDownSum(n - 1), i * 6) : t == 2 ? n < 2 ? 0 : (i = GetCountDownSum(n - 1), i * 2) : 0
}
function copy_to_clipboard(n) {
    var i, t, f;
    if (window.clipboardData) window.clipboardData.clearData(),
    window.clipboardData.setData("Text", n);
    else if (navigator.userAgent.indexOf("Opera") != -1) window.location = n;
    else if (window.netscape) {
        try {
            netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")
        } catch(o) {
            return alert("被浏览器拒绝！n请在浏览器地址栏输入' '并回车n然后将'signed.applets.codebase_principal_support'设置为'true'"),
            !1
        }
        if (i = Components.classes["_40mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard), !i) return;
        if (t = Components.classes["_40mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable), !t) return;
        t.addDataFlavor("text/unicode");
        var r = {},
        e = {},
        r = Components.classes["_40mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString),
        u = n;
        if (r.data = u, t.setTransferData("text/unicode", r, u.length * 2), f = Components.interfaces.nsIClipboard, !i) return ! 1;
        i.setData(t, null, f.kGlobalClipboard)
    } else return alert("复制失败，请手动抄写号码。"),
    !1;
    alert("复制成功!")
}
function GetFormJson(n) {
    var t = {},
    i = n.serializeArray();
    return $.each(i,
    function() {
        t[this.name] !== undefined ? (t[this.name].push || (t[this.name] = [t[this.name]]), t[this.name].push(this.value || "")) : t[this.name] = this.value || ""
    }),
    t
}
function EmailCheck(n) {
    if (n = n.trim(), n.length > 128 || n.length < 6) return alert("邮箱地址{0}不正确".replaceFormat([n])),
    !1;
    var t = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
    return (flag = t.test(n), !flag) ? (alert("邮箱地址{0}不正确".replaceFormat([n])), !1) : !0
}
function GetInfoFromTimeStamp(n, t) {
    var e = "",
    f = Math.floor(n / 864e5),
    o,
    u,
    s,
    i,
    h,
    r;
    return f = f < 10 ? "0" + f: f,
    o = n % 864e5,
    u = Math.floor(o / 36e5),
    u = u < 10 ? "0" + u: u,
    s = o % 36e5,
    i = Math.floor(s / 6e4),
    i = i < 10 ? "0" + i: i,
    h = s % 6e4,
    r = Math.round(h / 1e3),
    r = r < 10 ? "0" + r: r,
    e = f == "00" ? u == "00" ? t ? i + " : " + r: i + "分" + r + "秒": t ? u + " : " + i + " : " + r: u + "时" + i + "分" + r + "秒": t ? f + "天" + u + " : " + i + " : " + r: f + "天" + u + "时" + i + "分" + r + "秒"
}
function FormatNumber(n, r) {
    var f, u, e;
    for (n = n * 1, f = n >= 0 ? "": "-", n = Math.abs(n), r = r >= 0 && r <= 20 ? r: 2, n = parseFloat((n + "").replace(/[^\d\.-]/g, "")).toFixed(r) + "", u = n.split(".")[0].split("").reverse(), e = n.split(".")[1], t = "", i = 0; i < u.length; i++) t += u[i] + ((i + 1) % 3 == 0 && i + 1 != u.length ? ",": "");
    return r == 0 ? f + t.split("").reverse().join("") : f + t.split("").reverse().join("") + "." + e
}
function FormatNumberForKc(n, t) {
    var i = FormatNumber(n, 4);
    return t || (i = i.replaceAll(",", "")),
    i = i.substr(0, i.length - 2),
    i.endWith(".00") ? i = i.substr(0, i.length - 3) : i.endWith("0") && (i = i.substr(0, i.length - 1)),
    i
}
function GetReadInfoMinSeconds(n, t) {
    var i = n ? n.length: 0,
    r;
    return i < 11 ? 2e3: i < 18 ? 3e3: i < 26 ? 4e3: i < 35 ? 5e3: (r = Math.ceil(i / 8) * 1e3, t && r > t) ? t: r
}
function NetToJsDateTime(str, format) {
    var dt = eval("new " + eval(str).source);
    return format ? dt.Format(format) : dt.Format("yyyy-MM-dd HH:mm:ss")
}
function TowLenNum(n) {
    return n < 10 ? "0" + n: "" + n
}
function ComStopBubble() {
    $.browser.msie ? window.event.cancelBubble = !0 : $.browser.mozilla ? arguments.callee.caller.arguments[0].stopPropagation() : event.stopPropagation()
}
function isNumber(n) {
    return typeof n == "number" && isFinite(n)
}
function isInt(n) {
    var t = /^[-\+]?\d+$/;
    return t.test(n)
}
function isNumber(n) {
    if (isInt(n)) return ! 0;
    var t = /^[-\+]?\d+\.\d+$/;
    return t.test(n)
}
function GetIntRandomNum(n, t, i) {
    var e, r, u, f, o, s;
    for (i || (i = []), e = [], r = n; r <= t; r++) e.push(r);
    return (u = e.dive(i), f = u.length - 1, f < 0) ? n - 1 : f == 0 ? u[0] : (o = Math.random(), s = Math.round(Math.round(o * f)), u[s])
}
function deep_clone_obj(n) {
    var t, i;
    if (typeof n != "object" || n == null) return n;
    t = {};
    for (i in n) t[i] = clone_obj(n[i]);
    return t
}
function obj2jsonString(n) {
    var t = [],
    i;
    if (typeof n == "string") return '"' + n.replace(/([\'\"\\])/g, "\\$1").replace(/(\n)/g, "\\n").replace(/(\r)/g, "\\r").replace(/(\t)/g, "\\t") + '"';
    if (typeof n == "undefined") return "";
    if (typeof n == "object") {
        if (n === null) return "null";
        if (n.sort) {
            for (i = 0; i < n.length; i++) t.push(obj2jsonString(n[i]));
            t = "[" + t.join() + "]"
        } else {
            for (i in n) t.push('"' + i + '":' + obj2jsonString(n[i]));
            t = "{" + t.join() + "}"
        }
        return t
    }
    return n.toString()
}
function show_by_screen_height_center(n, t) {
    var u = $(window).scrollTop();
    if (u != 0 || !t) {
        var r = $(window).height(),
        f = n.height(),
        i = 0;
        r >= f && (i = parseInt((r - f) / 2)),
        i > r / 5 && (i = parseInt(r / 5)),
        i += u,
        n.css({
            top: i
        }),
        n.show()
    }
}
function substr_en_chi(n, t, i) {
    var u = /[^\x00-\xff]/g,
    f, r;
    if (n.replace(u, "mm").length > t) for (f = Math.floor(t / 2), r = f; r < n.length; r++) if (n.substr(0, r).replace(u, "mm").length >= t) return i ? n.substr(0, r) : n.substr(0, r) + "...";
    return n
}
function arg2arr(n, t) {
    return Array.prototype.slice.call(n, t || 0)
}
function htmlEncode(n) {
    return String(n).replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&#39;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
}
function htmlUnEncode(n) {
    return String(n).replace(/&amp;/g, "&").replace(/&quot;/g, '"').replace(/&#39;/g, "'").replace(/&lt;/g, "<").replace(/&gt;/g, ">")
}
function DivDrop() {
    $(".sign_up").mousedown(function(n) {
        $(this).css("cursor", "move");
        var t = $(this).offset(),
        i = n.pageX - t.left,
        r = n.pageY - t.top;
        $(document).bind("mousemove",
        function(n) {
            $(".sign_up").stop();
            var t = n.pageX - i,
            u = n.pageY - r;
            $(".sign_up").animate({
                left: t + "px",
                top: u + "px"
            },
            10)
        })
    }),
    $(document).mouseup(function() {
        $(".sign_up").css("cursor", "default"),
        $(this).unbind("mousemove")
    })
}
function unloadEveryTimeObjs() {
    jQuery.each(jQuery.timer.global,
    function(n, t) {
        jQuery.timer.remove(t)
    })
}
function AddMessage(n, t) {
    var r = "../Images/icons/icon120.png",
    i;
    t && (r = "ticket-icon t-s-48 ti-" + gl.getKeyForLotteryCode(t)),
    i = [6, 7, 13].indexOf(n.MessageType) > -1,
    serverNotifyBase._add({
        image: r,
        title: n.Title,
        notify: n.Content,
        timeout: 3e5,
        myData: {
            date: new Date
        },
        buttons: {
            "查看": function(t, r) {
                $.appAlert({
                    title: n.Title,
                    message: n.Content
                },
                "success"),
                r.$row.trigger("_remove"),
                i && MemberUserNews.DecUnReadMsgNum()
            },
            "已读": function(n, t) {
                t.$row.trigger("_remove"),
                i && MemberUserNews.DecUnReadMsgNum()
            }
        }
    }),
    i && MemberUserNews.AddUnReadMsgNum()
}
function GetRandomNum(n, t) {
    var i = t - n,
    r = Math.random();
    return n + Math.round(r * i)
}
function initSocket() {
    function i() {
        t = !0,
        $.connection.hub.stop()
    }
    var n = $.connection.mainHub,
    t = !1;
    $.connection.hub.url = SignalrServerUrl + "signalr",
    $.connection.hub.qs = {
        userName: $("#ServerUserName").val(),
        userType: $("#ServerUserType").val(),
        userId: $("#ServerUserId").val(),
        HostName: HostName
    },
    n.client.getMessage = function(n) {
        var t, i, r;
        n.MessageType == 3 ? typeof ctx.receiveSocketLottery == "function" && ctx.receiveSocketLottery(n.Title, n.Content) : n.MessageType == 4 ? typeof ctx.receiveSocketAward == "function" && ctx.receiveSocketAward(n.Title, n.Content) : n.MessageType == 1 ? n.Title == "派奖" ? (t = n.Content.split("|"), t.length >= 3 && (i = t[0], r = t[2], refreshGamePoint(), AddMessage({
            Title: n.Title,
            Content: r,
            MessageType: n.MessageType
        },
        i))) : setTimeout(function() {
            AddMessage(n),
            n.Title == "中奖后停止追号" && refreshGamePoint()
        },
        GetRandomNum(1, 100) * 100) : n.MessageType == 5 || n.MessageType == 9 || n.MessageType == 13 ? AddMessage(n) : n.MessageType == 6 || n.MessageType == 7 ? (refreshGamePoint(), AddMessage(n)) : n.MessageType == 12 && typeof ctx.trendReadyNotice == "function" && ctx.trendReadyNotice(n.Content)
    },
    n.client.OffLine = function(n) {
        $.connection.hub.id == n && ($.connection.hub.stop(), alert("只有最新打开的页签才可以实时收到系统派奖等通知！ 可刷新页面使当前页签成为最新页签!"))
    },
    n.client.KickUser = function() {
        $.connection.hub.stop(),
        _alert("系统维护或者你的帐号在其他地方登录！"),
        window.location.href = "../login/logout/default.htm"
    },
    $.connection.hub.start({
        jsonp: !0,
        transport: ["webSockets", "longPolling"]
    }).done(),
    window.onbeforeunload = i
}
function alertTip(n, t, i, r) {
    t || (t = "提醒"),
    i || (i = "warning"),
    gl.notify._add({
        title: t,
        notify: n,
        speed: 10,
        status: i,
        timeout: GetReadInfoMinSeconds(n, 7e3)
    }),
    r && console.log(n)
}
function CreateZeroClipboard(n, t, i) {
    var r = ZeroClipboard.clients[n];
    r && r.destroyById(),
    r = new ZeroClipboard.Client(undefined, n),
    r.setHandCursor(!0),
    r.addEventListener("load",
    function() {}),
    r.addEventListener("mouseOver",
    function() {
        var i = document.getElementById(n);
        r.setText(i.innerHTML)
    }),
    r.addEventListener("complete",
    function() {
        alertTip("复制成功!", "", "success")
    }),
    r.glue(t, i)
}
function home_hash_changed(n) {
    var u, e, s, h, f;
    n || (n = "hall"),
    n = n.toLowerCase();
    var t = "home",
    r = n,
    o = $("#window-option");
    o.show().next().removeClass("ub-index");
    switch (n) {
    case "hall":
        o.hide().next().addClass("ub-index");
        break;
    case "fail":
        t = "Regist";
        break;
    case "success":
        t = "Regist";
        break;
    case "lotterys":
        t = "Lottery";
        break;
    case "award":
        t = "Award";
        break;
    case "activity":
        t = "Activity";
        break;
    case "trend":
        t = "trend"
    }
    u = null,
    n.startWith("regist") && (t = "regist"),
    n.startWith("awarddetail/") && (t = "Award", r = "award"),
    e = !1,
    n.startWith("member") ? (e = !0, t = "member") : n.startWith("helper") && (t = "helper"),
    s = ["cqc", "tjc", "pl3", "fc3d", "sd11x5", "klpk", "pk10", "jlk3", "jsk3", "wfc", "kck3", "kcjs3d", "ggc", "xjssc", "gxk3", "ahk3", "hubk3", "hebk3", "shk3", "yfc", "gd11x5", "jx11x5", "sh11x5", "hlj11x5"],
    _.contains(s, n) && (t = "bet", r = "lotterys"),
    n.indexOf("trend-") != -1 && (t = "trend", r = "trend", u = n.replace("trend-", ""), n = "Detail"),
    h = {
        partial: 1
    },
    SetHeaderMenu(r);
    var i = $("body"),
    l = $("#loading-page"),
    c = t == "bet" || t == "trend";
    c && gl.loadingPage.show(),
    f = "../{0}/{1}".replaceFormat([t, n]),
    u && (f = f + "/" + u),
    n = n.split("?")[0],
    ctx.ajax({
        type: "GET",
        url: f,
        async: !1,
        data: h,
        beforeSend: function() {
            i.css("cursor", "wait").attr("title", "系统正为你奋力加载中..."),
            t == "member" && i.tpuiLoading("_show")
        },
        complete: function() {
            i.css("cursor", "default").attr("title", ""),
            _.delay(function() {
                t == "member" && i.tpuiLoading("_hide"),
                gl.loadingPage.hide()
            },
            500)
        },
        success: function(r) {
            var u, s, f, h, a, c, l, o;
            r == "ajax_login" ? (_alert("您的登录已失效，请重新登录！登录失效的原因可能有：1.在其他地方登录;2.当前IP改变; 3.网络不稳定."), location.href = "../default.htm") : (gl.$noticeList && gl.$noticeList.tpuiMarquee("_destroy"), $("#tmpDialogWrap").empty(), unloadEveryTimeObjs(), u = $("#memberSideBarId"), s = $("#memberSideBarContainer"), unbindGlobalEvents(), e ? (u.is(":visible") ? u.find(".mainbody").html(r) : ($("#subContainerId").html("").append('<div class="main" id="content"></div>'), u.appendTo("#content").show().find(".mainbody").html(r), delete r), f = n, _.contains(["memberagentbetrecord", "memberagentagbetrecord", "memberagentfunddetail", "memberagentrechargerecord", "memberagentwithdrawrecord"], n) ? f = "memberagentusermanager": _.contains(["MemberAgentApplyOpenAccount".toLowerCase(), "MemberAgentApplyLinkManage".toLowerCase()], n) && (f = "memberagentapplylink"), f.startWith("membertraceorderdetail") || (h = $("#user-menu ul>li ul>li"), h.removeClass("active"), a = h.filter("." + f), a.addClass("active")), c = $("#user-menu"), l = c.find("a[href='#" + f + "']").closest("li.tp-ui-menu-sub-group"), c.find("li.tp-ui-menu-sub-group.tp-ui-active").removeClass("tp-ui-active").find("div.tp-ui-menu-submenu").hide(), l.hasClass("tp-ui-active") || l.addClass("tp-ui-active").find("div.tp-ui-menu-submenu").show()) : (s.find("#memberSideBarId").length <= 0 && (u.find(".mainbody").html(""), u.hide().appendTo(s)), r = t == "bet" ? r: '<div class="main" id="content">' + r + "</div>", $("#subContainerId").html(r), delete r), o = $("#nav-toggle-handle"), n == "ggc" ? i.attr("class", "userbg-ggc") : i.attr("class", ""), t == "bet" ? o.show() : (o.hide(), o.hasClass("active") && o.click()), t == "bet" ? (gl.isDebug ? $("title").html("(测试) " + gl.lotteryName + " - 易彩") : $("title").html(gl.lotteryName + " - 易彩"), n == "ggc" ? ($("#footer >div").hide(), $("#backtop").show().next().show()) : $("#footer >div").show()) : gl.title && (gl.lotteryId = 0, gl.title.indexOf("易彩") == -1 && (gl.title += " - 易彩"), gl.isDebug ? $("title").html("(测试) " + gl.title) : $("title").html(gl.title)), (t == "bet" || n == "memberrecharge" || n == "memberwithdraw") && gl.hadConect == 0 && setTimeout(function() {
                initSocket(),
                gl.hadConect = 1
            },
            1e3))
        },
        error: function(n) {
            n.status == 500 || n.status == 403,
            window.location.href = "../default.htm"
        }
    })
}
function unbindGlobalEvents() {
    $(window).off("resize.cutdownFixedInt").off("scroll.cutdownFixedCheck")
}
function initMemberBaseControl() {
    var t = $(".data-table-option"),
    i = $(".table"),
    r = $(".tab-base"),
    n = $(".forms-table"),
    u = $(".kc-calendar");
    n.find(".tpui-text").tpuiText(),
    n.find(".tpui-radio").tpuiRadio(),
    n.find(".tpui-select").tpuiSelect(),
    n.find(".tpui-button").tpuiButton(),
    t.find(".tpui-text").tpuiText(),
    t.find(".tpui-button").tpuiButton(),
    t.find(".tpui-select").tpuiSelect(),
    i.find(".tpui-checkbox").tpuiCheckbox(),
    r.tpuiTab(),
    u.cxCalendar({
        type: "YYYY-MM-DD"
    });
    $(".icon-kc-calendar").on("click",
    function() {
        var n = $(this).prev().find("input.kc-calendar:first"),
        t = n.val();
        n.focus().val(t).cxCalendar(function(n) {
            n.show()
        })
    })
}
function GetPartHtml(n, t, i) {
    var r = EnCryptJsonParams(t);
    i || (i = $("#memberSideBarId .mainbody")),
    ctx.ajax({
        type: "GET",
        url: n,
        data: r,
        beforeSend: function() {
            $("body").attr("title", "系统正为你奋力加载中..."),
            $("body").tpuiLoading("_show")
        },
        complete: function() {
            $("body").attr("title", ""),
            $("body").tpuiLoading("_hide")
        },
        success: function(n) {
            i.html(n)
        },
        error: function(n) {
            n.status == 500 || n.status == 403,
            i.html(n.responseText)
        }
    })
}
function SetHeaderMenu(n) {
    var t = $("div#nav"),
    i = t.find("a[href='#" + n + "']");
    i && (t.find("li.current").removeClass("current"), i.parent().addClass("current"))
}
function CheckNumInput() {
    $("input[type=text]").live("change",
    function() {
        var n = $(this),
        i = n.val(),
        t; (n.hasClass("myNumClass0") || n.hasClass("trace-text") || n.hasClass("tpui-number") || n.hasClass("betting-multiple")) && (t = i.replace("-", ""), isNumber(i) ? isInt(i) || (t = parseInt(t * 1)) : n.val(1), t * 1 == 0 && (t = 1), i != t && n.val(t), n.trigger("changekc"))
    })
}
function refreshGamePoint(n, t) {
    if (gl.isLogined) {
        var i = $("#userGamePointId");
        n == undefined ? ctx.postToken("GetUserGamePointData", {},
        function(r) {
            n = FormatNumber(r.GamePoint, 2),
            i.attr("data", n),
            i.text() != "已隐藏" && i.text(n),
            t || alertTip("游戏分数已刷新！")
        }) : (i.attr("data", n), i.text() != "已隐藏" && i.text(n))
    }
}
function RefreshUserAgPoint() {
    if (hasSubmit) return ! 1;
    $("#sum-refresh").css("cursor", "wait"),
    hasSubmit = !0,
    ctx.postTokenEx({
        url: "../member/RefreshAGandGamePoint",
        data: {},
        success: function(n) {
            refreshGamePoint(n.GamePoint),
            $("#userAgPoint").html(n.AgPoint),
            $("#GamePoint").length > 0 && ($("#GamePoint").html($("#userGamePointId").attr("data")), $("#AgPoint").html($("#userAgPoint").html())),
            $("#gamePoint").length > 0 && ($("#gamePoint").html($("#userGamePointId").attr("data")), $("#agPoint").html($("#userAgPoint").html())),
            hasSubmit = !1,
            $("#sum-refresh").css("cursor", "pointer")
        }
    })
}
function OpenGamePointTranform() {
    var n = $("#sum-parse-inner");
    n.tpuiDialog({
        scrollLock: !0,
        width: 520,
        maskClose: !1
    }),
    $("#transformGamePoint").val("100"),
    $("#gamePoint").html($("#userGamePointId").attr("data")),
    $("#agPoint").html($("#userAgPoint").html()),
    n.tpuiDialog("_open")
}
function openagwin(n) {
    n || (n = "../ag/openaggame");
    var t = Math.round((window.screen.width - 1024) / 2),
    i = Math.round((window.screen.height - 596) / 2);
    window.open(n, "newwindow", "height=596, width=1024, top=" + i + ",left=" + t + ",toolbar=no, menubar=no, scrollbars=no, resizable=no,location=no, status=no")
}
function init_betAssit(n, t) {
    var i, r;
    gl.betAssist = null,
    gl.betAssist = {},
    gl.betAssist.headerToggle = new HeaderToggle,
    gl.betAssist.headerToggle.init(),
    gl.betAssist.lotteryStickie = new LotteryStickie,
    gl.betAssist.lotteryStickie.init(),
    gl.betAssist.newBonus = new NewBonus,
    gl.betAssist.newBonus.init(),
    gl.betAssist.numStat = new BonusNumStatInfo(n),
    gl.betAssist.numStat.init(),
    gl.betAssist.userFav = new UserBetFav(n, t),
    gl.betAssist.userFav.init(),
    ctx.trendReadyNotice = {},
    i = function(n) {
        gl.lotteryId == n && gl.betAssist.numStat.reloadData(function() {
            var n = gl.betAssist.numStat.k3SumStatData;
            gl.isK3 && gl.betAssist.newBonus.renderK3SumStat(n)
        })
    },
    gl.lotteryId != EnumLotteryType.ggc && (r = gl.lotteryId + ";" + gl.betAssist.numStat.packChartTypes(), ctx.postTokenEx({
        url: "../Bet/GetBetAssistData/" + r,
        data: {},
        success: function(n) {
            n.Ok == 1 ? ($.extend(gl.betAssistData, n.Data), gl.betAssist.numStat.loadData(), gl.betAssist.userFav.loadData(), gl.betAssist.newBonus.renderK3SumStat(gl.betAssistData.k3SumStat)) : n.Ok == 0 ? alert(n.Tip) : alert("加载遗漏及收藏数据失败！"),
            ctx.trendReadyNotice = i
        }
    }))
}
function GetBetPriceValue(n) {
    var t = 0;
    return t = n && n.priceMode != undefined ? n.priceMode: gl.priceMode,
    t == 0 ? "1": t == 1 ? "0.1": "0.01"
}
function GetBetPriceMode(n) {
    var t = 0;
    return t = n && n.priceMode != undefined ? n.priceMode: gl.priceMode,
    '<i pricevalue="{0}">{1}</i>'.replaceFormat([GetBetPriceValue(n), t == 0 ? "元": t == 1 ? "角": "分"])
}
function checkDistinct(n, t) {
    var u = t.parent().find(".active"),
    r = u.attr("distinct"),
    i;
    return r && r != "0" ? (i = n.replaceAll(" ", ",").split(","), i = _.uniq(i), i.length >= parseInt(r)) : !0
}
function init_betComm(n) {
    function o() {
        return $totalAmount.text().replaceAll(",", "") * 1
    }
    function h(n) {
        return n == 109 || n == 209 || n == 909 || n == 1409 || n == 1109 || n == 2009
    }
    function ii(t) {
        function st() {
            var n, t, i;
            u != "stop" && (n = +new Date, t = Math.abs(n - k), gl.testLog && console.log("cTime:" + String(n) + " lotteryGetTime:" + String(new Date(k).Format("mm:ss")) + " passTime:" + String(t) + " countUpTime:" + String(o) + " passTime - countUpTime:" + String(t - o)), i = !0, ht && (e != 0 && (gl.testLog && console.log("lastcTime:" + String(e) + " ：" + String(n) + " :" + String(n - e)), n - e > 1800 && n - e < 2200 && (i = !1)), e = n), i && t - o > 2e3 && (gl.testLog && console.log("----------getIssueNumberAndTimeInfo----------"), h()))
        }
        function it(n) {
            return
        }
        function h() {
            var t = "../bet/GetScheduleAndIssueNumber/" + n + "@r=" + Math.random();
            ctx.postTokenEx({
                url: t,
                beforeSend: function() {
                    u = undefined,
                    i = undefined,
                    r = undefined,
                    p(0)
                },
                success: function(n) {
                    n.stop_schedule == 1 ? location.href = "../default.htm": (l = !1, d = 0, u = n.issue_number, i = n.differ * 1e3, r = n.advance * 1e3, et = i + r, k = +new Date, b = n.preIssueNumber, w = n.nextIssueNumber, c = n.oneIssueTime * 1e3, a.html(u), g.html(b), gl.betAssist.newBonus.waitingBonus({
                        preBonusNumber: "-",
                        preIssueNumber: b
                    }), o = 0, i < 0 ? r = i + r: it(0), p(0), rt || (rt = $("body").everyTime(1e3, "cqc_bet_countdown_interval",
                    function() {
                        o += 1e3,
                        st(),
                        p(1e3)
                    })))
                }
            })
        }
        function y(n) {
            for (var u = "",
            o = "",
            r = Math.floor(n / 36e5), e, r = r < 10 ? "0" + r: r, s = n % 36e5, t = Math.floor(s / 6e4), t = t < 10 ? "0" + t: t, h = s % 6e4, i = Math.round(h / 1e3), i = i < 10 ? "0" + i: i, u = r == "00" ? t + ":" + i: r + ":" + t + ":" + i, f = 0; f < u.length; f++) e = u[f],
            o += e == ":" ? '<li class="cb-dot"><span>:</span></li>': '<li class="cb-' + e + '"><span>' + e + "</span></li>";
            ut.html(o),
            ft.html(u)
        }
        function p(n) {
            if (u == "stop") {
                d++,
                d == 60 && h();
                return
            }
            if (u == undefined) {
                a.html("正在获取奖期..."),
                g.html("正在获取奖期..."),
                v.html("正在获取奖期...");
                return
            }
            if (i != undefined && (i = i - n, ot.html(u), i < 0 ? (i = undefined, s.css("color", "red"), y(0)) : (s.html("剩余投注时间"), v.html(GetInfoFromTimeStamp(i + r, 1)), i < 1e4 ? s.css("color", "red") : s.css("color", "#999"), y(i)), (gl.lotteryId == EnumLotteryType.yfc && i >= 5e3 && i < 6e3 || gl.lotteryId != EnumLotteryType.yfc && i >= 8e3 && i < 9e3) && t(u, i, w)), i == undefined && r != undefined) if (r = r - n, r < 0) r = undefined,
            gl.betAssist.newBonus.waitingBonus({
                preBonusNumber: ""
            }),
            h(1);
            else {
                a.html(w),
                c = c - n,
                y(c),
                s.css("color", "#999");
                var e = GetInfoFromTimeStamp(r, 1);
                v.html(e),
                l || (it(1), gl.needTrace && (tt.find("tr[IssueNumber=" + u + "]").remove(), gl.bet.betMode != 0 && alertTip("当前期投注时间结束，请追号到下一期!", "追号提醒"), f()), l = !0)
            }
        }
        var rt, k, o, r, u, i, et, b, ct, w, c, d = 0,
        e = 0,
        ht = window.navigator.userAgent.indexOf("Chrome") !== -1,
        v = $("#allTimeContainerId"),
        a = $("#curIssueNumberId"),
        g = $("#preIssueNumberId"),
        ut = $("#timeContainerId"),
        ft = $("#leftTimeContainerId"),
        s = $(".remainTitleClass"),
        nt = $("#drawing-locker"),
        ot = $("#curBonusIssueId"),
        l = !1;
        h()
    }
    function ti(n, t) {
        var i = t.split("|");
        if (i.length >= 3) {
            var r = i[0],
            u = i[1],
            f = i[2];
            r == gl.lotteryId && gl.betAssist.newBonus.refleshLotteryHistory(i)
        }
    }
    function ni(n, t) {
        var i, r;
        return
    }
    function yi() {
        var r, t, u = !1,
        n = 0,
        i = 0,
        f = "";
        $(".betTypeClass").each(function() {
            if (r = $(this).attr("bettype"), r && (t = wi(gl.rules, r), t && t.length > 0)) {
                u = !1,
                n = 0;
                for (var e = 0; e < t.length; e++) i = t[e].UserOdds * 1 + t[e].UserPlusOdds * 1,
                n == 0 ? n = i: n < i && (u = !0, n = i);
                n = n * gl.price,
                n = FormatNumberForKc(n),
                f = u ? "最高奖金<br>￥" + n: "奖金<br>￥" + n,
                $(this).find("em").html(f)
            }
        })
    }
    function wi(n, t) {
        for (var u = n.length,
        i = [], r = 0; r < u; r++) t == parseInt(n[r].SubTypeId / 100) && (i[i.length] = n[r]);
        return i.length == 0 && (i = null),
        i
    }
    var u, rt, k, pt, y, wt, bt, dt, w, yt, lt, i, et, nt;
    $betPanel = $(".betting-checker-panel"),
    $selectNumsContainer = $("#selectNumsContainerId"),
    $selectNumsBody = $("#bof-table-base div.body"),
    $singleNumberInput = $("#singleNumberInput"),
    $submitBtn = $("#bettingBtn"),
    $betMode = $('#trace-number .head input[name="order-config"]'),
    $totalBets = $("#totalBetsId"),
    $totalTimesInput = $("#totalTimesInput"),
    $totalTimesSpan = $("#totalTimesSpan"),
    $totalAmount = $("#totalAmountId"),
    $priceMode = $("#priceModeId>li"),
    gl.isShiShiCai = [1, 2, 5, 6, 9, 11, 13, 14, 20].indexOf(n) > -1,
    gl.isK3 = [3, 4, 12, 15, 16, 17, 18, 19].indexOf(n) > -1,
    gl.is11Xuan5 = [10, 21, 22, 23, 24].indexOf(n) > -1,
    gl.needTrace = [5, 6].indexOf(n) < 0,
    gl.needTrace = gl.needTrace && n != EnumLotteryType.ggc,
    gl.bet = {
        betMode: 0
    },
    gl.priceMode = 0,
    $priceMode.bind("click",
    function() {
        var n = $(this).attr("pricemode");
        n != $priceMode.filter(".active").attr("pricemode") && ($priceMode.removeClass("active"), $(this).addClass("active"), gl.priceMode = n, BetNumberAndProfitLossHelper.Compute())
    }),
    $.bettingBase(),
    $("#clearBetItemsId").bind("click",
    function() {
        $selectNumsContainer.html(""),
        u(1),
        f()
    }),
    u = function(n) {
        var i = 0,
        r = 0,
        t;
        $selectNumsContainer.find(".bof-tb-total-price>em>i").each(function() {
            i += $(this).text() * 1
        }),
        n && ($selectNumsContainer.find(".bof-tb-count>em").each(function() {
            r += $(this).text() * 1
        }), $totalBets.html(r)),
        t = $totalTimesInput.val(),
        (!isInt(t) || t <= 0) && (t = 1),
        i *= t * 1,
        $totalAmount.html(i.toFixed(2)),
        gl.bet.betMode != 0 && (l(1), i == 0 && f())
    },
    init_betAssit(n, u);
    var r = $(".betTypeClass"),
    at = $(".bcp-type-base"),
    v = $(".betRuleClass"),
    vt = $("#betRuleTip"),
    it = $("#betRuleTipExample"),
    b = $(".bc-sub"),
    ri = $(".numBallClass"),
    ut = $(".bcp-base"),
    d = $(".bcp-clipboard"),
    ui = d.find("dd"),
    p = $("#betting-type-nav>ul"),
    a = $(".betTypeClass[isfun=0]"),
    s = $(".betTypeClass[isfun=1]"),
    e = $(".bc-config");
    if (p.find("li>a").die("click").live("click",
    function() {
        var n;
        $(this).text() == "趣味" ? (p.html('<li><a href="javascript:void(0);">常规</a></li><li><span>趣味</span></li>'), a.hide(), n = "b-column b-column-" + s.length, s.show().parent().attr("class", n), gl.isShiShiCai ? s.eq(s.length - 1).trigger("click") : gl.lotteryId == 8 ? s.eq(1).trigger("click") : s.eq(0).trigger("click")) : (p.html('<li><span>常规</span></li><li><a href="javascript:void(0);">趣味</a></li>'), s.hide(), n = "b-column b-column-" + a.length, a.show().parent().attr("class", n), gl.isShiShiCai ? a.eq(1).trigger("click") : a.eq(0).trigger("click"))
    }), r.click(function() {
        var i = $(this),
        t,
        n;
        r.removeClass("active"),
        i.addClass("active"),
        t = i.attr("bettype"),
        v.hide(),
        n = v.filter("[bettype=" + t + "]"),
        n.show().eq(0).trigger("click"),
        n.length == 1 ? (n.hide(), at.hide()) : at.show(),
        h(t) ? e.show() : e.hide(),
        BetNumberAndProfitLossHelper.Clear()
    }), v.click(function() {
        var u = $(this),
        c,
        t,
        s,
        f,
        r,
        i,
        h;
        if (v.removeClass("active"), u.addClass("active"), ri.removeClass("active"), c = u.attr("isfun") == "1", c) d.hide(),
        ut.show(),
        r = u.attr("betsubtype"),
        gl.betAssist.ruleId = r,
        i = gl.tipDict[r],
        b.hide(),
        b.filter("[panelindex=" + r + "]").show().find(".showStatisticsClass").show(),
        vt.html(i[0]),
        it.html(i[1]);
        else {
            var o = u.attr("betrule"),
            r = parseInt(o / 100),
            i = gl.tipDict[r];
            if (gl.betAssist.ruleId = o, t = GetDataDetailById(o, gl.rules, "RuleId"), t.RuleName == "组选60" || t.RuleName == "组选30" ? ($(".bc-sub").filter("[panelindex=6]").find(".title>span").html("二同号"), $(".bc-sub").filter("[panelindex=7]").find(".title>span").html("单号")) : t.RuleName == "组选20" ? ($(".bc-sub").filter("[panelindex=6]").find(".title>span").html("三同号"), $(".bc-sub").filter("[panelindex=7]").find(".title>span").html("单号")) : t.RuleName == "组选10" ? ($(".bc-sub").filter("[panelindex=6]").find(".title>span").html("三同号"), $(".bc-sub").filter("[panelindex=7]").find(".title>span").html("二同号")) : t.RuleName == "组选5" && ($(".bc-sub").filter("[panelindex=6]").find(".title>span").html("四同号"), $(".bc-sub").filter("[panelindex=7]").find(".title>span").html("单号")), b.hide(), t.NumPanel == "100") ut.hide(),
            d.show(),
            ui.html(i[1]),
            $(".bcp-option>.statistic").hide();
            else {
                for (d.hide(), ut.show(), vt.html(i[0]), it.html(i[1]), s = t.NumPanel.split(","), f = 0; f < s.length; f++) $(".bc-sub[panelindex=" + s[f] + "]").show().find(".showStatisticsClass").show();
                $(".bcp-option>.statistic").show()
            }
        }
        gl.isShiShiCai ? (h = e.find(".tp-ui-active"), h.find("input").removeAttr("checked"), h.removeClass("tp-ui-active")) : (gl.isK3 || n == 8) && it.css("min-width", 210),
        gl.betAssist.numStat.displayStatPanel(gl.betAssist.ruleId).showStatInfo(gl.betAssist.ruleId, gl.betAssist.statConf),
        gl.lotteryId == EnumLotteryType.ggc && ($(".numBallClass.active").removeClass("active"), $("#totalTimesInput").val(1), $("#totalAmountId").html("0.00"), $("#betting-history>.cont-head").hide()),
        $singleNumberInput.val(""),
        BetNumberAndProfitLossHelper.Clear()
    }), rt = 0, gl.isShiShiCai && (e.find("input[name=checker-config]").tpuiCheckbox(), e.find("li input").bind("change",
    function() {
        BetNumberAndProfitLossHelper.Compute()
    }), rt = 1), k = gl.cookie.lastLotteryBetType[gl.lotteryId], k ? (pt = r.filter("[bettype=" + k + "]"), pt.is(":visible") || p.find("li>a").trigger("click"), r.filter("[bettype=" + k + "]").trigger("click")) : r.eq(rt).trigger("click"), y = $("#voice-toggle a"), gl.cookie.closeVoice == 1 ? y.addClass("active") : y.removeClass("active"), y.click(function() {
        $(this).toggleClass("active"),
        $(this).hasClass("active") ? gl.cookie.set("closeVoice", 1) : gl.cookie.set("closeVoice", 0),
        gl.media.closeVoice()
    }), $(".numBallClass").click(function() {
        var n = $(this),
        u = n.find("span").html(),
        f = v.filter(".active").attr("betrule"),
        c = n.closest("ul"),
        e = r.filter(".active"),
        l = e.attr("single"),
        o = e.attr("norepeat"),
        a = o == "1" || o == "2" && f.substr(f.length - 4) != "0101",
        t,
        i,
        s,
        h;
        if (a && (t = !1, b.find("li.active").find("span").each(function() {
            if ($(this).html() == u && !$(this).closest("li").is(n)) {
                n.removeClass("active"),
                t = !0;
                return
            }
        }), t)) {
            alertTip("不能选择重复号码:[" + u + "]", "选号提醒");
            return
        }
        l == "1" ? (i = c.find(".numBallClass.active"), i.removeClass("active"), i.is(n) || n.addClass("active")) : (gl.isK3 && (s = $(this).attr("ethindex"), h = $(this).hasClass("active"), $("[ethindex='" + s + "']").removeClass("active"), h && n.addClass("active")), n.toggleClass("active")),
        BetNumberAndProfitLossHelper.Compute()
    }), $(".bc-sub .option>ul>li").click(function() {
        var r = $(this),
        i = r.closest(".bc-sub").find(".numBallClass"),
        u = r.attr("otype"),
        t,
        n;
        if (u == "clear") i.removeClass("active");
        else for (i.removeClass("active"), t = 0; t < i.length; t++) {
            n = i.eq(t);
            switch (u) {
            case "all":
                n.hasClass("active") || n.trigger("click");
                break;
            case "big":
                t > 4 && (n.hasClass("active") || n.trigger("click"));
                break;
            case "small":
                t <= 4 && (n.hasClass("active") || n.trigger("click"));
                break;
            case "single":
                gl.lotteryId == 8 || gl.is11Xuan5 ? t % 2 == 0 && (n.hasClass("active") || n.trigger("click")) : t % 2 == 1 && (n.hasClass("active") || n.trigger("click"));
                break;
            case "double":
                gl.lotteryId == 8 || gl.is11Xuan5 ? t % 2 == 1 && (n.hasClass("active") || n.trigger("click")) : t % 2 == 0 && (n.hasClass("active") || n.trigger("click"))
            }
        }
        BetNumberAndProfitLossHelper.Compute()
    }), $selectNumsContainer.find(".betting-multiple").die("changekc").live("changekc",
    function() {
        var n = $(this).closest("li"),
        t = n.find(".betting-multiple").val(),
        i = n.find(".bof-tb-method>i").attr("pricevalue"),
        r = gl.price,
        f = n.find(".bof-tb-count>em").text();
        n.find(".bof-tb-total-price i").html((t * r * f * i * 1).toFixed(2)),
        u()
    }), $totalTimesInput.bind("changekc",
    function() {
        u()
    }), $selectNumsContainer.find(".bof-tb-option").die("click").live("click",
    function() {
        $(this).closest("li").remove(),
        u(1)
    }), wt = [113, 213, 913, 1113, 1413, 2013, 505, 506, 507, 508, 605, 606, 607, 608, 1305, 1306, 1307, 1308, 811, 813, 1015, 2115, 2215, 2315, 2415], bt = [3, 4, 7, 12, 15, 16, 17, 18, 19], $("#addBettingNumberId").click(function() {
        var curSelNums, tmpInput, len, nums, newInput, arr, chars, strs, i, fLen, allowMaxLen, allSelNums, hasAlert, tmp, mTempAllNums, prefix, renXuanCount, ruleSubName, checks, item, $allSels, parseSelNum, k, ruleObj, tmpHtml, subSelectedRegex, betNum, html, betItemCount;
        if (gl.bet.betMode != 0 && $selectNumsContainer.find("li").length >= 1) return alert("一次追号只允许一条投注项！"),
        !1;
        var $curRule = $(".betRuleClass.active"),
        $curBetType = r.filter(".active"),
        curBetTypeId = $curBetType.attr("bettype"),
        isFun = $curRule.attr("isfun") == "1",
        ruleId,
        selList = [];
        if (!isFun || isFun && $(".betRuleClass:visible").length == 0 && bt.indexOf(n) == -1 && wt.indexOf(curBetTypeId) == -1) {
            isFun ? isFun && $(".betRuleClass:visible").length == 0 && (ruleId = $curRule.attr("betsubtype") + "01") : ruleId = $curRule.attr("betrule");
            var typeId = parseInt(ruleId / 1e4),
            ruleObj = GetDataDetailById(ruleId, gl.rules, "RuleId"),
            selectedRegex = "../" + ruleObj.SelectedRegex + "/";
            if (ruleObj.MatchType.indexOf("单式") != -1) {
                if (curSelNums = $singleNumberInput.val().replaceAll("；", ";").replaceAll("，", ",").replaceAll(" ", " ").replaceAll("\t", " ").trim(), gl.isShiShiCai) {
                    for (curSelNums = curSelNums.replaceAll(",", ""), tmpInput = "", len = curSelNums.length, i = 0; i < len; i++) tmpInput += isInt(curSelNums[i]) && i + 1 < len && isInt(curSelNums[i + 1]) ? curSelNums[i] + ",": curSelNums[i];
                    curSelNums = tmpInput
                } else {
                    for (curSelNums = curSelNums.replaceAll(" ", ","), nums = curSelNums.split(/[*;\n]+/), newInput = [], i = 0; i < nums.length; i++) arr = [],
                    chars = nums[i].split(","),
                    _.each(chars,
                    function(n) {
                        var t = $.trim(n);
                        t.length == 1 ? arr.push("0" + t) : arr.push(t)
                    }),
                    newInput.push(arr.join(","));
                    curSelNums = newInput.join(";")
                }
                if (curSelNums.length == 0) return alert("号码输入不能为空 -_-!!"),
                !1;
                if (strs = curSelNums.split(/[ *;\n]+/), strs.length > 1e4) return alertTip("单式最多支持10000注，你目前投了" + strs.length + "注"),
                !1;
                var numInfoIndex = 0,
                allSingleNums = "",
                singleBetCount = 0,
                singleStr = "",
                mRenXuanWeiBeiShu = -1,
                mRenXuanPrefix = "";
                for (h(typeId) && (e.find(".tp-ui-active").each(function() {
                    mRenXuanPrefix += $(this).parent().find("h4").text().substr(0, 1)
                }), mRenXuanWeiBeiShu = ComputeBetTotalNumber.ComputeNumber_SSC_RenXuanWeiBeiShu(ruleObj, mRenXuanPrefix), mRenXuanPrefix = "(" + mRenXuanPrefix + ")"), i = 0; i < strs.length; i++) if (tmp = strs[i], tmp != "") {
                    if (numInfoIndex++, tmpHtml = tmp, h(typeId)) {
                        if (!eval(selectedRegex).test((mRenXuanPrefix + tmpHtml).replace("(", "<").replace(")", ">"))) return alertTip("第{0}个号码[{1}]输入格式错误了或者任选位数选择错误，请参考玩法提示!".replaceFormat([numInfoIndex, tmp])),
                        !1
                    } else if (!eval(selectedRegex).test(tmpHtml)) return alertTip("第{0}个号码[{1}]输入格式错误了，请参考玩法提示!".replaceFormat([numInfoIndex, tmp])),
                    !1;
                    allSingleNums += "|" + tmpHtml,
                    singleStr = tmpHtml,
                    mRenXuanWeiBeiShu > -1 ? singleBetCount += mRenXuanWeiBeiShu: singleBetCount++
                }
                if (allSingleNums = allSingleNums.substr(1), !h(typeId) && gl.isShiShiCai && ruleObj.RuleName.indexOf("混选") != -1 && (allSingleNums = "|" + allSingleNums, allSingleNums = allSingleNums.replace(/\|0,0,0/g, ""), allSingleNums = allSingleNums.replace(/\|1,1,1/g, ""), allSingleNums = allSingleNums.replace(/\|2,2,2/g, ""), allSingleNums = allSingleNums.replace(/\|3,3,3/g, ""), allSingleNums = allSingleNums.replace(/\|4,4,4/g, ""), allSingleNums = allSingleNums.replace(/\|5,5,5/g, ""), allSingleNums = allSingleNums.replace(/\|6,6,6/g, ""), allSingleNums = allSingleNums.replace(/\|7,7,7/g, ""), allSingleNums = allSingleNums.replace(/\|8,8,8/g, ""), allSingleNums = allSingleNums.replace(/\|9,9,9/g, ""), allSingleNums = allSingleNums.substr(1), singleBetCount = allSingleNums.split("|").length, !allSingleNums || singleBetCount == 0)) return alert("智能过滤豹子号后，输入的号码为空 -_-!!"),
                !1;
                if (fLen = mRenXuanPrefix.length + allSingleNums.length, allowMaxLen = Math.pow(10, ruleObj.Length) * .8, mRenXuanWeiBeiShu > -1 && allowMaxLen < singleBetCount / mRenXuanWeiBeiShu || mRenXuanWeiBeiShu == -1 && allowMaxLen < singleBetCount) return alertTip("当前单式最多可投" + allowMaxLen + "注，你目前投了" + singleBetCount + "注"),
                !1;
                if (singleBetCount > 1e4) return alertTip("单式最多支持10000注，你目前投了" + singleBetCount + "注"),
                !1;
                if (fLen > 21e3) {
                    var fNumsAttr = allSingleNums.split(/[|]/),
                    fOneCount = parseInt((21e3 - mRenXuanPrefix.length * 3) / (singleStr.length + 1)),
                    fTimes = parseInt(singleBetCount / fOneCount),
                    fLastCount = singleBetCount - fOneCount * fTimes,
                    fSelNums,
                    fItem;
                    for (k = 0; k < fTimes; k++) fSelNums = mRenXuanWeiBeiShu > -1 ? mRenXuanPrefix + fNumsAttr.slice(k * fOneCount, (k + 1) * fOneCount).join("|") : fNumsAttr.slice(k * fOneCount, (k + 1) * fOneCount).join("|"),
                    fItem = {
                        ruleId: ruleId,
                        ruleName: ruleObj.DisplayName,
                        selNums: fSelNums,
                        subSelNums: fSelNums.maxShow(12),
                        price: gl.price,
                        betNum: fOneCount,
                        jsOdds: ruleObj.UserOdds * 1 + ruleObj.UserPlusOdds * 1,
                        itemTimes: 1
                    },
                    selList.push(fItem);
                    fLastCount > 0 && (fSelNums = mRenXuanWeiBeiShu > -1 ? mRenXuanPrefix + fNumsAttr.slice(singleBetCount - fLastCount).join("|") : fNumsAttr.slice(singleBetCount - fLastCount).join("|"), fItem = {
                        ruleId: ruleId,
                        ruleName: ruleObj.DisplayName,
                        selNums: fSelNums,
                        subSelNums: fSelNums.maxShow(12),
                        price: gl.price,
                        betNum: fLastCount,
                        jsOdds: ruleObj.UserOdds * 1 + ruleObj.UserPlusOdds * 1,
                        itemTimes: 1
                    },
                    selList.push(fItem))
                } else allSingleNums = mRenXuanPrefix + allSingleNums,
                item = {
                    ruleId: ruleId,
                    ruleName: ruleObj.DisplayName,
                    selNums: allSingleNums,
                    subSelNums: allSingleNums.maxShow(12),
                    price: gl.price,
                    betNum: singleBetCount,
                    jsOdds: ruleObj.UserOdds * 1 + ruleObj.UserPlusOdds * 1,
                    itemTimes: 1
                },
                selList.push(item);
                $singleNumberInput.val("")
            } else {
                if ($allSels = $betPanel.find(".numBallClass.active"), $allSels.length <= 0) return alert("请先选择号码 -_-!!"),
                !1;
                if (allSelNums = "", hasAlert = !1, $betPanel.find(".bc-sub:visible").each(function() {
                    var i = $(this).find(".numBallClass.active"),
                    t,
                    n;
                    if (i.length <= 0 && ruleObj.MatchType != "定位胆" && ruleObj.RuleName != "自由双面") return t = $(this).find("div.title>span").text(),
                    alert("[{0}]号码未选择!".replaceFormat([t.substr(0, t.length - 1)])),
                    hasAlert = !0,
                    !1;
                    n = "",
                    i.each(function() {
                        n += " " + $(this).find("span:eq(0)").text()
                    }),
                    n = n.substr(1),
                    allSelNums += "," + n
                }), allSelNums = allSelNums.substr(1), hasAlert) return ! 1;
                if (!checkDistinct(allSelNums, r)) return alertTip("请选择正确的号码进行投注！"),
                !1;
                if (tmp = allSelNums, betNum = 0, gl.isShiShiCai ? (tmp = allSelNums.replaceAll(" ", ""), h(typeId) ? (prefix = "", e.find(".tp-ui-active").each(function() {
                    prefix += $(this).parent().find("h4").text().substr(0, 1)
                }), mTempAllNums = "(" + prefix + ")" + allSelNums, betNum = ComputeBetTotalNumber.ComputeNumber(ruleObj, mTempAllNums)) : betNum = ComputeBetTotalNumber.ComputeNumber(ruleObj, allSelNums)) : betNum = ComputeBetTotalNumber.ComputeNumber(ruleObj, allSelNums), tmpHtml = tmp, h(typeId) && (prefix = "", renXuanCount = 0, e.find(".tp-ui-active").each(function() {
                    renXuanCount++,
                    prefix += $(this).parent().find("h4").text().substr(0, 1)
                }), tmpHtml = "(" + prefix + ")" + tmpHtml, ruleSubName = ruleObj.RuleName.substr(0, 2), checks = 2, ruleSubName == "任三" ? checks = 3 : ruleSubName == "任四" && (checks = 4), renXuanCount < checks)) return alertTip(ruleSubName + "至少需选择" + checks + "位位数!"),
                !1;
                if (!eval(selectedRegex).test(tmpHtml.replace("(", "<").replace(")", ">"))) return alertTip("选号有误哦，请参考玩法提示!"),
                !1;
                item = {
                    ruleId: ruleId,
                    ruleName: ruleObj.DisplayName,
                    selNums: tmpHtml,
                    subSelNums: tmpHtml.maxShow(12),
                    price: gl.price,
                    betNum: betNum,
                    jsOdds: ruleObj.UserOdds * 1 + ruleObj.UserPlusOdds * 1,
                    itemTimes: 1
                },
                selList.push(item)
            }
        } else {
            if (($allSels = $betPanel.find(".numBallClass.active"), $allSels.length <= 0) || (parseSelNum = function(n, t) {
                for (var t = t || n.attr("ruleid"), r = n.find("span:eq(0)").text(), u, f, i = 0; i < selList.length; i++) selList[i].ruleId == t && (r = selList[i].selNums + " " + r, selList.pop(selList[i]));
                u = GetDataDetailById(t, gl.rules, "RuleId"),
                f = {
                    ruleId: t,
                    ruleName: u.DisplayName,
                    selNums: r,
                    subSelNums: r.maxShow(12),
                    price: gl.price,
                    betNum: 1,
                    jsOdds: u.UserOdds * 1 + u.UserPlusOdds * 1,
                    itemTimes: 1
                },
                selList.push(f)
            },
            curBetTypeId == "813" ? $("#n2n-panel").find("li.active").each(function() {
                var n = $(this).attr("ruleid");
                $allSels.each(function() {
                    var t = $(this);
                    t.hasClass("notSelNum") || parseSelNum(t, n)
                })
            }) : $allSels.each(function() {
                var n = $(this);
                parseSelNum(n)
            }), selList.length <= 0)) return alert("请先选择号码 -_-!!"),
            !1;
            for (k = 0; k < selList.length; k++) {
                if (ruleObj = GetDataDetailById(selList[k].ruleId, gl.rules, "RuleId"), ruleObj.RuleName == "二同号单选" && (tmpHtml = selList[k].selNums, selList[k].selNums = (tmpHtml.substring(0, tmpHtml.indexOf("s") - 1) + "," + tmpHtml.substring(tmpHtml.indexOf("s"), tmpHtml.length)).replaceAll("s", ""), selList[k].subSelNums = selList[k].selNums.maxShow(12)), subSelectedRegex = "../" + ruleObj.SelectedRegex + "/", !eval(subSelectedRegex).test(selList[k].selNums)) return alertTip("选号有误哦，请参考玩法提示!"),
                !1;
                betNum = ComputeBetTotalNumber.ComputeNumber(ruleObj, selList[k].selNums),
                selList[k].betNum = betNum
            }
        }
        html = _selectNumsTmpl({
            data: selList
        }),
        $selectNumsContainer.append(html),
        $("input.betting-multiple").tpuiNumber({
            type: "depart"
        }),
        $selectNumsBody.scrollTop(100),
        u(1),
        gl.lotteryId == EnumLotteryType.ggc ? (gl.bet.ggcBonusMode == "now" && (BetNumberAndProfitLossHelper.Clear(), betItemCount = $selectNumsContainer.find("li").length, betItemCount > 1), gl.ggc.reFillTopScratch(), $submitBtn.click()) : BetNumberAndProfitLossHelper.Clear(),
        gl.lotteryId == EnumLotteryType.ggc && gl.bet.ggcBonusMode == "later" || $allSels && $allSels.removeClass("active")
    }), dt = $("#randomSelNumInput"), w = $("#randomSelBtn"), w.bind("click",
    function() {
        if (gl.bet.betMode != 0 && $selectNumsContainer.find("li").length >= 1) return alertTip("一次追号只允许一条投注项！"),
        !1;
        gl.lotteryId == EnumLotteryType.ggc && $selectNumsContainer.empty(),
        BetPauseHelper.doPause(dt.val()),
        u(1),
        gl.lotteryId == EnumLotteryType.ggc && (gl.bet.ggcBonusMode = "later", gl.ggc.reFillTopScratch(), $submitBtn.click())
    }), yt = $("#hadCheckedWeiTuoId"), lt = function() {
        function t(n) {
            var i = /^[0-9]{0,6}$/,
            t;
            return n === "" || !i.exec(n) || parseFloat(n) == 0 ? t = "倍数最多6位正整数!": ""
        }
        $submitBtn.bind({
            click: function() {
                var nt, l, k, a, h, e, v, i;
                if (!yt[0].checked) return alert("未同意《投注协议》!"),
                !1;
                if (nt = parseFloat($.trim($("#userGamePointId").html())), nt <= 0) return alert("游戏分数已用完，请先充值！"),
                !1;
                if (l = !1, k = $(this).hasClass("locked"), k) return gl.userInfo.ReturnPoint >= .13 ? alert("只有1960以下的玩家才可以投注！") : alert("本期投注已经结束，请稍后投注到下一期中！"),
                !1;
                var s = [],
                b = $selectNumsContainer.find("li"),
                c = "";
                for (a = 0; a < b.length; a++) {
                    var u = $(b[a]),
                    p = u.find(".betting-multiple").val(),
                    w = t(p);
                    if (w != "") return u.find(".betting-multiple").focus(),
                    alert(w),
                    !1;
                    c += " " + u.find(".bof-tb-mode").text();
                    var d = u.find(".bof-tb-method>i"),
                    tt = d.attr("pricevalue"),
                    y = $.trim(d.html()),
                    it = {
                        ruleId: u.attr("ruleid"),
                        betNum: u.find(".bof-tb-count>em").text(),
                        itemTimes: p * tt,
                        selNums: u.find(".bof-tb-number").attr("allnums"),
                        jsOdds: u.attr("jsodds"),
                        priceMode: y == "元" ? 0 : y == "角" ? 1 : 2
                    };
                    s.push(it)
                }
                if (s.length <= 0) return alert("没有可提交的投注项!"),
                !1;
                if (h = $("#curIssueNumberId").text(), h == "正在获取奖期...") return alert("正在获取奖期，请稍后再试!"),
                !1;
                if (e = [n, h, $totalTimesInput.val(), s, gl.bet.betMode, 1, "", ""], gl.lotteryId == EnumLotteryType.ggc && (e[7] = gl.bet.ggcBonusMode), gl.bet.betMode > 0) {
                    if (v = [], $(".trace-checkbox.checked").each(function() {
                        var n = $(this).closest("tr"),
                        t = {
                            issueNumber: n.attr("issuenumber"),
                            times: n.find(".traceTimes").val()
                        };
                        v.push(t)
                    }), v.length <= 0) return alert("您还没有选择当前追号购买方式的追号项!"),
                    !1;
                    e[5] = vi[0].checked ? 1 : 0,
                    e[6] = v
                }
                i = '<div class="module order-base table ta-center">',
                i += "<table>",
                gl.lotteryId != EnumLotteryType.ggc && (i += "<tr>", i += "<td><span>购买方式：</span></td>", i += '<td><span class="fc-red">{5}</span></td>', i += "<td><span>期号：</span></td>", i += "<td><span>{6}</span></td>", i += "</tr>"),
                i += "<tr>",
                i += "<td><span>彩种：</span></td>",
                i += '<td><span class="fc-blue">{0}</span></td>',
                i += "<td><span>玩法：</span></td>",
                i += '<td><span title="{1}">{2}</span></td>',
                i += "</tr>",
                i += "<tr>",
                i += "<td><span>投注项：</span></td>",
                i += '<td><span class="fc-green">{3} 项</span></td>',
                i += "<td><span>投注项金额：</span></td>",
                i += '<td><span class="fc-orgen">{4} 元</span></td>',
                i += "</tr>",
                gl.bet.betMode > 0 && (i += "<tr>", i += "<td><span>追号期数：</span></td>", i += '<td><span class="fc-green">{7} 期</span></td>', i += "<td><span>追号总金额：</span></td>", i += '<td><span class="fc-orgen">{8} 元</span></td>', i += "</tr>"),
                i += "</table>",
                i += "</div>",
                i = gl.bet.betMode > 0 ? i.replaceFormat([gl.lotteryName, c, c.maxShow(7), s.length, o(), gl.bet.betMode == 1 ? "倍数追号": "高级追号", h, e[6].length, g.text()]) : i.replaceFormat([gl.lotteryName, c, c.maxShow(7), s.length, o(), "普通投注", h]),
                $("<div>").attr({
                    title: "订单确认",
                    "data-icon": "order"
                }).append(i).tpuiDialog({
                    pushTo: "#tmpDialogWrap",
                    autoOpen: !0,
                    onClose: function() {},
                    buttons: {
                        "取消": function(n) {
                            n._close(!0)
                        },
                        "提交订单": function(n) {
                            if (l) return alert("由于网络延迟，上一次投注还没提交完成。建议继续等待，或者刷新页面从最近投注记录里确认是否已经提交投注！"),
                            !1;
                            ctx.postTokenEx({
                                url: "../Bet/CqcSubmit",
                                data: EnCryptJsonParams(e),
                                beforeSend: function() {
                                    if (l = !0, n._close(!0), gl.lotteryId == EnumLotteryType.ggc && gl.bet.ggcBonusMode == "now" ? gl.ggc.waitingBouns() : $("body").tpuiLoading("_show"), !gl.isLogined) {
                                        var r = {
                                            lotteryId: gl.lotteryId,
                                            totalTimes: $("#totalTimesInput").val(),
                                            betObjList: e[3]
                                        };
                                        gl.betAssist.userFav.saveTempFav(JSON.stringify(r))
                                    }
                                },
                                complete: function() {
                                    l = !1,
                                    $("body").tpuiLoading("_hide")
                                },
                                success: function(n) {
                                    var t, u, i;
                                    n.Ok == 1 ? (gl.cookie.lastLotteryBetType[gl.lotteryId] = r.filter(".active").attr("bettype"), gl.cookie.set("lastLotteryBetType", gl.cookie.lastLotteryBetType), refreshGamePoint(FormatNumber(n.gamePoint, 2)), $selectNumsContainer.html(""), $totalBets.html("0"), $totalAmount.html("0.00"), t = "您的订单已经提交成功，请注意系统通知，祝您游戏愉快！", u = "订单提交成功", gl.lotteryId == EnumLotteryType.ggc ? (t = "您的订单已经提交成功,祝您游戏愉快！", gl.bet.ggcBonusMode == "now" ? gl.ggc.topOpenBonus(n.BonusNum, n.BonusTotalNumber, n.BonusAmount, n.BetAmount) : alertTip(t, u), gl.renderRecentBetOrderList(n.Orders)) : (f(), $.appAlert({
                                        useTitle: "投注结果",
                                        title: u,
                                        message: t
                                    },
                                    "success"), _recentData = BetOrderDataToArray(n.Orders), i = _recentTmpl({
                                        data: _recentData
                                    }), $("#recentContainerId").html(i), gl.bet.betMode > 0 && (i = _traceListTmpl({
                                        data: n.rightTraces
                                    }), $("#rightTraceListId").html(i), $("#rightTraceListNoData").hide()))) : (gl.lotteryId == EnumLotteryType.ggc && (gl.ggc.topOpenBonus("", -1, 0, 2), $selectNumsContainer.html("")), n.Tip.indexOf("游戏分数不够") > -1 ? $.appConfirm({
                                        useTitle: "投注提示",
                                        title: "您的游戏分数不够本次投注,是否现在充值?"
                                    },
                                    function(n) {
                                        n && (location.href = "#memberrecharge")
                                    }) : _.delay(function() {
                                        $.appAlert({
                                            useTitle: "投注结果",
                                            title: "订单提交失败",
                                            message: n.Tip
                                        },
                                        "warning")
                                    },
                                    1e3))
                                }
                            })
                        }
                    }
                })
            }
        })
    },
    lt(), gl.needTrace) {
        var ct = $("#timesTraceOptionId"),
        kt = $(".advanceTraceOption"),
        tt = $("#traceListTableId"),
        gt = $(".trace-number-table"),
        c = $("#traceContainerId"),
        g = $("#traceMoneyId"),
        vi = $("#traceStopWhenBonusInput"),
        ai = $(".trace-number-confirm>button"),
        li = $("#traceInitInput"),
        ci = $("#traceSepInput"),
        hi = $("#traceTimesInput"),
        si = $("#traceIssuesInput"),
        ot = $("#traceAdvanceInitInput"),
        oi = $("#traceLimitRateInput"),
        ei = $("#traceLimitAmountInput"),
        pi = $("#myTraceTotalAmountInput"),
        fi = $("#traceAdvanceIssueInput"),
        ft = $("input[name=trace-radio-a]");
        c.find(".trace-text").tpuiText(),
        c.find(".trace-select").tpuiSelect(),
        c.find(".trace-checkbox").tpuiCheckbox(),
        c.find(".trace-switch").tpuiSwitch(),
        i = !1;
        function f() {
            gl.needTrace && $(".trace-checkbox.checked").each(function() {
                var n = $(this).closest("tr"),
                t = n.find(".traceTimes");
                t.attr("disabled", "disabled"),
                t.parent().parent().addClass("tp-ui-form-disabled"),
                $(this).removeClass("checked").removeAttr("checked"),
                n.find("td>div.tp-ui-checkbox.tp-ui-active").removeClass("tp-ui-active"),
                t.val(1),
                n.find(".traceUnitPrice").html("0.00"),
                n.find(".jiLeiAmount").html("--"),
                n.find(".jiLeiProfit").html("--"),
                n.find(".jiLeiProfitPercent").html("--"),
                g.text("0.00")
            })
        }
        function l(n, t) {
            var r = 0,
            e = 0,
            h = 0,
            p = o(),
            f,
            i,
            y;
            if (gl.bet.betMode == 2) {
                var s = "",
                c = 0,
                u = "",
                l = 0,
                a = $selectNumsContainer.find("li"),
                v = a.length;
                for (gl.bet.difSelItem = 0, f = 0; f < v; f++) if (i = $(a[f]), s == "") s = i.attr("ruleid"),
                c = i.attr("jsodds"),
                u = i.find(".betting-multiple").val(),
                l = i.find(".bof-tb-method>i").attr("pricevalue");
                else if (s != i.attr("ruleid")) {
                    gl.bet.difSelItem = 1;
                    break
                } else if (u != i.find(".betting-multiple").val()) {
                    gl.bet.difSelItem = 2;
                    break
                }
                t || (gl.bet.difSelItem == 1 ? alertTip("您选择的投注项多种玩法，盈利和盈利率将以--显示!", "选号提醒") : gl.bet.difSelItem == 2 && alertTip("您选择的投注项的倍数不一致，盈利和盈利率将以--显示!", "选号提醒")),
                y = 1,
                u = u * gl.price * v * l
            }
            $(".trace-checkbox.checked").each(function() {
                var t = $(this).closest("tr"),
                i = t.find(".traceUnitPrice"),
                f = t.find(".traceTimes").val();
                n && i.text((1 * p * f).toFixed(2)),
                r += i.text() * 1,
                gl.bet.betMode == 2 && (t.find(".jiLeiAmount").html(r.toFixed(2)), gl.bet.difSelItem ? (t.find(".jiLeiProfit").html("--"), t.find(".jiLeiProfitPercent").html("--")) : (e = y * c * u * f - r, t.find(".jiLeiProfit").html(e.toFixed(2)), h = e * 100 / r, t.find(".jiLeiProfitPercent").html(h.toFixed(2) + "%")))
            }),
            g.text(r.toFixed(2))
        }
        ft.bind("change",
        function() {
            ft.closest("label").removeClass("active"),
            $(this).closest("label").addClass("active")
        }),
        $(".trace-checkbox").die("change").live("change",
        function() {
            var n = $(this).closest("tr"),
            t = n.find(".traceTimes"),
            r;
            $(this)[0].checked ? (n.find(".traceTimes").removeAttr("disabled"), t.parent().parent().removeClass("tp-ui-form-disabled"), $(this).addClass("checked"), r = o(), t.val() == "0" && t.val(1), n.find(".traceUnitPrice").html((t.val() * r * 1).toFixed(2))) : (t.attr("disabled", "disabled"), t.parent().parent().addClass("tp-ui-form-disabled"), $(this).removeClass("checked"), t.val(1), n.find(".traceUnitPrice").html("0.00"), n.find(".jiLeiAmount").html("--"), n.find(".jiLeiProfit").html("--"), n.find(".jiLeiProfitPercent").html("--")),
            i || l(0, 1)
        }),
        $(".traceTimes").die("change").live("change",
        function() {
            var n = o();
            $(this).closest("tr").find(".traceUnitPrice").html(($(this).val() * n * 1).toFixed(2)),
            l()
        });
        function ht(n) {
            var t = _traceOrderTmpl({
                data: n
            });
            tt.html(t),
            $(".trace-text").tpuiText(),
            $(".trace-checkbox").tpuiCheckbox(),
            gl.bet.betMode == 1 ? ($(".advanceTraceClass").hide(), $(".timesTraceClass").show()) : ($(".timesTraceClass").hide(), $(".advanceTraceClass").show())
        }
        et = function() {
            $betMode.on({
                change: function() {
                    if (gl.bet.betMode = $betMode.filter(":checked").val(), gl.bet.betMode != 0) {
                        tt.find("tr").length < 20 && ctx.postToken("../Bet/GetTraceList/" + gl.lotteryId, EnCryptJsonParams({
                            total: 60
                        }),
                        function(n) {
                            ht(n)
                        }),
                        $totalTimesInput.val(1),
                        $totalTimesInput.trigger("changekc"),
                        f(),
                        $totalTimesSpan.hide(),
                        c.stop(!0, !0).slideDown(),
                        gl.bet.betMode == 1 ? (kt.hide(), ct.show(), $(".advanceTraceClass").hide(), $(".timesTraceClass").show()) : (ct.hide(), kt.show(), $(".timesTraceClass").hide(), $(".advanceTraceClass").show());
                        var n = $selectNumsContainer.find("li");
                        n.length <= 0 ? $.appConfirm({
                            useTitle: "追号提示",
                            title: "你还未选择号码，是否机选1注试试运气？"
                        },
                        function(n) {
                            n && w.trigger("click")
                        }) : n.length > 1 && alert("您当前有" + n.length + "条投注项！一次追号只允许一条投注项，请删除多余投注项！")
                    } else c.stop(!0, !0).slideUp(),
                    f(),
                    $totalTimesSpan.show()
                }
            })
        },
        et();
        function st() {
            function a(t) {
                for (var s = 0,
                b, h, v, k, d = $selectNumsContainer.find("li"), c, a, o, w, e = 0; e < d.length; e++) c = $(d[e]),
                h = c.find(".betting-multiple").val(),
                k = c.find(".bof-tb-method>i").attr("pricevalue"),
                h *= k,
                v = c.attr("jsodds"),
                s < h * v && (s = h * v, b = e + 1);
                for (f(), s *= gl.price, a = 0, o = r, i = !0, e = 0; e < n; e++) {
                    if (u * s * o > gl.maxBonus) {
                        alert("第" + b + "条投注项的追号可能中奖金额超过30万，已中止!");
                        return
                    }
                    w = t.eq(e),
                    w.find(".traceTimes").val(o),
                    w.find(".trace-checkbox").trigger("click"),
                    a++,
                    a >= y && (o = o * p, a = 0)
                }
                i = !1,
                l()
            }
            function v(s) {
                for (var ft = "",
                w = "",
                d = 0,
                lt = 0,
                at = $selectNumsContainer.find("li"), ct = at.length, g, st, p, nt, a, rt, ht, k, it, ut, tt, et, y, b, v = 0; v < ct; v++) if (g = $(at[v]), ft == "") ft = g.attr("ruleid"),
                w = g.find(".betting-multiple").val(),
                lt = g.find(".bof-tb-method>i").attr("pricevalue"),
                w *= lt,
                d = g.attr("jsodds");
                else {
                    if (ft != g.attr("ruleid")) {
                        alert("您选择了多种玩法，暂不支持生成高级追号方案，请选择单玩法投注项，或者手动编辑追号内容!");
                        return
                    }
                    if (w != g.find(".betting-multiple").val()) {
                        alert("您选择的投注项的倍数不一致，暂不支持生成高级追号方案，请选择一致的投注项倍数，或者手动编辑追号内容!");
                        return
                    }
                }
                if (f(), st = $("#trace-profit>label.active").attr("avalue"), w = w * gl.price * ct, p = t, nt = d * w, nt - p <= 0 && alert("当前下注方式有可能没有盈利!"), a = r, rt = gl.maxBonus / nt, st == 0) {
                    for (e = oi.val() * 1, e = e / 100, a = (e + 1) / (nt / p), a < r ? a = r: parseInt(a) < a && (a = parseInt(a) + 1), p = t * a, i = !0, v = 0; v < n; v++) {
                        if (u * d * w * a > gl.maxBonus) {
                            alert("单注追号可中奖金额超过30万，已中止!");
                            break
                        }
                        for (b = s.eq(v), b.find(".traceTimes").val(a), b.find(".trace-checkbox").trigger("click"), k = -1, y = a; y < rt; y++) if (it = u * d * w * y / (p + t * y) - 1, it >= e) {
                            k = y;
                            break
                        }
                        if (k == -1 && v < n - 1) {
                            alert("追号可中奖金额有可能超过30万，追号方案已中止!");
                            break
                        }
                        a = k,
                        p = p + t * a
                    }
                    i = !1
                } else if (st == 1) {
                    for (h = ei.val() * 1, ht = nt - p, a = h / ht, a < r ? a = r: parseInt(a) < a && (a = parseInt(a) + 1), p = t * a, i = !0, v = 0; v < n; v++) {
                        if (u * d * w * a > gl.maxBonus) {
                            alert("单注追号可中奖金额超过30万，已中止!");
                            return
                        }
                        for (b = s.eq(v), b.find(".traceTimes").val(a), b.find(".trace-checkbox").trigger("click"), k = -1, y = a; y < rt; y++) if (it = u * d * w * y - (p + t * y), it >= h) {
                            k = y;
                            break
                        }
                        if (k == -1 && v < n - 1) {
                            alert("追号可中奖金额有可能超过30万，追号方案已中止!");
                            break
                        }
                        a = k,
                        p = p + t * a
                    }
                    i = !1
                } else {
                    if (ut = o(), c = pi.val() * 1, c < t) {
                        alert("全程金额小于单倍投注金额:{0} !".replaceFormat([t, 1]));
                        return
                    }
                    for (tt = 0, et = 0, y = 0; y < n; y++) et = Math.pow(2, y),
                    tt += et;
                    if (a = parseInt(c / (tt * ut)), a <= 0) {
                        alert("全程金额不够追{0}期，最低金额需要{1}元!".replaceFormat([n, tt * ut]));
                        return
                    }
                    for (ot.val(a), i = !0, v = 0; v < n; v++) {
                        if (u * d * w * a > gl.maxBonus) {
                            alert("单注追号可中奖金额超过30万，已中止!");
                            break
                        }
                        b = s.eq(v),
                        b.find(".traceTimes").val(a),
                        b.find(".trace-checkbox").trigger("click"),
                        a = a * 2
                    }
                    i = !1
                }
                l()
            }
            var r, y, p, e, h, c, n, t, u, s;
            if (gl.bet.betMode == 1 ? (r = li.val() * 1, y = ci.val() * 1, n = si.val() * 1, p = hi.val() * 1) : (r = ot.val() * 1, n = fi.val() * 1), n > 120) return alert("追号期数不能超过120期!"),
            !1;
            u = 1,
            t = o(),
            s = $("#traceListTableId>tr"),
            s.length < n ? ctx.postToken("../Bet/GetTraceList/" + gl.lotteryId, EnCryptJsonParams({
                total: n < 60 ? 60 : n
            }),
            function(n) {
                ht(n),
                gl.bet.betMode == 1 ? a($("#traceListTableId>tr")) : v($("#traceListTableId>tr"))
            }) : gl.bet.betMode == 1 ? a(s) : v(s),
            gt.scrollTop(0)
        }
        ai.click(function() {
            var n = $selectNumsContainer.find("li");
            n.length <= 0 ? $.appConfirm({
                useTitle: "追号提示",
                title: "你还未选择号码，是否机选1注试试运气？"
            },
            function(n) {
                n && w.trigger("click"),
                st()
            }) : n.length > 1 ? alert("一次追号只允许一条投注项，请删除多余投注项！") : st()
        })
    }
    gl.lotteryId != EnumLotteryType.ggc && ii(function(n, t, i) {
        t = parseInt(t / 1e3) + 1,
        gl.doLoop({
            loopInt: t,
            backFunc: function() {
                $("#banIssueId").html('第 <label style="color:red;">{0}</label> 期已截止,</br>当前期为 <label style="color:red;">{1}</label> 期。</br>投注时请注意期号!'.replaceFormat([n, i])),
                gl.baseBettingBanTips._show()
            }
        })
    }),
    nt = function(t) {
        t = gl.isLogined ? t: 0,
        ctx.postToken("../Bet/RefreshHistoryData", EnCryptJsonParams({
            lotteryId: n,
            needRecent: t
        }),
        function(n) {
            $("#rank-topic .tp-ui-marquee-content-list").css({
                height: "860px"
            }),
            n.recentData != "no_need" && n.recentData && n.recentData.length > 0 && (_recentData = BetOrderDataToArray(n.recentData), html = _recentTmpl({
                data: _recentData
            }), $("#recentContainerId").html(html), gl.lotteryId == EnumLotteryType.ggc && gl.ggc.initHistoryScratch()),
            initOrderDetailClick()
        })
    },
    gl.refreshHistoryData = nt,
    gl.isLogined && nt(1),
    ctx.receiveSocketLottery = ti,
    ctx.receiveSocketAward = ni,
    yi(),
    $("#ticket-base-info>.title>h4>span").html(gl.lotteryDescription[gl.lotteryId]),
    $("#refreshRightTraceId").click(function() {
        if (!gl.isLogined) return alertTip("你尚未登录!"),
        !1;
        ctx.postToken("../Bet/GetRightTraceList", {
            info: "ax"
        },
        function(n) {
            if (n.length > 0) {
                var t = _traceListTmpl({
                    data: n
                });
                $("#rightTraceListId").html(t),
                $("#rightTraceListNoData").hide()
            }
            alertTip("刷新完成!")
        })
    }),
    gl.isLogined ? $("#refreshBettingHistory").bind("click",
    function() {
        ctx.postToken("../Bet/GetRecentBetOrderRecord/" + gl.lotteryId, {
            info: "ax"
        },
        function(n) {
            _recentData = BetOrderDataToArray(n);
            var t = _recentTmpl({
                data: _recentData
            });
            $("#recentContainerId").html(t),
            alertTip("刷新完成!")
        })
    }) : $("#rightTraceListH4").html("您尚未登陆！")
}
function GetDataDetailById(n, t, i, r) {
    var f, u;
    if (t) if (f = t.length, i) {
        for (u = 0; u < f; u++) if (n == t[u][i]) return t[u]
    } else for (r == undefined && (r = 0), u = 0; u < f; u++) if (n == t[u][r]) return t[u];
    return null
}
function BetOrderDataToArray(n) {
    for (var o = [], v = n.length, u, e, a, r = 0; r < v; r++) {
        var t = n[r],
        s = t.Odds * 1 + t.PlusOdds * 1,
        f = t.TotalAmount * 1,
        h = t.TotalBet * 1,
        y = FormatNumber(f / (h * gl.price), 2),
        c = t.BonusTotalNumber * 1,
        l = (t.BonusAmount * 1).toFixed(2),
        i = "未开奖";
        t.OrderStatus == 10 ? i = "已撤单": c != -1 && (u = ((l - f) * 1).toFixed(2), i = u > 0 ? "盈": u < 0 ? "亏": "平局", i = u + "(" + i + ")"),
        e = gl.lotteryId == EnumLotteryType.ggc ? t.BoNums: t.BonusNumber ? t.BonusNumber: "",
        a = [t.EncodeId, t.LotteryName, t.RuleName, s * 2 + " / " + s, t.IssueNumber, t.BetContent, f, l, t.Mark, t.InsertDate, c, y, h, i, t.LoginName, e, t.BetContent.maxShow(50), t.LotteryCode, t.OrderStatus, t.BatchNo, t.ClassName, t.Id, e.maxShow(25), i == "未开奖" ? "--": i],
        o.push(a)
    }
    return o
}
function Top10BetOrderDataToArray(n) {
    var u = [],
    r,
    t,
    i;
    if (n) for (r = null, t = 0; t < n.length; t++) if (n[t]) {
        for (i = 0; i < n[t].length; i++) r = GetDataDetailById(n[t][i].BetRuleId, gl.rules, "RuleId"),
        r && (n[t][i].RuleName = r.DisplayName ? r.DisplayName: r.RuleName, n[t][i].LotteryName = gl.lotteryName, n[t][i].LoginName = "匿名", n[t][i].InsertDate = NetToJsDateTime(n[t][i].CreateTime), n[t][i].ClassName = i == 0 ? "wr-a": i == 1 ? "wr-b": i == 2 ? "wr-c": "");
        u[t] = BetOrderDataToArray(n[t])
    }
    return u
}
function initOrderDetailClick() {
    $("#recentContainerId .bl-order-id, .top10OrderDetail,.ggc-ta-betting[t=0]").die("click").live("click",
    function() {
        var i = $(this).hasClass("top10OrderDetail"),
        t = "",
        n = "",
        r;
        i ? (t = $(this).attr("EnOrderID"), n = GetDataDetailById(t, _top10Data[0]), n || (n = GetDataDetailById(t, _top10Data[1]))) : (t = $.trim($(this).closest("tr").find(".bl-order-id").text()), n = GetDataDetailById(t, _recentData));
        try {
            r = !i && n[10] == -1 && n[18] != "10",
            gl.lotteryId == EnumLotteryType.ggc && $(this).hasClass("ggc-ta-betting") ? cancelOrder(n, null, $(this).closest("tr").attr("orderid")) : r ? GameRecordGetOrderData(n[0]) : ShowBetOrderDetail(n)
        } catch(u) {}
    })
}
function cancelOrder(n, t) {
    var r = '确定撤销当前订单编号为<label style="color:red">{0}</label>的订单？'.replaceFormat([n[0]]);
    gl.lotteryId == EnumLotteryType.ggc && (r = '确定撤销期号为<label style="color:red">{0}</label>的所有订单吗？'.replaceFormat([n[4]])),
    $.appConfirm({
        useTitle: "撤单",
        title: "撤销投注订单",
        titleSub: r
    },
    function(i) {
        i ? ctx.postTokenEx({
            url: "../Bet/CancelOrder",
            data: EnCryptJsonParams({
                orderId: n[0],
                issueNumber: n[4],
                lotteryId: n[17]
            }),
            beforeSend: function() {
                $("body").tpuiLoading("_show"),
                t && t._close(!0)
            },
            complete: function() {
                $("body").tpuiLoading("_hide")
            },
            success: function(n) {
                n.result == "OK" ? (refreshGamePoint(), setTimeout(function() {
                    alert("撤单成功!")
                },
                500), gl.lotteryId == EnumLotteryType.ggc ? gl.renderRecentBetOrderList(n.orders) : $("#refreshBettingHistory").length > 0 && $("#refreshBettingHistory").trigger("click")) : alert("撤单失败，原因:" + n)
            }
        }) : t && t._close(!0)
    })
}
function ShowBetOrderDetail(n, t) {
    var i, f;
    if (n[1] == "快乐扑克") {
        var e = n[15],
        o = BonusNumHelper.pkSuitFilter(e).split(","),
        u = BonusNumHelper.pkNumGetOnlyNum(e).split(","),
        r = '<label style="font-size: 18px;font-weight: bold;">';
        for (i = 0; i < o.length; i++) switch (o[i]) {
        case "1":
            r += "<span  style='color:black;'>♠" + u[i] + "</span>";
            break;
        case "2":
            r += "<span  style='color:red;'>♥" + u[i] + "</span>";
            break;
        case "3":
            r += "<span  style='color:black;'>♣" + u[i] + "</span>";
            break;
        case "4":
            r += "<span  style='color:red;'>♦" + u[i] + "</span>"
        }
        r = r + "</label>",
        n[22] = r,
        n[15] = ""
    }
    f = _betOrderDetailHtml.replaceFormat(n),
    t && (f = f.replace("###", n[19]).replace('style="display:none;"', ""));
    var s = {
        pushTo: "#tmpDialogWrap",
        autoOpen: !0,
        width: 480,
        head: !1,
        onClose: function(n) {
            n._close(!0)
        }
    },
    c = n[17] == 5 || n[17] == 6,
    h = $("<div>").addClass("module order-info-inner").attr({
        title: "订单详情",
        "data-icon": "order-info"
    }).append(f).appendTo($("body"));
    c || n[10] != -1 || n[18] == "10" || gl.lotteryId == EnumLotteryType.ggc || (s.buttons = {
        "撤单": function(t) {
            h.tpuiDialog("_close"),
            cancelOrder(n, t)
        }
    }),
    h.tpuiDialog(s)
}
function GameRecordGetOrderData(n, t) {
    t == undefined && (t = ""),
    ctx.postToken("../Bet/GetBetOrderDetail", EnCryptJsonParams({
        orderId: n,
        batchNo: t
    }),
    function(n) {
        var i = BetOrderDataToArray(n.rows),
        r;
        i.length >= 1 ? (r = t != "" && i.length > 1, ShowBetOrderDetail(i[0], r)) : alert("没有符合的数据，系统不支持查询过早的订单详情!")
    })
}
function init_betCqc(n) {
    init_betComm(n)
}
function init_regist() {
    var t = $(".form-table"),
    n;
    t.find(".signin-form-text").tpuiText(),
    t.find(".signin-form-radio").tpuiRadio(),
    $(".signin-form-submit, .signin-form-button").tpuiButton(),
    t.find(".signin-form-submit").tpuiButton(),
    $(".signin-form-switch").tpuiSwitch(),
    $("#UserPassword").tpuiPasswordStrength({
        title: "密码安全性：",
        score: null
    }),
    $(".tp-ui-password-strength-progress").appendTo($("#UserPassword").parent().parent().parent()),
    $("#TheIntr").val() != "" && $("#TheIntr").attr("readonly", "readonly"),
    $("div[class='tp-ui-item tp-ui-forminput tp-ui-switch']") && $("div[class='tp-ui-item tp-ui-forminput tp-ui-switch']").addClass("tp-ui-active");
    $('#subContainerId .form-table input[type="text"], .form-table input[type="password"]').on({
        focus: function() {
            if ($(this).attr("id") != "TheIntr") {
                var n = $(this).attr("placeholder");
                n && $(this).tpuiFormTipsy("_default", {
                    message: n,
                    gravity: "se",
                    icon: !0
                })
            }
        },
        blur: function() {
            if ($(this).attr("id") == "TheIntr" && isNaN($(this).val())) return $(this).tpuiFormTipsy("_warning", {
                message: "请填写正确的介绍人ID",
                gravity: "se",
                icon: !0
            }),
            !1;
            if ($(this).attr("id") == "LoginName" && $(this).val().length > 0) {
                if ($(this).val().length < 4 || $(this).val().length > 16) return $(this).tpuiFormTipsy("_warning", {
                    message: "用户名长度应为4-16位",
                    gravity: "se",
                    icon: !0
                }),
                !1
            } else if (($(this).attr("id") == "ReUserPassword" || $(this).attr("id") == "UserPassword") && $(this).val().length > 0) {
                if ($(this).val().length < 6 || $(this).val().length > 12) return $(this).tpuiFormTipsy("_warning", {
                    message: "密码长度应为6-12位",
                    gravity: "se",
                    icon: !0
                }),
                !1;
                if ($(this).attr("id") == "ReUserPassword" && $("#UserPassword").val() != "" && $(this).val() != $("#UserPassword").val()) return $(this).tpuiFormTipsy("_warning", {
                    message: "密码不一致",
                    gravity: "se",
                    icon: !0
                }),
                !1
            }
            $(this).tpuiFormTipsy("_hide")
        }
    });
    n = !1,
    $("#submitRegist").click(function() {
        var u, r;
        if (n) return alertTip("正在处理中，请稍等..."),
        !1;
        n = !0,
        $("#submitRegist").css("cursor", "wait");
        var t = !0,
        f = $("#TheIntr").val(),
        e = $("#LoginName").val(),
        i = $("#UserPassword").val(),
        o = $("#ReUserPassword").val(),
        s = /^[A-Za-z][A-Za-z0-9_]{3,15}$/;
        if (isNaN(f) && ($("#TheIntr").tpuiFormTipsy("_warning", {
            message: "请填写正确的介绍人ID",
            gravity: "se",
            icon: !0
        }), t = !1), u = e.match(s), u == null && ($("#LoginName").tpuiFormTipsy("_warning", {
            message: "用户名长度应为4-16位数字，字母，下划线且必须为字母开头",
            gravity: "se",
            icon: !0
        }), t = !1), i == "" && ($("#UserPassword").tpuiFormTipsy("_warning", {
            message: "密码长度应为6-12位小写字母数字符号组合",
            gravity: "se",
            icon: !0
        }), t = !1), i.length < 6 && ($("#UserPassword").tpuiFormTipsy("_warning", {
            message: "密码长度应为6-12位小写字母数字符号组合",
            gravity: "se",
            icon: !0
        }), t = !1), i != o && ($("#ReUserPassword").tpuiFormTipsy("_warning", {
            message: "密码不一致",
            gravity: "se",
            icon: !0
        }), t = !1), r = new RegExp("^[0-9]*$"), r.test(i) && ($("#UserPassword").tpuiFormTipsy("_warning", {
            message: "您的密码为纯数字，安全系数太低，请更换",
            gravity: "se",
            icon: !0
        }), t = !1), r = new RegExp("^[a-z]*$"), r.test(i) && ($("#UserPassword").tpuiFormTipsy("_warning", {
            message: "您的密码为纯小写字母，安全系数太低，请更换",
            gravity: "se",
            icon: !0
        }), t = !1), t == !1) return n = !1,
        $("#submitRegist").css("cursor", "pointer"),
        !1;
        if (!$("div[class='tp-ui-item tp-ui-forminput tp-ui-switch tp-ui-active']").html()) return n = !1,
        $("#submitRegist").css("cursor", "pointer"),
        alert("未同意《易彩娱乐用户服务协议》！"),
        !1;
        ctx.postTokenEx({
            url: "../Regist/SubmitRegiest",
            data: EnCryptJsonParams([$("#vercode").val(), $("#LoginName").val(), $("#UserPassword").val(), $("input[name='type-mode']:checked").val(), $("#TheIntr").val(), $("#EncodeLinkId").val()]),
            beforeSend: function() {
                n = !0
            },
            success: function(n) {
                $("#submitRegist").css("cursor", "pointer"),
                n.Success == !0 ? window.location = "/Regist//Success": n.Message == "用户名已存在" ? $("#LoginName").tpuiFormTipsy("_danger", {
                    message: n.Message,
                    gravity: "se",
                    icon: !0
                }) : n.Message == "注册失败" ? window.location = "/Regist/Fail": alert(n.Message)
            },
            complete: function() {
                n = !1
            }
        })
    })
}
function dealHallLotteryIssue(n) {
    function f() {
        if (gl.hallLotteryId == EnumLotteryType.ggc) e.html("<h4><span>即刮即中，快乐无穷</span></h4>"),
        u.attr("href", "#" + gl.hallLotteryHash);
        else {
            var n = "/bet/GetScheduleAndIssueNumber/" + gl.hallLotteryId + "?r=" + Math.random();
            ctx.postTokenEx({
                url: n,
                beforeSend: function() {},
                success: function(n) {
                    var e, t, f;
                    if (n.stop_schedule == 1) i.html("停止销售"),
                    t = "<li><span>{0}</span></li><li><span>{1}</span></li><li><span>:</span></li><li><span>{2}</span></li><li><span>{3}</span></li>".replaceFormat([0, 0, 0, 0]),
                    r.html(t);
                    else {
                        for (i.html("第 " + n.issue_number + " 期"), e = n.lottery_time.substr(11), t = "", f = 0; f < e.length; f++) t += "<li><span>" + e[f] + "</span></li>";
                        r.html("<ul>" + t + "</ul>"),
                        u.attr("href", "#" + gl.hallLotteryHash)
                    }
                }
            })
        }
    }
    var t = $("#ld-topic");
    gl.hallLotteryId = t.find("ul>li:first").attr("code"),
    gl.hallLotteryHash = t.find("ul>li:first").attr("data-name");
    var i = $("#hallIssueId"),
    r = $("#hallIssueTimeId"),
    u = t.find(".betting-btn>a"),
    e = t.find("ul>li>.cutdown");
    f(),
    n && $("body").everyTime(3e4, "hall_lottery_interval",
    function() {
        f()
    })
}
function Hall() {
    var n = this;
    n.lotterySelector = $("#lottery-selector"),
    n.notiPageIndex = 0,
    n.notiPageSize = 8,
    n.init = function() {
        $(function() {
            var i, t, r;
            $("#slideshow").slideshowLite(),
            $.lotteryTopic_Dev(n),
            i = $("#notice .notice-list:first ul"),
            t = i.children("li"),
            $.each(t,
            function(n, t) {
                $(this).on("mouseenter",
                function() {
                    $(this).tpuiAnimation("animated bounceIn")
                });
                $(t).find("a:first").on("click",
                function() {
                    var t = $(this),
                    r = t.closest("li").attr("text"),
                    u = t.attr("title"),
                    f = t.attr("time"),
                    n = '<div class="module notice-inner">',
                    i;
                    return n += '<div class="article-head">',
                    n += "<h2>" + u + "</h2>",
                    n += "<ul>",
                    n += "<li><span>日期：</span><span>" + f + "</span></li>",
                    n += "</ul>",
                    n += "</div>",
                    n += '<div class="article-detial"><p style="text-indent: 8mm;">' + r + "</p></div>",
                    n += "</div>",
                    i = $(n).attr({
                        title: "公告详情"
                    }).appendTo($("body")).tpuiDialog({
                        pushTo: "#tmpDialogWrap",
                        autoOpen: !0,
                        width: 480,
                        onClose: function(n) {
                            n._close(!0),
                            i = null
                        }
                    }),
                    !1
                })
            }),
            r = parseInt(t.length / n.notiPageSize) + (t % n.notiPageSize == 0 ? 0 : 1);
            $("#notice-more").on("click", "a",
            function() {
                var i;
                t.hide();
                var f = (n.notiPageIndex + 1) % r,
                u = f * n.notiPageSize,
                e = u + n.notiPageSize;
                for (i = u; i < e; i++) t.eq(i).show();
                n.notiPageIndex += 1
            });
            n.bindEvent(),
            dealHallLotteryIssue(1)
        })
    },
    n.bindEvent = function() {},
    n.addToTop = function(t) {
        var i = t.closest("li").attr("code");
        ctx.postToken("/Home/StickLottery/" + i, {},
        function(t) {
            if (t.success) {
                var r = n.lotterySelector,
                u = r.find("li[code=" + i + "]"),
                f = r.find("li:first");
                u.is(f) || (u.attr("sticked", 1).insertBefore(f).show(), r.find("li").eq(5).hide())
            } else alert(t.msg)
        })
    },
    n.saveLotterySort = function(t, i) {
        var r = t.find("li:first").attr("code"),
        u = i.find("li").slice(0, 8);
        _.each(u,
        function(n) {
            r += "," + $(n).attr("code")
        }),
        ctx.postToken("/Home/StickLottery/" + r, {},
        function(t) {
            var i, f, u;
            if (t.success) for (i = n.lotterySelector, f = r.split(",").reverse(), u = 0; u < f.length; u++) {
                var s = f[u],
                e = i.find("li[code=" + s + "]"),
                o = i.find("li:first");
                e.is(o) || (e.attr("sticked", 1).insertBefore(o).show(), i.find("li").eq(5).hide())
            } else alert(t.msg)
        })
    }
}
function init_memberProfitDetailRecord() {
    initMemberBaseControl(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var n = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")),
        t = $(".startDateClass").val(),
        i = $(".endDateClass").val(),
        r = [n, t, i];
        GetPartHtml("../member/MemberProfitDetailRecord", r)
    })
}
function init_memberBetRecord(n) {
    initMemberBaseControl();
    var t;
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change"));
        if (t <= 0) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        var i = $(".startDateClass").val(),
        r = $(".endDateClass").val(),
        u = $(".lotteryCodeClass").val(),
        f = $(".batchNoClass").val(),
        e = [t, i, r, u, f];
        GetPartHtml("../member/memberbetrecord", e)
    }),
    gl.memberBetRecordData.length > 0 && (t = BetOrderDataToArray(gl.memberBetRecordData[0].Table), $(".betOrderClass").bind("click",
    function() {
        var i = $(this).text(),
        n = GetDataDetailById(i, t),
        r = n[10] == -1 && n[18] != "10";
        r ? GameRecordGetOrderData(n[0]) : ShowBetOrderDetail(n)
    }))
}
function init_memberTraceBetRecord(n) {
    initMemberBaseControl(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change"));
        if (t <= 0) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        var i = $(".startDateClass").val(),
        r = $(".endDateClass").val(),
        u = $(".lotteryCodeClass").val(),
        f = [t, i, r, u];
        GetPartHtml("../member/membertraceorder", f)
    }),
    $(".traceOrderClass").bind("click",
    function() {
        var n = $(this).text();
        location.href = "#membertraceorderdetail/" + n
    })
}
function init_memberTraceBetRecordDetail() {
    function u(n) {
        n ? (i = !0, r.text(o[1]), t.stop(!0, !0).animate({
            height: 24
        })) : (i = !1, r.text(o[0]), t.stop(!0, !0).animate({
            height: s
        }))
    }
    var f, n;
    initMemberBaseControl(),
    f = $("#tracr-viewer"),
    f.find(".tpui-button").tpuiButton(),
    $(".checkBoxClass").bind("change",
    function() {
        $(this)[0].checked ? $(this).closest("tr").addClass("Checked") : $(this).closest("tr").removeClass("Checked")
    }),
    $("#traceCheckAllId").bind("change",
    function() {
        $(this)[0].checked ? $(".checkBoxClass").each(function() {
            $(this)[0].checked || ($(this).trigger("click"), $(this).closest("tr").addClass("Checked"))
        }) : $(".checkBoxClass").each(function() {
            $(this)[0].checked && ($(this).trigger("click"), $(this).closest("tr").removeClass("Checked"))
        })
    }),
    $(".traceDetailQueryClass").bind("click",
    function() {
        var n = $(this).attr("data-id");
        GameRecordGetOrderData("", n)
    }),
    $("#refreshTraceDetail").click(function() {
        refreshGamePoint(undefined, 1),
        $(window).trigger("hashchange"),
        alertTip("刷新完成")
    }),
    n = !1,
    $("#stopTraceBtn").click(function() {
        var t = "";
        if ($("tr.Checked").each(function() {
            t += ",'" + $(this).attr("data-id") + "'"
        }), t == "") return alert("没有选中取消的奖期!"),
        !1;
        confirm("确认取消以下选中奖期？注意:已生成订单的奖期会被忽略!",
        function(i) {
            if (i) {
                t = t.substr(1);
                var r = [t, gl.memberTraceOrderDetail.curTraceOrderId];
                if (n) return alert("由于网络延迟，上一次操作还没提交完成。建议继续等待，或者刷新页面重新确认！"),
                !1;
                n = !0,
                ctx.postTokenEx({
                    url: "/Member/StopTrace",
                    data: EnCryptJsonParams(r),
                    beforeSend: function() {
                        $("body").tpuiLoading("_show")
                    },
                    complete: function() {
                        n = !1,
                        $("body").tpuiLoading("_hide")
                    },
                    success: function(n) {
                        $("body").tpuiLoading("_hide"),
                        n != "OK" ? alert(n) : (alertTip("操作成功!"), refreshGamePoint(undefined, 1), $(window).trigger("hashchange"))
                    }
                })
            }
        })
    }),
    $("#returnBackBtn").click(function() {
        location.href = "#MemberTraceOrder"
    });
    var e = $("#trace-number-toggle"),
    r = e.children("dt:first").find("a:first"),
    t = e.children("dd:first"),
    s = t.get(0) ? $.tpUI._dimensions(t).height: 0,
    o = ["收起全部", "展开全部"],
    i = !0;
    u(i);
    r.on({
        click: function(n) {
            n.preventDefault(),
            i ? u(!1) : u(!0)
        }
    })
}
function init_memberRechargeLog(n, t, i) {
    initMemberBaseControl();
    var r = $("#recentDateRange>a"),
    u = $("button.GetDataByPageIndex");
    r.bind("click",
    function() {
        r.removeClass("active"),
        $(this).addClass("active"),
        u.trigger("click")
    }),
    r.removeClass("active"),
    r.filter("[days=" + t + "]").addClass("active"),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change"));
        if (t <= 0) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        var u = r.filter(".active").attr("days"),
        f = $(".rechargeOrderNoClass").val(),
        e = [t, u, f];
        GetPartHtml("../member/" + i, e)
    }),
    i == "memberrechargeerrorlog" && $(".needCheckThird").bind("click",
    function() {
        var n = $(this),
        t = n.attr("orderNo");
        t && ctx.postToken("../Recharge/ThirdQueryCheck/" + t, {},
        function(t) {
            alert(t.msg),
            t.msg == "充值成功!" && (n.closest("tr").find(".thirdOldStatus").html("已充值!"), n.removeClass("fc-red").removeClass("needCheckThird").addClass("fc-green").attr("orderNo", "").html("已到帐!").css("cursor", "").attr("title", ""))
        })
    })
}
function init_memeberRecharge() {
    var n, t = undefined;
    $.fundsOptionEx = function() {
        function b() {
            var t = h.find(".active input[type=radio]").val(),
            n = "工行";
            t == "cft" ? n = "财付通": t == "zfb" && (n = "支付宝"),
            n = "单笔最低充值10元！<br />以上{0}帐号限本次存款用，帐号不定时更新！<br />每次存款前请依照本页所显示的银行帐号入款。<br />只有{0}充值到{0}，才能立即到账喔！".replaceFormat([n]),
            p.html(n)
        }
        function rt(i) {
            if (l.html("30分00秒"), u.sum.text(i.sum), u.bankname.text(i.bankName), u.username.text(i.username), u.useraccount.text(i.useraccount), u.orderid.text(i.orderId), $("#hidRCUserAccount").val(i.useraccount), $("#hidRCSum").val(i.sum), $("#hidRCOrderId").val(i.orderId), n = 1801, t != undefined && window.clearTimeout(t), t = window.setInterval(function() {
                if (n == 0) {
                    l.html("超时，请重新充值");
                    return
                }
                n = n - 1;
                var i = "{0}分{1}秒",
                r = Math.floor(n / 60),
                u = n % 60;
                i = i.replaceFormat([TowLenNum(r), TowLenNum(u)]),
                l.html(i)
            },
            1e3), c.val(""), r.val("100"), i) {
                if (i.bankName == "支付宝") y.text("支付宝快捷转账").on({
                    "click.bankPop": function(n) {
                        n.preventDefault(),
                        alertTip("对不起，支付宝暂不支持快捷转账!")
                    }
                });
                else y.text(i.bankName).on({
                    "click.bankPop": function(n) {
                        n.preventDefault(),
                        window.open(i.bankUrl)
                    }
                });
                d.on({
                    "click.referDemoOpen": function(n) {
                        n.preventDefault(),
                        $("#rd-" + i.type).tpuiDialog("_open")
                    }
                })
            }
        }
        var r = $("#tpui-funds-sum"),
        tt = $("#recharge-model"),
        v = $(".recharge-demo"),
        f = $("#recharge-order"),
        a = $("#recharge-order-submit"),
        e = $("#recharge-order-refer"),
        y = $("#recharge-order-prop"),
        d = $("#recharge-order-demo"),
        k = $("#recharge-order-back"),
        it = $("#recharge-order-close"),
        h = $("#recharge-account-checker"),
        l = $("#rt-cutdown"),
        c = $("#rechargeFundword"),
        p = $("#rechargeBanktips"),
        g = $("#rechargeOrderCancelBtn"),
        nt = $("#rt-reload"),
        i = {},
        u = {},
        w = {
            gsyh: {
                name: "中国工商银行",
                site: "https:../../mybank.icbc.com.cn/icbc/perbank/index.jsp"
            },
            cft: {
                name: "腾讯财付通",
                site: "../../https@www.tenpay.com/v2/default.htm"
            },
            zfb: {
                name: "支付宝",
                site: "../../https@www.alipay.com/default.htm"
            }
        },
        s,
        o;
        u = {
            sum: $("#rc-sum"),
            bankname: $("#rc-bankname"),
            username: $("#rc-username"),
            useraccount: $("#rc-useraccount"),
            orderid: $("#rc-orderid")
        },
        s = $(".forms-table"),
        s.find(".tpui-text").tpuiText(),
        s.find(".tpui-radio").tpuiRadio(),
        s.find(".tpui-button").tpuiButton(),
        r.tpuiNumber(),
        r.tpuiNumber(),
        e.find(".button-group button").tpuiButton(),
        f.tpuiDialog({
            pushTo: "#tmpDialogWrap",
            scrollLock: !0,
            width: 680,
            maskClose: !1
        }),
        v.tpuiDialog({
            pushTo: "#tmpDialogWrap",
            scrollLock: !0,
            mask: !1,
            maskClose: !1,
            width: 575
        }),
        v.closest(".tp-ui-dialog-base").css("z-index", "9990"),
        h.find("input").each(function() {
            $(this).is(":checked") && $(this).parents("label:first").addClass("active");
            $(this).on({
                change: function() {
                    h.find("label.active").removeClass("active"),
                    $(this).is(":checked") && $(this).parents("label:first").addClass("active"),
                    b()
                }
            })
        }),
        e.tpuiDialog({
            pushTo: "#tmpDialogWrap",
            scrollLock: !0,
            width: 520,
            onOpen: function() {
                setTimeout(function() {
                    CreateZeroClipboard("rc-username", "CopyBankName", "rechargeInfoId"),
                    CreateZeroClipboard("rc-useraccount", "CopyBankAccount", "rechargeInfoId"),
                    CreateZeroClipboard("rc-sum", "CopyBankAmount", "rechargeInfoId"),
                    CreateZeroClipboard("rc-orderid", "CopyBankOrder", "rechargeInfoId")
                },
                500)
            },
            onClose: function() {
                v.tpuiDialog("_close"),
                t != undefined && window.clearTimeout(t)
            }
        }),
        tt.find("a").die("click").live("click",
        function(n) {
            if (n.preventDefault(), gl.userInfo.ReturnPoint >= .13) return alert("只有1960以下的玩家才可以充值！"),
            !1;
            gl.curRechargeMode = $(this).attr("id") != "rm-more" ? 1 : 0,
            gl.curRechargeMode == 1 ? ($("#normalRechargeTr").show(), $("#normalRechargeTr2").show(), $("#recharge-order").closest(".tp-ui-dialog-inner").find("div.tp-ui-dialog-title>span").text("普通充值"), b()) : ($("#normalRechargeTr").hide(), $("#normalRechargeTr2").hide(), $("#recharge-order").closest(".tp-ui-dialog-inner").find("div.tp-ui-dialog-title>span").text("第三方充值"), p.html("单笔充值金额范围:10元~50000，手续费由平台承担.<br />")),
            f.tpuiDialog("_open")
        }),
        o = !1;
        a.on({
            click: function(n) {
                var t, u, s, l;
                if (n.preventDefault(), o) return ! 1;
                if (t = r.val(), gl.curRechargeMode == 1) {
                    if (!c.val()) return alertTip("资金密码不能为空!"),
                    !1;
                    if (u = h.find(".active input[type=radio]").val(), s = 1e3, u == "cft") s = 1002;
                    else if (u == "zfb" && (s = 1001, t > 1e3 || t < 100)) return alertTip("支付宝充值限额为100~1000!"),
                    !1;
                    l = [t, s, c.val()],
                    l = EnCryptJsonParams(l),
                    o = !0,
                    a.css("cursor", "wait"),
                    ctx.postTokenEx({
                        url: "../Recharge/RechargeSubmit",
                        data: l,
                        complete: function() {
                            o = !1,
                            a.css("cursor", "pointer")
                        },
                        success: function(n) {
                            if (n.Ok == 1) {
                                if (n.AccName == "") {
                                    alertTip("尚未启用当前银行帐户，请选择其他充值方式！", "充值提醒");
                                    return
                                }
                                i.orderId = n.OrderNo,
                                i.type = u,
                                i.bankName = w[u].name,
                                i.bankUrl = w[u].site,
                                i.username = n.AccName,
                                i.useraccount = n.AccNo,
                                i.sum = t,
                                f.tpuiDialog("_close"),
                                rt(i),
                                e.tpuiDialog("_open")
                            } else alertTip(n.Tip, "充值提醒")
                        }
                    })
                } else {
                    if (t < 10) return alert("最小充值金额10元！"),
                    r.focus(),
                    !1;
                    if (t > 5e4) return alert("第三方最大充值金额50000元！"),
                    r.focus(),
                    !1;
                    o = !0,
                    location.href = "../Recharge/ThirdRecharge@amount={0}".replaceFormat([t])
                }
            }
        });
        g.on({
            click: function() {
                f.tpuiDialog("_close")
            }
        });
        nt.on({
            click: function(n) {
                n.preventDefault(),
                e.tpuiDialog("_close"),
                f.tpuiDialog("_open")
            }
        });
        k.click(function(n) {
            n.preventDefault(),
            e.tpuiDialog("_close"),
            f.tpuiDialog("_open")
        });
        it.on({
            click: function(n) {
                n.preventDefault(),
                e.tpuiDialog("_close")
            }
        })
    },
    $.fundsOptionEx()
}
function init_bindcard() {
    $("#Text_Password").tpuiPasswordStrength({
        title: "密码安全性：",
        score: null
    }),
    $("#Select_BankType option[value='1002']").remove(),
    $("#Select_BankType option[value='1020']").remove(),
    $("#Select_BankType option[value='1021']").remove(),
    initMemberBaseControl();
    var n = !1;
    $('.form-table input[type="text"],.form-table input[type="password"]').on({
        focus: function() {
            var n = $(this).attr("placeholder");
            n && $(this).tpuiFormTipsy("_default", {
                message: n,
                gravity: "se",
                icon: !0
            })
        },
        blur: function() {
            if (($(this).attr("id") == "Text_Password" || $(this).attr("id") == "Text_Password_Confrim") && $(this).val().length > 0) {
                if ($(this).val().length < 6 || $(this).val().length > 12) return $(this).tpuiFormTipsy("_warning", {
                    message: "密码长度应为6-12位",
                    gravity: "se",
                    icon: !0
                }),
                !1;
                if ($(this).attr("id") == "Text_Password_Confrim" && $(this).val() == "") return $(this).tpuiFormTipsy("_warning", {
                    message: "确认资金密码不能为空！",
                    gravity: "se",
                    icon: !0
                }),
                !1;
                if ($(this).attr("id") == "Text_Password" && $("#Text_Password_Confrim").val() != "" && $(this).val() != $("#Text_Password_Confrim").val()) return $(this).tpuiFormTipsy("_warning", {
                    message: "密码不一致",
                    gravity: "se",
                    icon: !0
                }),
                !1
            }
            $(this).tpuiFormTipsy("_hide")
        }
    });
    $("#Select_BankType").bind("change",
    function() {
        $("#Select_BankType").find("option:selected").val() == 1002 ? ($("#lbl_CardNo").html("财付通账号:"), $("#lbl_CardNo_Confirm").html("确认账号:"), $("#Text_BankAccount").attr("placeholder", "请输入财付通账号"), $("#Text_BankAccount_Confrim").attr("placeholder", "再次输入财付通账号")) : ($("#lbl_CardNo").html("银行卡号:"), $("#lbl_CardNo_Confirm").html("确认银行卡号:"), $("#Text_BankAccount").attr("placeholder", "银行卡号由16或18或19位数字组成"), $("#Text_BankAccount_Confrim").attr("placeholder", "再次输入银行卡号"))
    }),
    $("#bind_card_submit").click(function() {
        if ($("#Select_BankType").find("option:selected").val() == "请选择绑定的账户类型") {
            $("#Select_BankType").focus(),
            $("#Select_BankType").tpuiFormTipsy("_warning", {
                message: "请选择绑定的账户类型",
                gravity: "se",
                icon: !0
            });
            return
        }
        if ($("#Select_BankType").tpuiFormTipsy("_hide"), $("#Text_BankAccount_Confrim").val() != $("#Text_BankAccount").val()) {
            $("#Text_BankAccount_Confrim").focus(),
            $("#Text_BankAccount_Confrim").tpuiFormTipsy("_warning", {
                message: "两次输入的号码不一致!",
                gravity: "se",
                icon: !0
            });
            return
        }
        if ($("#Select_BankType").find("option:selected").val() != 1002) {
            if ($("#Text_BankAccount").val().trimAll().length < 16 || $("#Text_BankAccount").val().trimAll().length > 19) {
                $("#Text_BankAccount").focus(),
                $("#Text_BankAccount").tpuiFormTipsy("_warning", {
                    message: "银行卡号不符合规则，请检查!",
                    gravity: "se",
                    icon: !0
                });
                return
            }
        } else if ($("#Text_BankAccount").val().trimAll().length == 0) return $("#Text_BankAccount").tpuiFormTipsy("_warning", {
            message: "号码不能为空!",
            gravity: "se",
            icon: !0
        }),
        !1;
        if (!$("#Text_Password").val().IsPassStrong()) {
            $("#Text_Password").focus(),
            $("#Text_Password").tpuiFormTipsy("_warning", {
                message: "密码必须包含字母数字或是特殊符号!",
                gravity: "se",
                icon: !0
            });
            return
        }
        if ($("#Text_Password_Confrim").val().trimAll().length == 0) return $("#Text_Password_Confrim").tpuiFormTipsy("_warning", {
            message: "确认资金密码不能为空!",
            gravity: "se",
            icon: !0
        }),
        !1;
        if (n) return ! 1;
        $("#bind_card_submit").css("cursor", "wait"),
        n = !0;
        var t = "/Member/BindUserCard";
        ctx.postTokenEx({
            url: t,
            data: EnCryptJsonParams([$("#Select_BankType").find("option:selected").val(), $("#Text_BankName").val(), $("#Text_BankAccount").val(), $("#Text_BankAccount_Confrim").val(), $("#Text_Password").val(), $("#Text_Password_Confrim").val()]),
            success: function(t) {
                $('.form-table input[type="text"],.form-table input[type="password"]').tpuiFormTipsy("_hide"),
                $("#bind_card_submit").css("cursor", "pointer"),
                n = !1,
                t == "恭喜，银行卡绑定成功！" ? setTimeout(function() {
                    location.href = "#MemberBindSuc"
                },
                3e3) : alert(t)
            }
        })
    }),
    $("#Text_BankAccount,#Text_BankAccount_Confrim").keydown(function(n) {
        return $.browser.msie ? event.keyCode > 47 && event.keyCode < 58 || event.keyCode > 95 && event.keyCode < 106 || event.keyCode == 8 ? !0 : !1 : n.which > 47 && n.which < 58 || event.keyCode > 95 && event.keyCode < 106 || n.which == 8 || event.keyCode == 17 ? !0 : !1
    }).focus(function() {})
}
function init_showCardDetail() {
    initMemberBaseControl()
}
function init_memberWithdraw() {
    initMemberBaseControl(),
    $("#WithDraw_Money").tpuiNumber(),
    $(document).ready(function() {
        $("#withdraw_account_Title").html(withdraw_WithDrawTitle + "账号："),
        $("#withdraw_name_Title").html(withdraw_WithDrawTitle + "账号名："),
        $("#withdraw_account").html("<span class='fw-text'>{0}</span>".replaceFormat([withdraw_AccoutNo])),
        $("#withdraw_name").html("<span class='fw-text'>{0}</span>".replaceFormat([withdraw_AccoutName])),
        $("#withdraw_AvailablePoint").html("<span class='fw-text'>{0}</span>".replaceFormat([withdraw_AvailablePoint])),
        $("#withdrawMinAmount_tip").html("<span>最小提现金额{0}元。</span>".replaceFormat([withdraw_MinWithdrawAmount])),
        $("#withdraw_tips").html(" <p><dl><dt><span>  您<em class='light_yellow'>今日还可提现{0}次</em>，单次提现金额<em class='light_yellow'>最低{1}元，最高{2}元</em>。</span></dt></dl></p>".replaceFormat([withdraw_RemainWithdrawCount, withdraw_MinWithdrawAmount, withdraw_MaxWithdrawAmount])),
        $("#withdraw_tips").html("<h2>今日还可提现{0}次</h2><h4>单次提现金额最低{1}元，最高{2}元</h4>".replaceFormat([withdraw_RemainWithdrawCount, withdraw_MinWithdrawAmount, withdraw_MaxWithdrawAmount])),
        $("#WithDraw_Money").val(""),
        $("#WithDraw_FundPassword").val(""),
        $("#WithDraw_SNVerCode").val("")
    });
    var n = !1;
    $("#withdraw_submit").bind({
        click: function() {
            var i, t;
            if (n) return ! 1;
            if ($("#withdraw_submit").css("cursor", "wait"), n = !0, i = $("#withdrawal_form"), $("#WithDraw_Money").val() == "") {
                alert("请输入正确的金额！"),
                $("#WithDraw_Money").focus(),
                n = !1,
                $("#withdraw_submit").css("cursor", "pointer");
                return
            }
            if (!isNumber($("#WithDraw_Money").val())) {
                alert("请输入正确的金额！"),
                $("#WithDraw_Money").focus(),
                n = !1,
                $("#withdraw_submit").css("cursor", "pointer");
                return
            }
            if ($("#WithDraw_FundPassword").val().length < 6) {
                alert("提现密码不能为空且不能少于6位！"),
                $("#WithDraw_FundPassword").focus(),
                n = !1,
                $("#withdraw_submit").css("cursor", "pointer");
                return
            }
            if (withdraw_hasSerialNumber == "true" && !$("#WithDraw_SNVerCode").val()) {
                alert("请先输入手机安全中心验证码！"),
                $("#WithDraw_SNVerCode").focus(),
                n = !1,
                $("#withdraw_submit").css("cursor", "pointer");
                return
            }
            t = "/Member/WithdrawalSubmit",
            ctx.postTokenEx({
                url: t,
                data: EnCryptJsonParams([$("#WithDraw_Money").val(), $("#WithDraw_FundPassword").val(), $("#WithDraw_SNVerCode").val()]),
                success: function(t) {
                    t == "申请成功,请等待管理员审批!" ? (refreshGamePoint(), alert(t), setTimeout(function() {
                        n = !1,
                        $("#withdraw_submit").css("cursor", "pointer"),
                        $("#WithDraw_Money").val(""),
                        $("#WithDraw_FundPassword").val(""),
                        $("#WithDraw_SNVerCode").val("");
                        var t = $("#userGamePointId").text();
                        $("#withdraw_AvailablePoint").html("<span class='fw-text'>{0}</span>".replaceFormat([t])),
                        $("#withdraw_tips").html("<h2>今日还可提现{0}次</h2><h4>单次提现金额最低{1}元，最高{2}元</h4>".replaceFormat([withdraw_RemainWithdrawCount - 1, withdraw_MinWithdrawAmount, withdraw_MaxWithdrawAmount]))
                    },
                    2e3)) : (setTimeout(function() {
                        n = !1,
                        $("#withdraw_submit").css("cursor", "pointer"),
                        $("#WithDraw_Money").val(""),
                        $("#WithDraw_FundPassword").val(""),
                        $("#WithDraw_SNVerCode").val("")
                    },
                    2e3), alert(t))
                }
            })
        }
    })
}
function init_memberWithdrawList() {
    initMemberBaseControl(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var n = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change"));
        n <= 0 ? n = 1 : n > TotalPages && (n = TotalPages == 0 ? 1 : TotalPages);
        var t = $(".startDateClass").val(),
        i = $(".endDateClass").val(),
        r = [n, t, i];
        GetPartHtml("/member/memberwithdrawlist", r)
    })
}
function init_memberIntegralRecord() {
    initMemberBaseControl(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var n = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")),
        t = [n, $("#BeginDate").val(), $("#EndDate").val(), $("#QIntegralType").val()];
        GetPartHtml("/member/MemberIntegralRecords", t)
    })
}
function init_memberInfo() {
    initMemberBaseControl(),
    $("#TheLoginName").attr("readonly", "readonly"),
    $("#submitMemberInfoButton").click(function() {
        submitMemberInfo(0)
    }),
    $("#applyMemberInfoButton").click(function() {
        submitMemberInfo(1)
    }),
    $("#Birthday").change(function() {
        var n = $(this).val().split("-");
        $(this).val() == "" || n.length < 3 || (parseInt(n[1]) < 10 && (n[1] = "0" + parseInt(n[1])), parseInt(n[2]) < 10 && (n[2] = "0" + parseInt(n[2])), $(this).val(n[0] + "-" + n[1] + "-" + n[2]))
    });
    $(".forms-table input").on({
        focus: function() {
            if ($(this).attr("id") != "RealName" && $(this).attr("id") != "TeleNum" && $(this).attr("id") != "Address") return ! 0;
            var n = $(this).attr("placeholder");
            n && $(this).tpuiFormTipsy("_default", {
                message: n,
                gravity: "w",
                icon: !0
            })
        },
        blur: function() {
            if ($(this).attr("id") != "RealName" && $(this).attr("id") != "TeleNum" && $(this).attr("id") != "Address") return ! 0;
            $(this).tpuiFormTipsy("_hide")
        }
    });
    $.avatarChecker();
    $("#avatar-checker").on("click", "a.close",
    function() {
        var n = $("#current-avatar").attr("src");
        ctx.postTokenEx({
            url: "/Member/UpdateAvatar",
            data: {
                avatar: n
            },
            success: function(t) {
                t == 1 && $("img[name='user-avatar']").attr("src", n)
            }
        })
    })
}
function submitMemberInfo(n) {
    var t, i, r;
    if (hasSubmit) return ! 1;
    if ($("#submitMemberInfoButton,#applyMemberInfoButton").css("cursor", "wait"), hasSubmit = !0, t = 0, n == 1) {
        if (t = $("#UpgradeUserApplyId").val(), i = $("#RealName").val(), r = $("#TeleNum").val(), i == "") return $("#RealName").tpuiFormTipsy("_danger", {
            message: "请完善该项",
            gravity: "w",
            icon: !0
        }),
        $("#submitMemberInfoButton,#applyMemberInfoButton").css("cursor", "pointer"),
        hasSubmit = !1,
        !1;
        if (r == "") return $("#TeleNum").tpuiFormTipsy("_danger", {
            message: "请完善该项",
            gravity: "w",
            icon: !0
        }),
        $("#submitMemberInfoButton,#applyMemberInfoButton").css("cursor", "pointer"),
        hasSubmit = !1,
        !1
    }
    ctx.postTokenEx({
        url: "/Member/MemberUpdateInfo",
        data: {
            Id: $("#UserId").val(),
            RealName: $("#RealName").val(),
            Birthday: $("#Birthday").val(),
            Sex: $("input[name='Sex'][checked]").val(),
            Address: $("#Address").val(),
            TeleNum: $("#TeleNum").val(),
            QQ: $("#QQ").val(),
            UpgradeUserApplyId: t
        },
        success: function(t) {
            if (t.Success == !1) $.appAlert(t.Message, "danger");
            else if (n == 1) {
                $.appAlert("您已成功升级为“" + t.Message + "”", "success");
                var i = document.getElementById("UpgradeUserApplyDiv"),
                r = document.getElementById("applyMemberInfoButton");
                i.parentNode.removeChild(i),
                r.parentNode.removeChild(r),
                $("#userCurLevel").html(t.Message)
            } else $.appAlert(t.Message, "success");
            $("#submitMemberInfoButton,#applyMemberInfoButton").css("cursor", "pointer"),
            hasSubmit = !1
        }
    })
}
function init_TransferGamePoint() {
    initMemberBaseControl();
    var n = !1;
    $("#submitTransferGamePoint").on("click",
    function() {
        if (n) return ! 1;
        $("#submitTransferGamePoint").css("cursor", "wait"),
        n = !0;
        var t = $("#transformGamePoint1").val();
        if (t == "" || isNaN(t)) return alertTip("金额必须为数字！"),
        n = !1,
        $("#submitTransferGamePoint").css("cursor", "pointer"),
        !1;
        if (parseInt(t) != t) return alertTip("金额必须为整数！"),
        n = !1,
        $("#submitTransferGamePoint").css("cursor", "pointer"),
        !1;
        ctx.postTokenEx({
            url: "/ag/TranferGamePoint",
            data: {
                gamePoint: t,
                tranferType: $("input[name='tranformType'][checked]").val()
            },
            success: function(t) {
                t == "转账成功!" ? (alert(t), setTimeout(function() {
                    n = !1,
                    $("#submitTransferGamePoint").css("cursor", "pointer")
                },
                2e3), ctx.postTokenEx({
                    url: "/member/RefreshAGandGamePoint",
                    data: {},
                    success: function(n) {
                        refreshGamePoint(n.GamePoint),
                        $("#GamePoint").html(n.GamePoint),
                        $("#AgPoint").html(n.AgPoint)
                    }
                })) : (t == "system maintenance, AGIN platform closed!" ? alert("AG平台维护中") : alert(t), setTimeout(function() {
                    n = !1,
                    $("#submitTransferGamePoint").css("cursor", "pointer")
                },
                2e3))
            }
        })
    })
}
function init_memberProfitRecord() {
    initMemberBaseControl(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var n = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")) + 1,
        t = [n, $("#BeginDate").val(), $("#EndDate").val()];
        GetPartHtml("/member/MemberUserProfit", t)
    })
}
function init_memberFunDetail(n) {
    initMemberBaseControl(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")),
        i;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (t < 1 && $(this).text().trim().indexOf("查询") == -1) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = [t, $("#BeginDate").val(), $("#fundType").val()],
        GetPartHtml("/member/MemberFunDetail", i)
    })
}
function init_memberAgentFunDetail(n) {
    initMemberBaseControl(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")),
        i;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (t < 1 && $(this).text().trim().indexOf("查询") == -1) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = [t, $("#BeginDate").val(), $("#fundType").val(), $("#userName").val()],
        GetPartHtml("/member/MemberAgentFundDetail", i)
    })
}
function init_memberAgBetRecord(n) {
    initMemberBaseControl(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")) + 1,
        i;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (t <= 1 && $(this).text().trim().indexOf("查询") == -1) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = [t, $("#billNo").val(), $("#gameType").val(), $("#begin").val(), $("#end").val()],
        GetPartHtml("/member/memberAgBetRecord", i)
    })
}
function init_awardDetail(n) {
    $(".xingtai").each(function() {
        var n = $(this).attr("bonusnum");
        $(this).html(BonusNumHelper.pattern(n, gl.lotteryId))
    }),
    $(".totalnumber").each(function() {
        var n = $(this).attr("bonusnum");
        $(this).html(BonusNumHelper.sum(n, gl.lotteryId))
    }),
    initAwardControl();
    var t = $(".AwardDiff"),
    i = (new Date).Format("YYYY-MM-DD"),
    r = dffer_day(n, i);
    t.filter("[daydiff=" + r + "]").addClass("active"),
    $("#lotterySelect,#dateSelect").bind("change",
    function() {
        awardSearch()
    }),
    t.bind("click",
    function() {
        var n = parseInt($(this).attr("dayDiff")),
        t = (new Date).DateAdd("day", n).Format("YYYY-MM-DD");
        awardSearch(t)
    })
}
function awardSearch(n) {
    var t = $("#lotterySelect").val();
    n || (n = $("#dateSelect").val()),
    location.href = "#AwardDetail/" + t + "?date=" + n
}
function initAwardControl() {
    var n = $(".drawing-head"),
    t = $(".kc-calendar");
    n.find(".tpui-select").tpuiSelect(),
    n.find(".tpui-text").tpuiText(),
    t.cxCalendar({
        type: "YYYY-MM-DD"
    });
    $(".icon-kc-calendar").on("click",
    function() {
        var n = $(this).prev().find("input.kc-calendar:first"),
        t = n.val();
        n.focus().val(t).cxCalendar(function(n) {
            n.show()
        })
    })
}
function init_memberBonusWinDetail() {
    initMemberBaseControl(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var n = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")),
        t = [n, $("#BeginDate").val(), $("#EndDate").val(), $("#QStatus").val()];
        GetPartHtml("../member/MemberBonusWinDetail", t)
    })
}
function init_HelperComm() {
    var n = $("#menu-base");
    n.children("ul:first").tpuiMenu({
        targetIndex: "active",
        autoToggle: !0
    })
}
var ZeroClipboard, JsEncryptHelper, hash, ctx, serverNotifyBase, gl, EnumLotteryType, _alert, _confirm, BonusNumHelper, ComputeBetTotalNumber, $betPanel, $selectNumsContainer, $selectNumsBody, $singleNumberInput, $submitBtn, $betMode, $totalBets, $totalTimesInput, $totalTimesSpan, $totalAmount, $priceMode, _recentData, _top10Data, _betOrderDetailHtml, renderRecentBetOrderList, GgcClient, BetPauseHelper, BetNumberAndProfitLossHelper, _justOneKey, TrendClient, MemberUserNews, FeedBack, MemberSecurity, hasSubmit, Agent, AgentApply, MemberTransfer; (function(n, t) {
    function te(n) {
        var t = ii[n] = {};
        return i.each(n.split(l),
        function(n, i) {
            t[i] = !0
        }),
        t
    }
    function su(n, r, u) {
        if (u === t && n.nodeType === 1) {
            var f = "data-" + r.replace(ar, "-$1").toLowerCase();
            if (u = n.getAttribute(f), typeof u == "string") {
                try {
                    u = u === "true" ? !0 : u === "false" ? !1 : u === "null" ? null: +u + "" === u ? +u: sr.test(u) ? i.parseJSON(u) : u
                } catch(e) {}
                i.data(n, r, u)
            } else u = t
        }
        return u
    }
    function bt(n) {
        var t;
        for (t in n) if ((t !== "data" || !i.isEmptyObject(n[t])) && t !== "toJSON") return ! 1;
        return ! 0
    }
    function p() {
        return ! 1
    }
    function et() {
        return ! 0
    }
    function k(n) {
        return ! n || !n.parentNode || n.parentNode.nodeType === 11
    }
    function ou(n, t) {
        do n = n[t];
        while (n && n.nodeType !== 1);
        return n
    }
    function eu(n, t, r) {
        if (t = t || 0, i.isFunction(t)) return i.grep(n,
        function(n, i) {
            var u = !!t.call(n, i, n);
            return u === r
        });
        if (t.nodeType) return i.grep(n,
        function(n) {
            return n === t === r
        });
        if (typeof t == "string") {
            var u = i.grep(n,
            function(n) {
                return n.nodeType === 1
            });
            if (ge.test(t)) return i.filter(t, u, !r);
            t = i.filter(t, u)
        }
        return i.grep(n,
        function(n) {
            return i.inArray(n, t) >= 0 === r
        })
    }
    function fu(n) {
        var i = vi.split("|"),
        t = n.createDocumentFragment();
        if (t.createElement) while (i.length) t.createElement(i.pop());
        return t
    }
    function pf(n, t) {
        return n.getElementsByTagName(t)[0] || n.appendChild(n.ownerDocument.createElement(t))
    }
    function uu(n, t) {
        if (t.nodeType === 1 && i.hasData(n)) {
            var u, f, o, s = i._data(n),
            r = i._data(t, s),
            e = s.events;
            if (e) {
                delete r.handle,
                r.events = {};
                for (u in e) for (f = 0, o = e[u].length; f < o; f++) i.event.add(t, u, e[u][f])
            }
            r.data && (r.data = i.extend({},
            r.data))
        }
    }
    function ru(n, t) {
        var r;
        t.nodeType === 1 && (t.clearAttributes && t.clearAttributes(), t.mergeAttributes && t.mergeAttributes(n), r = t.nodeName.toLowerCase(), r === "object" ? (t.parentNode && (t.outerHTML = n.outerHTML), i.support.html5Clone && n.innerHTML && !i.trim(t.innerHTML) && (t.innerHTML = n.innerHTML)) : r === "input" && tr.test(n.type) ? (t.defaultChecked = t.checked = n.checked, t.value !== n.value && (t.value = n.value)) : r === "option" ? t.selected = n.defaultSelected: r === "input" || r === "textarea" ? t.defaultValue = n.defaultValue: r === "script" && t.text !== n.text && (t.text = n.text), t.removeAttribute(i.expando))
    }
    function ct(n) {
        return typeof n.getElementsByTagName != "undefined" ? n.getElementsByTagName("*") : typeof n.querySelectorAll != "undefined" ? n.querySelectorAll("*") : []
    }
    function iu(n) {
        tr.test(n.type) && (n.defaultChecked = n.checked)
    }
    function tu(n, t) {
        if (t in n) return t;
        for (var r = t.charAt(0).toUpperCase() + t.slice(1), u = t, i = er.length; i--;) if (t = er[i] + r, t in n) return t;
        return u
    }
    function lt(n, t) {
        return n = t || n,
        i.css(n, "display") === "none" || !i.contains(n.ownerDocument, n)
    }
    function nu(n, t) {
        for (var r, o, e = [], f = 0, s = n.length; f < s; f++)(r = n[f], r.style) && (e[f] = i._data(r, "olddisplay"), t ? (!e[f] && r.style.display === "none" && (r.style.display = ""), r.style.display === "" && lt(r) && (e[f] = i._data(r, "olddisplay", br(r.nodeName)))) : (o = u(r, "display"), !e[f] && o !== "none" && i._data(r, "olddisplay", o)));
        for (f = 0; f < s; f++)(r = n[f], r.style) && (t && r.style.display !== "none" && r.style.display !== "" || (r.style.display = t ? e[f] || "": "none"));
        return n
    }
    function gr(n, t, i) {
        var r = fo.exec(t);
        return r ? Math.max(0, r[1] - (i || 0)) + (r[2] || "px") : t
    }
    function dr(n, t, r, f) {
        for (var e = r === (f ? "border": "content") ? 4 : t === "width" ? 1 : 0, o = 0; e < 4; e += 2) r === "margin" && (o += i.css(n, r + a[e], !0)),
        f ? (r === "content" && (o -= parseFloat(u(n, "padding" + a[e])) || 0), r !== "margin" && (o -= parseFloat(u(n, "border" + a[e] + "Width")) || 0)) : (o += parseFloat(u(n, "padding" + a[e])) || 0, r !== "padding" && (o += parseFloat(u(n, "border" + a[e] + "Width")) || 0));
        return o
    }
    function kr(n, t, r) {
        var f = t === "width" ? n.offsetWidth: n.offsetHeight,
        e = !0,
        o = i.support.boxSizing && i.css(n, "boxSizing") === "border-box";
        if (f <= 0) {
            if (f = u(n, t), (f < 0 || f == null) && (f = n.style[t]), d.test(f)) return f;
            e = o && (i.support.boxSizingReliable || f === n.style[t]),
            f = parseFloat(f) || 0
        }
        return f + dr(n, t, r || (o ? "border": "content"), e) + "px"
    }
    function br(n) {
        if (ti[n]) return ti[n];
        var f = i("<" + n + ">").appendTo(r.body),
        t = f.css("display");
        return f.remove(),
        (t === "none" || t === "") && (w = r.body.appendChild(w || i.extend(r.createElement("iframe"), {
            frameBorder: 0,
            width: 0,
            height: 0
        })), y && w.createElement || (y = (w.contentWindow || w.contentDocument).document, y.write("<!doctype html><html><body>"), y.close()), f = y.body.appendChild(y.createElement(n)), t = u(f, "display"), r.body.removeChild(w)),
        ti[n] = t,
        t
    }
    function gt(n, t, r, u) {
        var f;
        if (i.isArray(t)) i.each(t,
        function(t, i) {
            r || fe.test(n) ? u(n, i) : gt(n + "[" + (typeof i == "object" ? t: "") + "]", i, r, u)
        });
        else if (r || i.type(t) !== "object") u(n, t);
        else for (f in t) gt(n + "[" + f + "]", t[f], r, u)
    }
    function wr(n) {
        return function(t, r) {
            typeof t != "string" && (r = t, t = "*");
            var u, o, f, s = t.toLowerCase().split(l),
            e = 0,
            h = s.length;
            if (i.isFunction(r)) for (; e < h; e++) u = s[e],
            f = /^\+/.test(u),
            f && (u = u.substr(1) || "*"),
            o = n[u] = n[u] || [],
            o[f ? "unshift": "push"](r)
        }
    }
    function ot(n, i, r, u, f, e) {
        f = f || i.dataTypes[0],
        e = e || {},
        e[f] = !0;
        for (var o, s = n[f], h = 0, l = s ? s.length: 0, c = n === ni; h < l && (c || !o); h++) o = s[h](i, r, u),
        typeof o == "string" && (!c || e[o] ? o = t: (i.dataTypes.unshift(o), o = ot(n, i, r, u, o, e)));
        return (c || !o) && !e["*"] && (o = ot(n, i, r, u, "*", e)),
        o
    }
    function pr(n, r) {
        var u, f, e = i.ajaxSettings.flatOptions || {};
        for (u in r) r[u] !== t && ((e[u] ? n: f || (f = {}))[u] = r[u]);
        f && i.extend(!0, n, f)
    }
    function ue(n, i, r) {
        var o, u, e, s, h = n.contents,
        f = n.dataTypes,
        c = n.responseFields;
        for (u in c) u in r && (i[c[u]] = r[u]);
        while (f[0] === "*") f.shift(),
        o === t && (o = n.mimeType || i.getResponseHeader("content-type"));
        if (o) for (u in h) if (h[u] && h[u].test(o)) {
            f.unshift(u);
            break
        }
        if (f[0] in r) e = f[0];
        else {
            for (u in r) {
                if (!f[0] || n.converters[u + " " + f[0]]) {
                    e = u;
                    break
                }
                s || (s = u)
            }
            e = e || s
        }
        if (e) return e !== f[0] && f.unshift(e),
        r[e]
    }
    function lo(n, t) {
        var i, o, r, e, s = n.dataTypes.slice(),

        f = s[0],
        u = {},
        h = 0;
        if (n.dataFilter && (t = n.dataFilter(t, n.dataType)), s[1]) for (i in n.converters) u[i.toLowerCase()] = n.converters[i];
        for (; r = s[++h];) if (r !== "*") {
            if (f !== "*" && f !== r) {
                if (i = u[f + " " + r] || u["* " + r], !i) for (o in u) if (e = o.split(" "), e[1] === r && (i = u[f + " " + e[0]] || u["* " + e[0]], i)) {
                    i === !0 ? i = u[o] : u[o] !== !0 && (r = e[0], s.splice(h--, 0, r));
                    break
                }
                if (i !== !0) if (i && n.throws) t = i(t);
                else try {
                    t = i(t)
                } catch(c) {
                    return {
                        state: "parsererror",
                        error: i ? c: "No conversion from " + f + " to " + r
                    }
                }
            }
            f = r
        }
        return {
            state: "success",
            data: t
        }
    }
    function yr() {
        try {
            return new n.XMLHttpRequest
        } catch(t) {}
    }
    function co() {
        try {
            return new n.ActiveXObject("Microsoft.XMLHTTP")
        } catch(t) {}
    }
    function vr() {
        return setTimeout(function() {
            ft = t
        },
        0),
        ft = i.now()
    }
    function eo(n, t) {
        i.each(t,
        function(t, i) {
            for (var u = (b[t] || []).concat(b["*"]), r = 0, f = u.length; r < f; r++) if (u[r].call(n, t, i)) return
        })
    }
    function lu(n, t, r) {
        var e, o = 0,
        l = 0,
        c = tt.length,
        f = i.Deferred().always(function() {
            delete h.elem
        }),
        h = function() {
            for (var o = ft || vr(), t = Math.max(0, u.startTime + u.duration - o), i = 1 - (t / u.duration || 0), r = 0, e = u.tweens.length; r < e; r++) u.tweens[r].run(i);
            return f.notifyWith(n, [u, i, t]),
            i < 1 && e ? t: (f.resolveWith(n, [u]), !1)
        },
        u = f.promise({
            elem: n,
            props: i.extend({},
            t),
            opts: i.extend(!0, {
                specialEasing: {}
            },
            r),
            originalProperties: t,
            originalOptions: r,
            startTime: ft || vr(),
            duration: r.duration,
            tweens: [],
            createTween: function(t, r) {
                var e = i.Tween(n, u.opts, t, r, u.opts.specialEasing[t] || u.opts.easing);
                return u.tweens.push(e),
                e
            },
            stop: function(t) {
                for (var i = 0,
                r = t ? u.tweens.length: 0; i < r; i++) u.tweens[i].run(1);
                return t ? f.resolveWith(n, [u, t]) : f.rejectWith(n, [u, t]),
                this
            }
        }),
        s = u.props;
        for (to(s, u.opts.specialEasing); o < c; o++) if (e = tt[o].call(u, n, s, u.opts), e) return e;
        return eo(u, s),
        i.isFunction(u.opts.start) && u.opts.start.call(n, u),
        i.fx.timer(i.extend(h, {
            anim: u,
            queue: u.opts.queue,
            elem: n
        })),
        u.progress(u.opts.progress).done(u.opts.done, u.opts.complete).fail(u.opts.fail).always(u.opts.always)
    }
    function to(n, t) {
        var r, f, e, u, o;
        for (r in n) if (f = i.camelCase(r), e = t[f], u = n[r], i.isArray(u) && (e = u[1], u = n[r] = u[0]), r !== f && (n[f] = u, delete n[r]), o = i.cssHooks[f], o && "expand" in o) {
            u = o.expand(u),
            delete n[f];
            for (r in u) r in n || (n[r] = u[r], t[r] = e)
        } else t[f] = e
    }
    function no(n, t, r) {
        var o, u, a, v, h, c, f, w, s = this,
        e = n.style,
        y = {},
        p = [],
        l = n.nodeType && lt(n);
        r.queue || (f = i._queueHooks(n, "fx"), f.unqueued == null && (f.unqueued = 0, w = f.empty.fire, f.empty.fire = function() {
            f.unqueued || w()
        }), f.unqueued++, s.always(function() {
            s.always(function() {
                f.unqueued--,
                i.queue(n, "fx").length || f.empty.fire()
            })
        })),
        n.nodeType === 1 && ("height" in t || "width" in t) && (r.overflow = [e.overflow, e.overflowX, e.overflowY], i.css(n, "display") === "inline" && i.css(n, "float") === "none" && (!i.support.inlineBlockNeedsLayout || br(n.nodeName) === "inline" ? e.display = "inline-block": e.zoom = 1)),
        r.overflow && (e.overflow = "hidden", i.support.shrinkWrapBlocks || s.done(function() {
            e.overflow = r.overflow[0],
            e.overflowX = r.overflow[1],
            e.overflowY = r.overflow[2]
        }));
        for (o in t) if (a = t[o], df.exec(a)) {
            if (delete t[o], a === (l ? "hide": "show")) continue;
            p.push(o)
        }
        if (v = p.length, v) for (h = i._data(n, "fxshow") || i._data(n, "fxshow", {}), l ? i(n).show() : s.done(function() {
            i(n).hide()
        }), s.done(function() {
            var t;
            i.removeData(n, "fxshow", !0);
            for (t in y) i.style(n, t, y[t])
        }), o = 0; o < v; o++) u = p[o],
        c = s.createTween(u, l ? h[u] : 0),
        y[u] = h[u] || i.style(n, u),
        u in h || (h[u] = c.start, l && (c.end = c.start, c.start = u === "width" || u === "height" ? 1 : 0))
    }
    function f(n, t, i, r, u) {
        return new f.prototype.init(n, t, i, r, u)
    }
    function ut(n, t) {
        for (var r, i = {
            height: n
        },
        u = 0; u < 4; u += 2 - t) r = a[u],
        i["margin" + r] = i["padding" + r] = n;
        return t && (i.opacity = i.width = n),
        i
    }
    function lr(n) {
        return i.isWindow(n) ? n: n.nodeType === 9 ? n.defaultView || n.parentWindow: !1
    }
    var cr, g, r = n.document,
    ke = n.location,
    be = n.navigator,
    we = n.jQuery,
    ve = n.$,
    hr = Array.prototype.push,
    o = Array.prototype.slice,
    hu = Array.prototype.indexOf,
    ee = Object.prototype.toString,
    wt = Object.prototype.hasOwnProperty,
    cu = String.prototype.trim,
    i = function(n, t) {
        return new i.fn.init(n, t, cr)
    },
    it = /[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,
    au = /\S/,
    l = /\s+/,
    le = au.test(" ") ? /^[\s\xA0]+|[\s\xA0]+$/g: /^\s+|\s+$/g,
    de = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
    yu = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
    pu = /^[\],:{}\s]*$/,
    ef = /(?:^|:|,)(?:\s*\[)+/g,
    of = /\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
    sf = /"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,
    hf = /^-ms-/,
    bf = /-([\da-z])/gi,
    kf = function(n, t) {
        return (t + "").toUpperCase()
    },
    rt = function() {
        r.addEventListener ? (r.removeEventListener("DOMContentLoaded", rt, !1), i.ready()) : r.readyState === "complete" && (r.detachEvent("onreadystatechange", rt), i.ready())
    },
    vu = {},
    ii,
    sr,
    ar,
    v,
    st,
    ui,
    vt;
    i.fn = i.prototype = {
        constructor: i,
        init: function(n, u, f) {
            var e, o, h, s;
            if (!n) return this;
            if (n.nodeType) return this.context = this[0] = n,
            this.length = 1,
            this;
            if (typeof n == "string") {
                if (e = n.charAt(0) === "<" && n.charAt(n.length - 1) === ">" && n.length >= 3 ? [null, n, null] : de.exec(n), e && (e[1] || !u)) {
                    if (e[1]) return u = u instanceof i ? u[0] : u,
                    s = u && u.nodeType ? u.ownerDocument || u: r,
                    n = i.parseHTML(e[1], s, !0),
                    yu.test(e[1]) && i.isPlainObject(u) && this.attr.call(n, u, !0),
                    i.merge(this, n);
                    if (o = r.getElementById(e[2]), o && o.parentNode) {
                        if (o.id !== e[2]) return f.find(n);
                        this.length = 1,
                        this[0] = o
                    }
                    return this.context = r,
                    this.selector = n,
                    this
                }
                return ! u || u.jquery ? (u || f).find(n) : this.constructor(u).find(n)
            }
            return i.isFunction(n) ? f.ready(n) : (n.selector !== t && (this.selector = n.selector, this.context = n.context), i.makeArray(n, this))
        },
        selector: "",
        jquery: "1.8.0",
        length: 0,
        size: function() {
            return this.length
        },
        toArray: function() {
            return o.call(this)
        },
        get: function(n) {
            return n == null ? this.toArray() : n < 0 ? this[this.length + n] : this[n]
        },
        pushStack: function(n, t, r) {
            var u = i.merge(this.constructor(), n);
            return u.prevObject = this,
            u.context = this.context,
            t === "find" ? u.selector = this.selector + (this.selector ? " ": "") + r: t && (u.selector = this.selector + "." + t + "(" + r + ")"),
            u
        },
        each: function(n, t) {
            return i.each(this, n, t)
        },
        ready: function(n) {
            return i.ready.promise().done(n),
            this
        },
        eq: function(n) {
            return n = +n,
            n === -1 ? this.slice(n) : this.slice(n, n + 1)
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq( - 1)
        },
        slice: function() {
            return this.pushStack(o.apply(this, arguments), "slice", o.call(arguments).join(","))
        },
        map: function(n) {
            return this.pushStack(i.map(this,
            function(t, i) {
                return n.call(t, i, t)
            }))
        },
        end: function() {
            return this.prevObject || this.constructor(null)
        },
        push: hr,
        sort: [].sort,
        splice: [].splice
    },
    i.fn.init.prototype = i.fn,
    i.extend = i.fn.extend = function() {
        var o, e, u, r, s, h, n = arguments[0] || {},
        f = 1,
        l = arguments.length,
        c = !1;
        for (typeof n == "boolean" && (c = n, n = arguments[1] || {},
        f = 2), typeof n != "object" && !i.isFunction(n) && (n = {}), l === f && (n = this, --f); f < l; f++) if ((o = arguments[f]) != null) for (e in o)(u = n[e], r = o[e], n !== r) && (c && r && (i.isPlainObject(r) || (s = i.isArray(r))) ? (s ? (s = !1, h = u && i.isArray(u) ? u: []) : h = u && i.isPlainObject(u) ? u: {},
        n[e] = i.extend(c, h, r)) : r !== t && (n[e] = r));
        return n
    },
    i.extend({
        noConflict: function(t) {
            return n.$ === i && (n.$ = ve),
            t && n.jQuery === i && (n.jQuery = we),
            i
        },
        isReady: !1,
        readyWait: 1,
        holdReady: function(n) {
            n ? i.readyWait++:i.ready(!0)
        },
        ready: function(n) {
            if (n === !0 ? !--i.readyWait: !i.isReady) {
                if (!r.body) return setTimeout(i.ready, 1); (i.isReady = !0, n !== !0 && --i.readyWait > 0) || (g.resolveWith(r, [i]), i.fn.trigger && i(r).trigger("ready").off("ready"))
            }
        },
        isFunction: function(n) {
            return i.type(n) === "function"
        },
        isArray: Array.isArray ||
        function(n) {
            return i.type(n) === "array"
        },
        isWindow: function(n) {
            return n != null && n == n.window
        },
        isNumeric: function(n) {
            return ! isNaN(parseFloat(n)) && isFinite(n)
        },
        type: function(n) {
            return n == null ? String(n) : vu[ee.call(n)] || "object"
        },
        isPlainObject: function(n) {
            if (!n || i.type(n) !== "object" || n.nodeType || i.isWindow(n)) return ! 1;
            try {
                if (n.constructor && !wt.call(n, "constructor") && !wt.call(n.constructor.prototype, "isPrototypeOf")) return ! 1
            } catch(u) {
                return ! 1
            }
            var r;
            for (r in n);
            return r === t || wt.call(n, r)
        },
        isEmptyObject: function(n) {
            var t;
            for (t in n) return ! 1;
            return ! 0
        },
        error: function(n) {
            throw new Error(n);
        },
        parseHTML: function(n, t, u) {
            var f;
            return ! n || typeof n != "string" ? null: (typeof t == "boolean" && (u = t, t = 0), t = t || r, (f = yu.exec(n)) ? [t.createElement(f[1])] : (f = i.buildFragment([n], t, u ? null: []), i.merge([], (f.cacheable ? i.clone(f.fragment) : f.fragment).childNodes)))
        },
        parseJSON: function(t) {
            if (!t || typeof t != "string") return null;
            if (t = i.trim(t), n.JSON && n.JSON.parse) return n.JSON.parse(t);
            if (pu.test(t.replace(of, "@").replace(sf, "]").replace(ef, ""))) return new Function("return " + t)();
            i.error("Invalid JSON: " + t)
        },
        parseXML: function(r) {
            var u, f;
            if (!r || typeof r != "string") return null;
            try {
                n.DOMParser ? (f = new DOMParser, u = f.parseFromString(r, "text/xml")) : (u = new ActiveXObject("Microsoft.XMLDOM"), u.async = "false", u.loadXML(r))
            } catch(e) {
                u = t
            }
            return (!u || !u.documentElement || u.getElementsByTagName("parsererror").length) && i.error("Invalid XML: " + r),
            u
        },
        noop: function() {},
        globalEval: function(t) {
            t && au.test(t) && (n.execScript ||
            function(t) {
                n.eval.call(n, t)
            })(t)
        },
        camelCase: function(n) {
            return n.replace(hf, "ms-").replace(bf, kf)
        },
        nodeName: function(n, t) {
            return n.nodeName && n.nodeName.toUpperCase() === t.toUpperCase()
        },
        each: function(n, r, u) {
            var f, e = 0,
            o = n.length,
            s = o === t || i.isFunction(n);
            if (u) {
                if (s) {
                    for (f in n) if (r.apply(n[f], u) === !1) break
                } else for (; e < o;) if (r.apply(n[e++], u) === !1) break
            } else if (s) {
                for (f in n) if (r.call(n[f], f, n[f]) === !1) break
            } else for (; e < o;) if (r.call(n[e], e, n[e++]) === !1) break;
            return n
        },
        trim: cu ?
        function(n) {
            return n == null ? "": cu.call(n)
        }: function(n) {
            return n == null ? "": n.toString().replace(le, "")
        },
        makeArray: function(n, t) {
            var r, u = t || [];
            return n != null && (r = i.type(n), n.length == null || r === "string" || r === "function" || r === "regexp" || i.isWindow(n) ? hr.call(u, n) : i.merge(u, n)),
            u
        },
        inArray: function(n, t, i) {
            var r;
            if (t) {
                if (hu) return hu.call(t, n, i);
                for (r = t.length, i = i ? i < 0 ? Math.max(0, r + i) : i: 0; i < r; i++) if (i in t && t[i] === n) return i
            }
            return - 1
        },
        merge: function(n, i) {
            var f = i.length,
            u = n.length,
            r = 0;
            if (typeof f == "number") for (; r < f; r++) n[u++] = i[r];
            else while (i[r] !== t) n[u++] = i[r++];
            return n.length = u,
            n
        },
        grep: function(n, t, i) {
            var u, f = [],
            r = 0,
            e = n.length;
            for (i = !!i; r < e; r++) u = !!t(n[r], r),
            i !== u && f.push(n[r]);
            return f
        },
        map: function(n, r, u) {
            var f, h, e = [],
            s = 0,
            o = n.length,
            c = n instanceof i || o !== t && typeof o == "number" && (o > 0 && n[0] && n[o - 1] || o === 0 || i.isArray(n));
            if (c) for (; s < o; s++) f = r(n[s], s, u),
            f != null && (e[e.length] = f);
            else for (h in n) f = r(n[h], h, u),
            f != null && (e[e.length] = f);
            return e.concat.apply([], e)
        },
        guid: 1,
        proxy: function(n, r) {
            var f, e, u;
            return typeof r == "string" && (f = n[r], r = n, n = f),
            i.isFunction(n) ? (e = o.call(arguments, 2), u = function() {
                return n.apply(r, e.concat(o.call(arguments)))
            },
            u.guid = n.guid = n.guid || u.guid || i.guid++, u) : t
        },
        access: function(n, r, u, f, e, o, s) {
            var c, l = u == null,
            h = 0,
            a = n.length;
            if (u && typeof u == "object") {
                for (h in u) i.access(n, r, h, u[h], 1, o, f);
                e = 1
            } else if (f !== t) {
                if (c = s === t && i.isFunction(f), l && (c ? (c = r, r = function(n, t, r) {
                    return c.call(i(n), r)
                }) : (r.call(n, f), r = null)), r) for (; h < a; h++) r(n[h], u, c ? f.call(n[h], h, r(n[h], u)) : f, s);
                e = 1
            }
            return e ? n: l ? r.call(n) : a ? r(n[0], u) : o
        },
        now: function() {
            return + new Date
        }
    }),
    i.ready.promise = function(t) {
        if (!g) if (g = i.Deferred(), r.readyState === "complete" || r.readyState !== "loading" && r.addEventListener) setTimeout(i.ready, 1);
        else if (r.addEventListener) r.addEventListener("DOMContentLoaded", rt, !1),
        n.addEventListener("load", i.ready, !1);
        else {
            r.attachEvent("onreadystatechange", rt),
            n.attachEvent("onload", i.ready);
            var u = !1;
            try {
                u = n.frameElement == null && r.documentElement
            } catch(e) {}
            u && u.doScroll &&
            function f() {
                if (!i.isReady) {
                    try {
                        u.doScroll("left")
                    } catch(n) {
                        return setTimeout(f, 50)
                    }
                    i.ready()
                }
            } ()
        }
        return g.promise(t)
    },
    i.each("Boolean Number String Function Array Date RegExp Object".split(" "),
    function(n, t) {
        vu["[object " + t + "]"] = t.toLowerCase()
    }),
    cr = i(r),
    ii = {},
    i.Callbacks = function(n) {
        n = typeof n == "string" ? ii[n] || te(n) : i.extend({},
        n);
        var f, c, o, l, s, e, r = [],
        u = !n.once && [],
        a = function(t) {
            for (f = n.memory && t, c = !0, e = l || 0, l = 0, s = r.length, o = !0; r && e < s; e++) if (r[e].apply(t[0], t[1]) === !1 && n.stopOnFalse) {
                f = !1;
                break
            }
            o = !1,
            r && (u ? u.length && a(u.shift()) : f ? r = [] : h.disable())
        },
        h = {
            add: function() {
                if (r) {
                    var t = r.length; (function u(t) {
                        i.each(t,
                        function(t, f) {
                            i.isFunction(f) && (!n.unique || !h.has(f)) ? r.push(f) : f && f.length && u(f)
                        })
                    })(arguments),
                    o ? s = r.length: f && (l = t, a(f))
                }
                return this
            },
            remove: function() {
                return r && i.each(arguments,
                function(n, t) {
                    for (var u; (u = i.inArray(t, r, u)) > -1;) r.splice(u, 1),
                    o && (u <= s && s--, u <= e && e--)
                }),
                this
            },
            has: function(n) {
                return i.inArray(n, r) > -1
            },
            empty: function() {
                return r = [],
                this
            },
            disable: function() {
                return r = u = f = t,
                this
            },
            disabled: function() {
                return ! r
            },
            lock: function() {
                return u = t,
                f || h.disable(),
                this
            },
            locked: function() {
                return ! u
            },
            fireWith: function(n, t) {
                return t = t || [],
                t = [n, t.slice ? t.slice() : t],
                r && (!c || u) && (o ? u.push(t) : a(t)),
                this
            },
            fire: function() {
                return h.fireWith(this, arguments),
                this
            },
            fired: function() {
                return !! c
            }
        };
        return h
    },
    i.extend({
        Deferred: function(n) {
            var u = [["resolve", "done", i.Callbacks("once memory"), "resolved"], ["reject", "fail", i.Callbacks("once memory"), "rejected"], ["notify", "progress", i.Callbacks("memory")]],
            f = "pending",
            r = {
                state: function() {
                    return f
                },
                always: function() {
                    return t.done(arguments).fail(arguments),
                    this
                },
                then: function() {
                    var n = arguments;
                    return i.Deferred(function(r) {
                        i.each(u,
                        function(u, f) {
                            var e = f[0],
                            o = n[u];
                            t[f[1]](i.isFunction(o) ?
                            function() {
                                var n = o.apply(this, arguments);
                                n && i.isFunction(n.promise) ? n.promise().done(r.resolve).fail(r.reject).progress(r.notify) : r[e + "With"](this === t ? r: this, [n])
                            }: r[e])
                        }),
                        n = null
                    }).promise()
                },
                promise: function(n) {
                    return typeof n == "object" ? i.extend(n, r) : r
                }
            },
            t = {};
            return r.pipe = r.then,
            i.each(u,
            function(n, i) {
                var e = i[2],
                o = i[3];
                r[i[1]] = e.add,
                o && e.add(function() {
                    f = o
                },
                u[n ^ 1][2].disable, u[2][2].lock),
                t[i[0]] = e.fire,
                t[i[0] + "With"] = e.fireWith
            }),
            r.promise(t),
            n && n.call(t, t),
            t
        },
        when: function(n) {
            var t = 0,
            u = o.call(arguments),
            r = u.length,
            e = r !== 1 || n && i.isFunction(n.promise) ? r: 0,
            f = e === 1 ? n: i.Deferred(),
            c = function(n, t, i) {
                return function(r) {
                    t[n] = this,
                    i[n] = arguments.length > 1 ? o.call(arguments) : r,
                    i === s ? f.notifyWith(t, i) : --e || f.resolveWith(t, i)
                }
            },
            s,
            l,
            h;
            if (r > 1) for (s = new Array(r), l = new Array(r), h = new Array(r); t < r; t++) u[t] && i.isFunction(u[t].promise) ? u[t].promise().done(c(t, h, u)).fail(f.reject).progress(c(t, l, s)) : --e;
            return e || f.resolveWith(h, u),
            f.promise()
        }
    }),
    i.support = function() {
        var u, h, e, c, l, f, o, a, v, s, y, t = r.createElement("div");
        if (t.setAttribute("className", "t"), t.innerHTML = "  <link/><table></table><a href='../a'>a</a><input type='checkbox'/>", h = t.getElementsByTagName("*"), e = t.getElementsByTagName("a")[0], e.style.cssText = "top:1px;float:left;opacity:.5", !h || !h.length || !e) return {};
        c = r.createElement("select"),
        l = c.appendChild(r.createElement("option")),
        f = t.getElementsByTagName("input")[0],
        u = {
            leadingWhitespace: t.firstChild.nodeType === 3,
            tbody: !t.getElementsByTagName("tbody").length,
            htmlSerialize: !!t.getElementsByTagName("link").length,
            style: /top/.test(e.getAttribute("style")),
            hrefNormalized: e.getAttribute("href") === "../a",
            opacity: /^0.5/.test(e.style.opacity),
            cssFloat: !!e.style.cssFloat,
            checkOn: f.value === "on",
            optSelected: l.selected,
            getSetAttribute: t.className !== "t",
            enctype: !!r.createElement("form").enctype,
            html5Clone: r.createElement("nav").cloneNode(!0).outerHTML !== "<:nav></:nav>",
            boxModel: r.compatMode === "CSS1Compat",
            submitBubbles: !0,
            changeBubbles: !0,
            focusinBubbles: !1,
            deleteExpando: !0,
            noCloneEvent: !0,
            inlineBlockNeedsLayout: !1,
            shrinkWrapBlocks: !1,
            reliableMarginRight: !0,
            boxSizingReliable: !0,
            pixelPosition: !1
        },
        f.checked = !0,
        u.noCloneChecked = f.cloneNode(!0).checked,
        c.disabled = !0,
        u.optDisabled = !l.disabled;
        try {
            delete t.test
        } catch(p) {
            u.deleteExpando = !1
        }
        if (!t.addEventListener && t.attachEvent && t.fireEvent && (t.attachEvent("onclick", y = function() {
            u.noCloneEvent = !1
        }), t.cloneNode(!0).fireEvent("onclick"), t.detachEvent("onclick", y)), f = r.createElement("input"), f.value = "t", f.setAttribute("type", "radio"), u.radioValue = f.value === "t", f.setAttribute("checked", "checked"), f.setAttribute("name", "t"), t.appendChild(f), o = r.createDocumentFragment(), o.appendChild(t.lastChild), u.checkClone = o.cloneNode(!0).cloneNode(!0).lastChild.checked, u.appendChecked = f.checked, o.removeChild(f), o.appendChild(t), t.attachEvent) for (v in {
            submit: !0,
            change: !0,
            focusin: !0
        }) a = "on" + v,
        s = a in t,
        s || (t.setAttribute(a, "return;"), s = typeof t[a] == "function"),
        u[v + "Bubbles"] = s;
        return i(function() {
            var i, t, f, e, h = "padding:0;margin:0;border:0;display:block;overflow:hidden;",
            o = r.getElementsByTagName("body")[0];
            o && (i = r.createElement("div"), i.style.cssText = "visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px", o.insertBefore(i, o.firstChild), t = r.createElement("div"), i.appendChild(t), t.innerHTML = "<table><tr><td></td><td>t</td></tr></table>", f = t.getElementsByTagName("td"), f[0].style.cssText = "padding:0;margin:0;border:0;display:none", s = f[0].offsetHeight === 0, f[0].style.display = "", f[1].style.display = "none", u.reliableHiddenOffsets = s && f[0].offsetHeight === 0, t.innerHTML = "", t.style.cssText = "box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;", u.boxSizing = t.offsetWidth === 4, u.doesNotIncludeMarginInBodyOffset = o.offsetTop !== 1, n.getComputedStyle && (u.pixelPosition = (n.getComputedStyle(t, null) || {}).top !== "1%", u.boxSizingReliable = (n.getComputedStyle(t, null) || {
                width: "4px"
            }).width === "4px", e = r.createElement("div"), e.style.cssText = t.style.cssText = h, e.style.marginRight = e.style.width = "0", t.style.width = "1px", t.appendChild(e), u.reliableMarginRight = !parseFloat((n.getComputedStyle(e, null) || {}).marginRight)), typeof t.style.zoom != "undefined" && (t.innerHTML = "", t.style.cssText = h + "width:1px;padding:1px;display:inline;zoom:1", u.inlineBlockNeedsLayout = t.offsetWidth === 3, t.style.display = "block", t.style.overflow = "visible", t.innerHTML = "<div></div>", t.firstChild.style.width = "5px", u.shrinkWrapBlocks = t.offsetWidth !== 3, i.style.zoom = 1), o.removeChild(i), i = t = f = e = null)
        }),
        o.removeChild(t),
        h = e = c = l = f = o = t = null,
        u
    } (),
    sr = /^(?:\{.*\}|\[.*\])$/,
    ar = /([A-Z])/g,
    i.extend({
        cache: {},
        deletedIds: [],
        uuid: 0,
        expando: "jQuery" + (i.fn.jquery + Math.random()).replace(/\D/g, ""),
        noData: {
            embed: !0,
            object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
            applet: !0
        },
        hasData: function(n) {
            return n = n.nodeType ? i.cache[n[i.expando]] : n[i.expando],
            !!n && !bt(n)
        },
        data: function(n, r, u, f) {
            if (i.acceptData(n)) {
                var s, h, c = i.expando,
                a = typeof r == "string",
                l = n.nodeType,
                o = l ? i.cache: n,
                e = l ? n[c] : n[c] && c;
                if (e && o[e] && (f || o[e].data) || !a || u !== t) return e || (l ? n[c] = e = i.deletedIds.pop() || ++i.uuid: e = c),
                o[e] || (o[e] = {},
                l || (o[e].toJSON = i.noop)),
                (typeof r == "object" || typeof r == "function") && (f ? o[e] = i.extend(o[e], r) : o[e].data = i.extend(o[e].data, r)),
                s = o[e],
                f || (s.data || (s.data = {}), s = s.data),
                u !== t && (s[i.camelCase(r)] = u),
                a ? (h = s[r], h == null && (h = s[i.camelCase(r)])) : h = s,
                h
            }
        },
        removeData: function(n, t, r) {
            if (i.acceptData(n)) {
                var e, o, h, s = n.nodeType,
                u = s ? i.cache: n,
                f = s ? n[i.expando] : i.expando;
                if (u[f]) {
                    if (t && (e = r ? u[f] : u[f].data, e)) {
                        for (i.isArray(t) || (t in e ? t = [t] : (t = i.camelCase(t), t = t in e ? [t] : t.split(" "))), o = 0, h = t.length; o < h; o++) delete e[t[o]];
                        if (! (r ? bt: i.isEmptyObject)(e)) return
                    } (r || (delete u[f].data, bt(u[f]))) && (s ? i.cleanData([n], !0) : i.support.deleteExpando || u != u.window ? delete u[f] : u[f] = null)
                }
            }
        },
        _data: function(n, t, r) {
            return i.data(n, t, r, !0)
        },
        acceptData: function(n) {
            var t = n.nodeName && i.noData[n.nodeName.toLowerCase()];
            return ! t || t !== !0 && n.getAttribute("classid") === t
        }
    }),
    i.fn.extend({
        data: function(n, r) {
            var u, s, h, o, l, e = this[0],
            c = 0,
            f = null;
            if (n === t) {
                if (this.length && (f = i.data(e), e.nodeType === 1 && !i._data(e, "parsedAttrs"))) {
                    for (h = e.attributes, l = h.length; c < l; c++) o = h[c].name,
                    o.indexOf("data-") === 0 && (o = i.camelCase(o.substring(5)), su(e, o, f[o]));
                    i._data(e, "parsedAttrs", !0)
                }
                return f
            }
            return typeof n == "object" ? this.each(function() {
                i.data(this, n)
            }) : (u = n.split(".", 2), u[1] = u[1] ? "." + u[1] : "", s = u[1] + "!", i.access(this,
            function(r) {
                if (r === t) return f = this.triggerHandler("getData" + s, [u[0]]),
                f === t && e && (f = i.data(e, n), f = su(e, n, f)),
                f === t && u[1] ? this.data(u[0]) : f;
                u[1] = r,
                this.each(function() {
                    var t = i(this);
                    t.triggerHandler("setData" + s, u),
                    i.data(this, n, r),
                    t.triggerHandler("changeData" + s, u)
                })
            },
            null, r, arguments.length > 1, null, !1))
        },
        removeData: function(n) {
            return this.each(function() {
                i.removeData(this, n)
            })
        }
    }),
    i.extend({
        queue: function(n, t, r) {
            var u;
            if (n) return t = (t || "fx") + "queue",
            u = i._data(n, t),
            r && (!u || i.isArray(r) ? u = i._data(n, t, i.makeArray(r)) : u.push(r)),
            u || []
        },
        dequeue: function(n, t) {
            t = t || "fx";
            var r = i.queue(n, t),
            u = r.shift(),
            f = i._queueHooks(n, t),
            e = function() {
                i.dequeue(n, t)
            };
            u === "inprogress" && (u = r.shift()),
            u && (t === "fx" && r.unshift("inprogress"), delete f.stop, u.call(n, e, f)),
            !r.length && f && f.empty.fire()
        },
        _queueHooks: function(n, t) {
            var r = t + "queueHooks";
            return i._data(n, r) || i._data(n, r, {
                empty: i.Callbacks("once memory").add(function() {
                    i.removeData(n, t + "queue", !0),
                    i.removeData(n, r, !0)
                })
            })
        }
    }),
    i.fn.extend({
        queue: function(n, r) {
            var u = 2;
            return typeof n != "string" && (r = n, n = "fx", u--),
            arguments.length < u ? i.queue(this[0], n) : r === t ? this: this.each(function() {
                var t = i.queue(this, n, r);
                i._queueHooks(this, n),
                n === "fx" && t[0] !== "inprogress" && i.dequeue(this, n)
            })
        },
        dequeue: function(n) {
            return this.each(function() {
                i.dequeue(this, n)
            })
        },
        delay: function(n, t) {
            return n = i.fx ? i.fx.speeds[n] || n: n,
            t = t || "fx",
            this.queue(t,
            function(t, i) {
                var r = setTimeout(t, n);
                i.stop = function() {
                    clearTimeout(r)
                }
            })
        },
        clearQueue: function(n) {
            return this.queue(n || "fx", [])
        },
        promise: function(n, r) {
            var u, e = 1,
            o = i.Deferred(),
            f = this,
            s = this.length,
            h = function() {--e || o.resolveWith(f, [f])
            };
            for (typeof n != "string" && (r = n, n = t), n = n || "fx"; s--;)(u = i._data(f[s], n + "queueHooks")) && u.empty && (e++, u.empty.add(h));
            return h(),
            o.promise(r)
        }
    });
    var s, ri, fi, ei = /[\t\r\n]/g,
    wf = /\r/g,
    yf = /^(?:button|input)$/i,
    af = /^(?:button|input|object|select|textarea)$/i,
    cf = /^a(?:rea|)$/i,
    oi = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
    or = i.support.getSetAttribute;
    i.fn.extend({
        attr: function(n, t) {
            return i.access(this, i.attr, n, t, arguments.length > 1)
        },
        removeAttr: function(n) {
            return this.each(function() {
                i.removeAttr(this, n)
            })
        },
        prop: function(n, t) {
            return i.access(this, i.prop, n, t, arguments.length > 1)
        },
        removeProp: function(n) {
            return n = i.propFix[n] || n,
            this.each(function() {
                try {
                    this[n] = t,
                    delete this[n]
                } catch(i) {}
            })
        },
        addClass: function(n) {
            var r, f, o, t, e, u, s;
            if (i.isFunction(n)) return this.each(function(t) {
                i(this).addClass(n.call(this, t, this.className))
            });
            if (n && typeof n == "string") for (r = n.split(l), f = 0, o = this.length; f < o; f++) if (t = this[f], t.nodeType === 1) if (t.className || r.length !== 1) {
                for (e = " " + t.className + " ", u = 0, s = r.length; u < s; u++)~e.indexOf(" " + r[u] + " ") || (e += r[u] + " ");
                t.className = i.trim(e)
            } else t.className = n;
            return this
        },
        removeClass: function(n) {
            var e, r, u, f, s, o, h;
            if (i.isFunction(n)) return this.each(function(t) {
                i(this).removeClass(n.call(this, t, this.className))
            });
            if (n && typeof n == "string" || n === t) for (e = (n || "").split(l), o = 0, h = this.length; o < h; o++) if (u = this[o], u.nodeType === 1 && u.className) {
                for (r = (" " + u.className + " ").replace(ei, " "), f = 0, s = e.length; f < s; f++) while (r.indexOf(" " + e[f] + " ") > -1) r = r.replace(" " + e[f] + " ", " ");
                u.className = n ? i.trim(r) : ""
            }
            return this
        },
        toggleClass: function(n, t) {
            var r = typeof n,
            u = typeof t == "boolean";
            return i.isFunction(n) ? this.each(function(r) {
                i(this).toggleClass(n.call(this, r, this.className, t), t)
            }) : this.each(function() {
                if (r === "string") for (var f, s = 0,
                o = i(this), e = t, h = n.split(l); f = h[s++];) e = u ? e: !o.hasClass(f),
                o[e ? "addClass": "removeClass"](f);
                else(r === "undefined" || r === "boolean") && (this.className && i._data(this, "__className__", this.className), this.className = this.className || n === !1 ? "": i._data(this, "__className__") || "")
            })
        },
        hasClass: function(n) {
            for (var i = " " + n + " ",
            t = 0,
            r = this.length; t < r; t++) if (this[t].nodeType === 1 && (" " + this[t].className + " ").replace(ei, " ").indexOf(i) > -1) return ! 0;
            return ! 1
        },
        val: function(n) {
            var r, u, e, f = this[0];
            return arguments.length ? (e = i.isFunction(n), this.each(function(u) {
                var f, o = i(this);
                this.nodeType === 1 && (f = e ? n.call(this, u, o.val()) : n, f == null ? f = "": typeof f == "number" ? f += "": i.isArray(f) && (f = i.map(f,
                function(n) {
                    return n == null ? "": n + ""
                })), r = i.valHooks[this.type] || i.valHooks[this.nodeName.toLowerCase()], r && "set" in r && r.set(this, f, "value") !== t || (this.value = f))
            })) : f ? (r = i.valHooks[f.type] || i.valHooks[f.nodeName.toLowerCase()], r && "get" in r && (u = r.get(f, "value")) !== t ? u: (u = f.value, typeof u == "string" ? u.replace(wf, "") : u == null ? "": u)) : void 0
        }
    }),
    i.extend({
        valHooks: {
            option: {
                get: function(n) {
                    var t = n.attributes.value;
                    return ! t || t.specified ? n.value: n.text
                }
            },
            select: {
                get: function(n) {
                    var o, r, h, t, u = n.selectedIndex,
                    s = [],
                    f = n.options,
                    e = n.type === "select-one";
                    if (u < 0) return null;
                    for (r = e ? u: 0, h = e ? u + 1 : f.length; r < h; r++) if (t = f[r], t.selected && (i.support.optDisabled ? !t.disabled: t.getAttribute("disabled") === null) && (!t.parentNode.disabled || !i.nodeName(t.parentNode, "optgroup"))) {
                        if (o = i(t).val(), e) return o;
                        s.push(o)
                    }
                    return e && !s.length && f.length ? i(f[u]).val() : s
                },
                set: function(n, t) {
                    var r = i.makeArray(t);
                    return i(n).find("option").each(function() {
                        this.selected = i.inArray(i(this).val(), r) >= 0
                    }),
                    r.length || (n.selectedIndex = -1),
                    r
                }
            }
        },
        attrFn: {},
        attr: function(n, r, u, f) {
            var e, o, h, c = n.nodeType;
            if (n && c !== 3 && c !== 8 && c !== 2) {
                if (f && i.isFunction(i.fn[r])) return i(n)[r](u);
                if (typeof n.getAttribute == "undefined") return i.prop(n, r, u);
                if (h = c !== 1 || !i.isXMLDoc(n), h && (r = r.toLowerCase(), o = i.attrHooks[r] || (oi.test(r) ? ri: s)), u !== t) {
                    if (u === null) {
                        i.removeAttr(n, r);
                        return
                    }
                    return o && "set" in o && h && (e = o.set(n, u, r)) !== t ? e: (n.setAttribute(r, "" + u), u)
                }
                return o && "get" in o && h && (e = o.get(n, r)) !== null ? e: (e = n.getAttribute(r), e === null ? t: e)
            }
        },
        removeAttr: function(n, t) {
            var u, f, r, e, o = 0;
            if (t && n.nodeType === 1) for (f = t.split(l); o < f.length; o++) r = f[o],
            r && (u = i.propFix[r] || r, e = oi.test(r), e || i.attr(n, r, ""), n.removeAttribute(or ? r: u), e && u in n && (n[u] = !1))
        },
        attrHooks: {
            type: {
                set: function(n, t) {
                    if (yf.test(n.nodeName) && n.parentNode) i.error("type property can't be changed");
                    else if (!i.support.radioValue && t === "radio" && i.nodeName(n, "input")) {
                        var r = n.value;
                        return n.setAttribute("type", t),
                        r && (n.value = r),
                        t
                    }
                }
            },
            value: {
                get: function(n, t) {
                    return s && i.nodeName(n, "button") ? s.get(n, t) : t in n ? n.value: null
                },
                set: function(n, t, r) {
                    if (s && i.nodeName(n, "button")) return s.set(n, t, r);
                    n.value = t
                }
            }
        },
        propFix: {
            tabindex: "tabIndex",
            readonly: "readOnly",
            "for": "htmlFor",
            "class": "className",
            maxlength: "maxLength",
            cellspacing: "cellSpacing",
            cellpadding: "cellPadding",
            rowspan: "rowSpan",
            colspan: "colSpan",
            usemap: "useMap",
            frameborder: "frameBorder",
            contenteditable: "contentEditable"
        },
        prop: function(n, r, u) {
            var e, f, s, o = n.nodeType;
            if (n && o !== 3 && o !== 8 && o !== 2) return s = o !== 1 || !i.isXMLDoc(n),
            s && (r = i.propFix[r] || r, f = i.propHooks[r]),
            u !== t ? f && "set" in f && (e = f.set(n, u, r)) !== t ? e: n[r] = u: f && "get" in f && (e = f.get(n, r)) !== null ? e: n[r]
        },
        propHooks: {
            tabIndex: {
                get: function(n) {
                    var i = n.getAttributeNode("tabindex");
                    return i && i.specified ? parseInt(i.value, 10) : af.test(n.nodeName) || cf.test(n.nodeName) && n.href ? 0 : t
                }
            }
        }
    }),
    ri = {
        get: function(n, r) {
            var u, f = i.prop(n, r);
            return f === !0 || typeof f != "boolean" && (u = n.getAttributeNode(r)) && u.nodeValue !== !1 ? r.toLowerCase() : t
        },
        set: function(n, t, r) {
            var u;
            return t === !1 ? i.removeAttr(n, r) : (u = i.propFix[r] || r, u in n && (n[u] = !0), n.setAttribute(r, r.toLowerCase())),
            r
        }
    },
    or || (fi = {
        name: !0,
        id: !0,
        coords: !0
    },
    s = i.valHooks.button = {
        get: function(n, i) {
            var r;
            return r = n.getAttributeNode(i),
            r && (fi[i] ? r.value !== "": r.specified) ? r.value: t
        },
        set: function(n, t, i) {
            var u = n.getAttributeNode(i);
            return u || (u = r.createAttribute(i), n.setAttributeNode(u)),
            u.value = t + ""
        }
    },
    i.each(["width", "height"],
    function(n, t) {
        i.attrHooks[t] = i.extend(i.attrHooks[t], {
            set: function(n, i) {
                if (i === "") return n.setAttribute(t, "auto"),
                i
            }
        })
    }), i.attrHooks.contenteditable = {
        get: s.get,
        set: function(n, t, i) {
            t === "" && (t = "false"),
            s.set(n, t, i)
        }
    }),
    i.support.hrefNormalized || i.each(["href", "src", "width", "height"],
    function(n, r) {
        i.attrHooks[r] = i.extend(i.attrHooks[r], {
            get: function(n) {
                var i = n.getAttribute(r, 2);
                return i === null ? t: i
            }
        })
    }),
    i.support.style || (i.attrHooks.style = {
        get: function(n) {
            return n.style.cssText.toLowerCase() || t
        },
        set: function(n, t) {
            return n.style.cssText = "" + t
        }
    }),
    i.support.optSelected || (i.propHooks.selected = i.extend(i.propHooks.selected, {
        get: function(n) {
            var t = n.parentNode;
            return t && (t.selectedIndex, t.parentNode && t.parentNode.selectedIndex),
            null
        }
    })),
    i.support.enctype || (i.propFix.enctype = "encoding"),
    i.support.checkOn || i.each(["radio", "checkbox"],
    function() {
        i.valHooks[this] = {
            get: function(n) {
                return n.getAttribute("value") === null ? "on": n.value
            }
        }
    }),
    i.each(["radio", "checkbox"],
    function() {
        i.valHooks[this] = i.extend(i.valHooks[this], {
            set: function(n, t) {
                if (i.isArray(t)) return n.checked = i.inArray(i(n).val(), t) >= 0
            }
        })
    });
    var yt = /^(?:textarea|input|select)$/i,
    hi = /^([^/.] _2A | )( ? :\. (. + ) | ) $ / ,
    ff = /(?:^|\s)hover(\.\S+|)\b/,
    tf = /^key/,
    wu = /^(?:mouse|contextmenu)|click/,
    ci = /^(?:focusinfocus|focusoutblur)$/,
    li = function(n) {
        return i.event.special.hover ? n: n.replace(ff, "mouseenter$1 mouseleave$1")
    };
    i.event = {
        add: function(n, r, u, f, e) {
            var a, s, v, y, p, o, b, l, w, c, h;
            if (n.nodeType !== 3 && n.nodeType !== 8 && r && u && (a = i._data(n))) {
                for (u.handler && (w = u, u = w.handler, e = w.selector), u.guid || (u.guid = i.guid++), v = a.events, v || (a.events = v = {}), s = a.handle, s || (a.handle = s = function(n) {
                    return typeof i != "undefined" && (!n || i.event.triggered !== n.type) ? i.event.dispatch.apply(s.elem, arguments) : t
                },
                s.elem = n), r = i.trim(li(r)).split(" "), y = 0; y < r.length; y++) p = hi.exec(r[y]) || [],
                o = p[1],
                b = (p[2] || "").split(".").sort(),
                h = i.event.special[o] || {},
                o = (e ? h.delegateType: h.bindType) || o,
                h = i.event.special[o] || {},
                l = i.extend({
                    type: o,
                    origType: p[1],
                    data: f,
                    handler: u,
                    guid: u.guid,
                    selector: e,
                    namespace: b.join(".")
                },
                w),
                c = v[o],
                c || (c = v[o] = [], c.delegateCount = 0, h.setup && h.setup.call(n, f, b, s) !== !1 || (n.addEventListener ? n.addEventListener(o, s, !1) : n.attachEvent && n.attachEvent("on" + o, s))),
                h.add && (h.add.call(n, l), l.handler.guid || (l.handler.guid = u.guid)),
                e ? c.splice(c.delegateCount++, 0, l) : c.push(l),
                i.event.global[o] = !0;
                n = null
            }
        },
        global: {},
        remove: function(n, t, r, u, f) {
            var v, p, e, b, c, w, y, l, h, o, s, a = i.hasData(n) && i._data(n);
            if (a && (l = a.events)) {
                for (t = i.trim(li(t || "")).split(" "), v = 0; v < t.length; v++) {
                    if (p = hi.exec(t[v]) || [], e = b = p[1], c = p[2], !e) {
                        for (e in l) i.event.remove(n, e + t[v], r, u, !0);
                        continue
                    }
                    for (h = i.event.special[e] || {},
                    e = (u ? h.delegateType: h.bindType) || e, o = l[e] || [], w = o.length, c = c ? new RegExp("(^|\\.)" + c.split(".").sort().join("\\.(?:.*\\.|)") + "(\\.|$)") : null, y = 0; y < o.length; y++) s = o[y],
                    (f || b === s.origType) && (!r || r.guid === s.guid) && (!c || c.test(s.namespace)) && (!u || u === s.selector || u === "**" && s.selector) && (o.splice(y--, 1), s.selector && o.delegateCount--, h.remove && h.remove.call(n, s));
                    o.length === 0 && w !== o.length && ((!h.teardown || h.teardown.call(n, c, a.handle) === !1) && i.removeEvent(n, e, a.handle), delete l[e])
                }
                i.isEmptyObject(l) && (delete a.handle, i.removeData(n, "events", !0))
            }
        },
        customEvent: {
            getData: !0,
            setData: !0,
            changeData: !0
        },
        trigger: function(u, f, e, o) {
            if (!e || e.nodeType !== 3 && e.nodeType !== 8) {
                var w, d, c, h, l, v, a, y, p, k, s = u.type || u,
                b = [];
                if (ci.test(s + i.event.triggered)) return;
                if (s.indexOf("!") >= 0 && (s = s.slice(0, -1), d = !0), s.indexOf(".") >= 0 && (b = s.split("."), s = b.shift(), b.sort()), (!e || i.event.customEvent[s]) && !i.event.global[s]) return;
                if (u = typeof u == "object" ? u[i.expando] ? u: new i.Event(s, u) : new i.Event(s), u.type = s, u.isTrigger = !0, u.exclusive = d, u.namespace = b.join("."), u.namespace_re = u.namespace ? new RegExp("(^|\\.)" + b.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, v = s.indexOf(":") < 0 ? "on" + s: "", !e) {
                    w = i.cache;
                    for (c in w) w[c].events && w[c].events[s] && i.event.trigger(u, f, w[c].handle.elem, !0);
                    return
                }
                if (u.result = t, u.target || (u.target = e), f = f != null ? i.makeArray(f) : [], f.unshift(u), a = i.event.special[s] || {},
                a.trigger && a.trigger.apply(e, f) === !1) return;
                if (p = [[e, a.bindType || s]], !o && !a.noBubble && !i.isWindow(e)) {
                    for (k = a.delegateType || s, h = ci.test(k + s) ? e: e.parentNode, l = e; h; h = h.parentNode) p.push([h, k]),
                    l = h;
                    l === (e.ownerDocument || r) && p.push([l.defaultView || l.parentWindow || n, k])
                }
                for (c = 0; c < p.length && !u.isPropagationStopped(); c++) h = p[c][0],
                u.type = p[c][1],
                y = (i._data(h, "events") || {})[u.type] && i._data(h, "handle"),
                y && y.apply(h, f),
                y = v && h[v],
                y && i.acceptData(h) && y.apply(h, f) === !1 && u.preventDefault();
                return u.type = s,
                !o && !u.isDefaultPrevented() && (!a._default || a._default.apply(e.ownerDocument, f) === !1) && (s !== "click" || !i.nodeName(e, "a")) && i.acceptData(e) && v && e[s] && (s !== "focus" && s !== "blur" || u.target.offsetWidth !== 0) && !i.isWindow(e) && (l = e[v], l && (e[v] = null), i.event.triggered = s, e[s](), i.event.triggered = t, l && (e[v] = l)),
                u.result
            }
            return
        },
        dispatch: function(r) {
            r = i.event.fix(r || n.event);
            var f, p, e, y, v, a, s, l, u, o, g, c = (i._data(this, "events") || {})[r.type] || [],
            h = c.delegateCount,
            k = [].slice.call(arguments),
            d = !r.exclusive && !r.namespace,
            w = i.event.special[r.type] || {},
            b = [];
            if (k[0] = r, r.delegateTarget = this, !w.preDispatch || w.preDispatch.call(this, r) !== !1) {
                if (h && (!r.button || r.type !== "click")) for (y = i(this), y.context = this, e = r.target; e != this; e = e.parentNode || this) if (e.disabled !== !0 || r.type !== "click") {
                    for (a = {},
                    l = [], y[0] = e, f = 0; f < h; f++) u = c[f],
                    o = u.selector,
                    a[o] === t && (a[o] = y.is(o)),
                    a[o] && l.push(u);
                    l.length && b.push({
                        elem: e,
                        matches: l
                    })
                }
                for (c.length > h && b.push({
                    elem: this,
                    matches: c.slice(h)
                }), f = 0; f < b.length && !r.isPropagationStopped(); f++) for (s = b[f], r.currentTarget = s.elem, p = 0; p < s.matches.length && !r.isImmediatePropagationStopped(); p++) u = s.matches[p],
                (d || !r.namespace && !u.namespace || r.namespace_re && r.namespace_re.test(u.namespace)) && (r.data = u.data, r.handleObj = u, v = ((i.event.special[u.origType] || {}).handle || u.handler).apply(s.elem, k), v !== t && (r.result = v, v === !1 && (r.preventDefault(), r.stopPropagation())));
                return w.postDispatch && w.postDispatch.call(this, r),
                r.result
            }
        },
        props: "attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(n, t) {
                return n.which == null && (n.which = t.charCode != null ? t.charCode: t.keyCode),
                n
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(n, i) {
                var o, u, f, e = i.button,
                s = i.fromElement;
                return n.pageX == null && i.clientX != null && (o = n.target.ownerDocument || r, u = o.documentElement, f = o.body, n.pageX = i.clientX + (u && u.scrollLeft || f && f.scrollLeft || 0) - (u && u.clientLeft || f && f.clientLeft || 0), n.pageY = i.clientY + (u && u.scrollTop || f && f.scrollTop || 0) - (u && u.clientTop || f && f.clientTop || 0)),
                !n.relatedTarget && s && (n.relatedTarget = s === n.target ? i.toElement: s),
                !n.which && e !== t && (n.which = e & 1 ? 1 : e & 2 ? 3 : e & 4 ? 2 : 0),
                n
            }
        },
        fix: function(n) {
            if (n[i.expando]) return n;
            var f, e, t = n,
            u = i.event.fixHooks[n.type] || {},
            o = u.props ? this.props.concat(u.props) : this.props;
            for (n = i.Event(t), f = o.length; f;) e = o[--f],
            n[e] = t[e];
            return n.target || (n.target = t.srcElement || r),
            n.target.nodeType === 3 && (n.target = n.target.parentNode),
            n.metaKey = !!n.metaKey,
            u.filter ? u.filter(n, t) : n
        },
        special: {
            ready: {
                setup: i.bindReady
            },
            load: {
                noBubble: !0
            },
            focus: {
                delegateType: "focusin"
            },
            blur: {
                delegateType: "focusout"
            },
            beforeunload: {
                setup: function(n, t, r) {
                    i.isWindow(this) && (this.onbeforeunload = r)
                },
                teardown: function(n, t) {
                    this.onbeforeunload === t && (this.onbeforeunload = null)
                }
            }
        },
        simulate: function(n, t, r, u) {
            var f = i.extend(new i.Event, r, {
                type: n,
                isSimulated: !0,
                originalEvent: {}
            });
            u ? i.event.trigger(f, null, t) : i.event.dispatch.call(t, f),
            f.isDefaultPrevented() && r.preventDefault()
        }
    },
    i.event.handle = i.event.dispatch,
    i.removeEvent = r.removeEventListener ?
    function(n, t, i) {
        n.removeEventListener && n.removeEventListener(t, i, !1)
    }: function(n, t, i) {
        var r = "on" + t;
        n.detachEvent && (typeof n[r] == "undefined" && (n[r] = null), n.detachEvent(r, i))
    },
    i.Event = function(n, t) {
        if (this instanceof i.Event) n && n.type ? (this.originalEvent = n, this.type = n.type, this.isDefaultPrevented = n.defaultPrevented || n.returnValue === !1 || n.getPreventDefault && n.getPreventDefault() ? et: p) : this.type = n,
        t && i.extend(this, t),
        this.timeStamp = n && n.timeStamp || i.now(),
        this[i.expando] = !0;
        else return new i.Event(n, t)
    },
    i.Event.prototype = {
        preventDefault: function() {
            this.isDefaultPrevented = et;
            var n = this.originalEvent;
            n && (n.preventDefault ? n.preventDefault() : n.returnValue = !1)
        },
        stopPropagation: function() {
            this.isPropagationStopped = et;
            var n = this.originalEvent;
            n && (n.stopPropagation && n.stopPropagation(), n.cancelBubble = !0)
        },
        stopImmediatePropagation: function() {
            this.isImmediatePropagationStopped = et,
            this.stopPropagation()
        },
        isDefaultPrevented: p,
        isPropagationStopped: p,
        isImmediatePropagationStopped: p
    },
    i.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    },
    function(n, t) {
        i.event.special[n] = {
            delegateType: t,
            bindType: t,
            handle: function(n) {
                var f, e = this,
                r = n.relatedTarget,
                u = n.handleObj,
                o = u.selector;
                return r && (r === e || i.contains(e, r)) || (n.type = u.origType, f = u.handler.apply(this, arguments), n.type = t),
                f
            }
        }
    }),
    i.support.submitBubbles || (i.event.special.submit = {
        setup: function() {
            if (i.nodeName(this, "form")) return ! 1;
            i.event.add(this, "click._submit keypress._submit",
            function(n) {
                var u = n.target,
                r = i.nodeName(u, "input") || i.nodeName(u, "button") ? u.form: t;
                r && !i._data(r, "_submit_attached") && (i.event.add(r, "submit._submit",
                function(n) {
                    n._submit_bubble = !0
                }), i._data(r, "_submit_attached", !0))
            })
        },
        postDispatch: function(n) {
            n._submit_bubble && (delete n._submit_bubble, this.parentNode && !n.isTrigger && i.event.simulate("submit", this.parentNode, n, !0))
        },
        teardown: function() {
            if (i.nodeName(this, "form")) return ! 1;
            i.event.remove(this, "._submit")
        }
    }),
    i.support.changeBubbles || (i.event.special.change = {
        setup: function() {
            if (yt.test(this.nodeName)) return (this.type === "checkbox" || this.type === "radio") && (i.event.add(this, "propertychange._change",
            function(n) {
                n.originalEvent.propertyName === "checked" && (this._just_changed = !0)
            }), i.event.add(this, "click._change",
            function(n) {
                this._just_changed && !n.isTrigger && (this._just_changed = !1),
                i.event.simulate("change", this, n, !0)
            })),
            !1;
            i.event.add(this, "beforeactivate._change",
            function(n) {
                var t = n.target;
                yt.test(t.nodeName) && !i._data(t, "_change_attached") && (i.event.add(t, "change._change",
                function(n) {
                    this.parentNode && !n.isSimulated && !n.isTrigger && i.event.simulate("change", this.parentNode, n, !0)
                }), i._data(t, "_change_attached", !0))
            })
        },
        handle: function(n) {
            var t = n.target;
            if (this !== t || n.isSimulated || n.isTrigger || t.type !== "radio" && t.type !== "checkbox") return n.handleObj.handler.apply(this, arguments)
        },
        teardown: function() {
            return i.event.remove(this, "._change"),
            yt.test(this.nodeName)
        }
    }),
    i.support.focusinBubbles || i.each({
        focus: "focusin",
        blur: "focusout"
    },
    function(n, t) {
        var u = 0,
        f = function(n) {
            i.event.simulate(t, n.target, i.event.fix(n), !0)
        };
        i.event.special[t] = {
            setup: function() {
                u++==0 && r.addEventListener(n, f, !0)
            },
            teardown: function() {--u == 0 && r.removeEventListener(n, f, !0)
            }
        }
    }),
    i.fn.extend({
        on: function(n, r, u, f, e) {
            var o, s;
            if (typeof n == "object") {
                typeof r != "string" && (u = u || r, r = t);
                for (s in n) this.on(s, r, u, n[s], e);
                return this
            }
            if (u == null && f == null ? (f = r, u = r = t) : f == null && (typeof r == "string" ? (f = u, u = t) : (f = u, u = r, r = t)), f === !1) f = p;
            else if (!f) return this;
            return e === 1 && (o = f, f = function(n) {
                return i().off(n),
                o.apply(this, arguments)
            },
            f.guid = o.guid || (o.guid = i.guid++)),
            this.each(function() {
                i.event.add(this, n, f, u, r)
            })
        },
        one: function(n, t, i, r) {
            return this.on(n, t, i, r, 1)
        },
        off: function(n, r, u) {
            var f, e;
            if (n && n.preventDefault && n.handleObj) return f = n.handleObj,
            i(n.delegateTarget).off(f.namespace ? f.origType + "." + f.namespace: f.origType, f.selector, f.handler),
            this;
            if (typeof n == "object") {
                for (e in n) this.off(e, r, n[e]);
                return this
            }
            return (r === !1 || typeof r == "function") && (u = r, r = t),
            u === !1 && (u = p),
            this.each(function() {
                i.event.remove(this, n, u, r)
            })
        },
        bind: function(n, t, i) {
            return this.on(n, null, t, i)
        },
        unbind: function(n, t) {
            return this.off(n, null, t)
        },
        live: function(n, t, r) {
            return i(this.context).on(n, this.selector, t, r),
            this
        },
        die: function(n, t) {
            return i(this.context).off(n, this.selector || "**", t),
            this
        },
        delegate: function(n, t, i, r) {
            return this.on(t, n, i, r)
        },
        undelegate: function(n, t, i) {
            return arguments.length == 1 ? this.off(n, "**") : this.off(t, n || "**", i)
        },
        trigger: function(n, t) {
            return this.each(function() {
                i.event.trigger(n, t, this)
            })
        },
        triggerHandler: function(n, t) {
            if (this[0]) return i.event.trigger(n, t, this[0], !0)
        },
        toggle: function(n) {
            var t = arguments,
            u = n.guid || i.guid++,
            r = 0,
            f = function(u) {
                var f = (i._data(this, "lastToggle" + n.guid) || 0) % r;
                return i._data(this, "lastToggle" + n.guid, f + 1),
                u.preventDefault(),
                t[f].apply(this, arguments) || !1
            };
            for (f.guid = u; r < t.length;) t[r++].guid = u;
            return this.click(f)
        },
        hover: function(n, t) {
            return this.mouseenter(n).mouseleave(t || n)
        }
    }),
    i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
    function(n, t) {
        i.fn[t] = function(n, i) {
            return i == null && (i = n, n = null),
            arguments.length > 0 ? this.on(t, null, n, i) : this.trigger(t)
        },
        tf.test(t) && (i.event.fixHooks[t] = i.event.keyHooks),
        wu.test(t) && (i.event.fixHooks[t] = i.event.mouseHooks)
    }),
    function(n, t) {
        function ti(n, t, i, u) {
            for (var f = 0,
            e = t.length; f < e; f++) r(n, t[f], i, u)
        }
        function hi(n, t, i, f, e, o) {
            var s, h = u.setFilters[t.toLowerCase()];
            return h || r.error(t),
            (n || !(s = e)) && ti(n || "*", f, s = [], e),
            s.length > 0 ? h(s, i, o) : []
        }
        function oi(n, i, u, e, o) {
            for (var c, g, v, a, h, w, s, b, d = 0,
            nt = o.length,
            y = l.POS,
            tt = new RegExp("^" + y.source + "(?!" + f + ")", "i"), it = function() {
                for (var n = 1,
                i = arguments.length - 2; n < i; n++) arguments[n] === t && (c[n] = t)
            }; d < nt; d++) {
                for (y.exec(""), n = o[d], a = [], v = 0, h = e; c = y.exec(n);) b = y.lastIndex = c.index + c[0].length,
                b > v && (s = n.slice(v, c.index), v = b, w = [i], k.test(s) && (h && (w = h), h = e), (g = di.test(s)) && (s = s.slice(0, -5).replace(k, "$&*")), c.length > 1 && c[0].replace(tt, it), h = hi(s, c[1], c[2], w, h, g));
                h ? (a = a.concat(h), (s = n.slice(v)) && s !== ")" ? k.test(s) ? ti(s, a, u, e) : r(s, i, u, e ? e.concat(h) : h) : p.apply(u, a)) : r(n, i, u, e)
            }
            return nt === 1 ? u: r.uniqueSort(u)
        }
        function li(n, t, i) {
            for (var c, e, h, a = [], v = 0, f = ii.exec(n), o = !f.pop() && !f.pop(), p = o && n.match(ct) || [""], y = u.preFilter, w = u.filter, b = !i && t !== s; (e = p[v]) != null && o; v++) for (a.push(c = []), b && (e = " " + e); e;) {
                o = !1,
                (f = k.exec(e)) && (e = e.slice(f[0].length), o = c.push({
                    part: f.pop().replace(rt, " "),
                    captures: f
                }));
                for (h in w)(f = l[h].exec(e)) && (!y[h] || (f = y[h](f, t, i))) && (e = e.slice(f.shift().length), o = c.push({
                    part: h,
                    captures: f
                }));
                if (!o) break
            }
            return o || r.error(n),
            a
        }
        function fi(n, t, i) {
            var r = t.dir,
            u = gt++;
            return n || (n = function(n) {
                return n === i
            }),
            t.first ?
            function(t, i) {
                while (t = t[r]) if (t.nodeType === 1) return n(t, i) && t
            }: function(t, i) {
                for (var f, e = u + "." + kt,
                s = e + "." + bt; t = t[r];) if (t.nodeType === 1) {
                    if ((f = t[o]) === s) return t.sizset;
                    if (typeof f == "string" && f.indexOf(e) === 0) {
                        if (t.sizset) return t
                    } else {
                        if (t[o] = s, n(t, i)) return t.sizset = !0,
                        t;
                        t.sizset = !1
                    }
                }
            }
        }
        function yi(n, t) {
            return n ?
            function(i, r) {
                var u = t(i, r);
                return u && n(u === !0 ? i: u, r)
            }: t
        }
        function pi(n, t, i) {
            for (var r, f, e = 0; r = n[e]; e++) u.relative[r.part] ? f = fi(f, u.relative[r.part], t) : (r.captures.push(t, i), f = yi(f, u.filter[r.part].apply(null, r.captures)));
            return f
        }
        function vi(n) {
            return function(t, i) {
                for (var r, u = 0; r = n[u]; u++) if (r(t, i)) return ! 0;
                return ! 1
            }
        }
        var bt, kt, g, b, vt, s = n.document,
        e = s.documentElement,
        h = "undefined",
        tt = !1,
        dt = !0,
        gt = 0,
        c = [].slice,
        p = [].push,
        o = ("sizcache" + Math.random()).replace(".", ""),
        f = "[\\x20\\t\\r\\n\\f]",
        v = "(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",
        wi = v.replace("w", "w#"),
        gi = "([*^$|!~]?=)",
        ri = "\\[" + f + "*(" + v + ")" + f + "*(?:" + gi + f + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + wi + ")|)|)" + f + "*\\]",
        ui = ":(" + v + ")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|((?:[^,]|\\\\,|(?:,(?=[^\\[]*\\]))|(?:,(?=[^\\(]*\\))))*))\\)|)",
        yt = ":(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\)|)(?=[^-]|$)",
        wt = f + "*([\\x20\\t\\r\\n\\f>+~])" + f + "*",
        at = "(?=[^\\x20\\t\\r\\n\\f])(?:\\\\.|" + ri + "|" + ui.replace(2, 7) + "|[^\\\\(),])+",
        rt = new RegExp("^" + f + "+|((?:^|[^\\\\])(?:\\\\.)*)" + f + "+$", "g"),
        k = new RegExp("^" + wt),
        ct = new RegExp(at + "?(?=" + f + "*,|$)", "g"),
        ii = new RegExp("^(?:(?!,)(?:(?:^|,)" + f + "*" + at + ")*?|" + f + "*(.*?))(\\)|$)"),
        tr = new RegExp(at.slice(19, -6) + "\\x20\\t\\r\\n\\f>+~])+|" + wt, "g"),
        nr = /^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,
        ht = /[\x20\t\r\n\f]*[+~]/,
        di = /:not\($/,
        ki = /h\d/i,
        bi = /input|select|textarea|button/i,
        y = /\\(?!\\)/g,
        l = {
            ID: new RegExp("^#(" + v + ")"),
            CLASS: new RegExp("^\\.(" + v + ")"),
            NAME: new RegExp("^\\[name=['\"]?(" + v + ")['\"]?\\]"),
            TAG: new RegExp("^(" + v.replace("[-", "[-\\*") + ")"),
            ATTR: new RegExp("^" + ri),
            PSEUDO: new RegExp("^" + ui),
            CHILD: new RegExp("^:(only|nth|last|first)-child(?:\\(" + f + "*(even|odd|(([+-]|)(\\d*)n|)" + f + "*(?:([+-]|)" + f + "*(\\d+)|))" + f + "*\\)|)", "i"),
            POS: new RegExp(yt, "ig"),
            needsContext: new RegExp("^" + f + "*[>+~]|" + yt, "i")
        },
        lt = {},
        ut = [],
        ot = {},
        st = [],
        nt = function(n) {
            return n.sizzleFilter = !0,
            n
        },
        w = function(n) {
            return function(t) {
                return t.nodeName.toLowerCase() === "input" && t.type === n
            }
        },
        pt = function(n) {
            return function(t) {
                var i = t.nodeName.toLowerCase();
                return (i === "input" || i === "button") && t.type === n
            }
        },
        a = function(n) {
            var t = !1,
            i = s.createElement("div");
            try {
                t = n(i)
            } catch(r) {}
            return i = null,
            t
        },
        ir = a(function(n) {
            n.innerHTML = "<select></select>";
            var t = typeof n.lastChild.getAttribute("multiple");
            return t !== "boolean" && t !== "string"
        }),
        ai = a(function(n) {
            n.id = o + 0,
            n.innerHTML = "<a name='" + o + "'></a><div name='" + o + "'></div>",
            e.insertBefore(n, e.firstChild);
            var t = s.getElementsByName && s.getElementsByName(o).length === 2 + s.getElementsByName(o + 0).length;
            return vt = !s.getElementById(o),
            e.removeChild(n),
            t
        }),
        ei = a(function(n) {
            return n.appendChild(s.createComment("")),
            n.getElementsByTagName("*").length === 0
        }),
        ci = a(function(n) {
            return n.innerHTML = "<a href='#'></a>",
            n.firstChild && typeof n.firstChild.getAttribute !== h && n.firstChild.getAttribute("href") === "#"
        }),
        ni = a(function(n) {
            return n.innerHTML = "<div class='hidden e'></div><div class='hidden'></div>",
            !n.getElementsByClassName || n.getElementsByClassName("e").length === 0 ? !1 : (n.lastChild.className = "e", n.getElementsByClassName("e").length !== 1)
        }),
        r = function(n, t, i, r) {
            i = i || [],
            t = t || s;
            var e, u, o, f, h = t.nodeType;
            if (h !== 1 && h !== 9) return [];
            if (!n || typeof n != "string") return i;
            if (o = it(t), !o && !r && (e = nr.exec(n))) if (f = e[1]) {
                if (h === 9) {
                    if (u = t.getElementById(f), !u || !u.parentNode) return i;
                    if (u.id === f) return i.push(u),
                    i
                } else if (t.ownerDocument && (u = t.ownerDocument.getElementById(f)) && si(t, u) && u.id === f) return i.push(u),
                i
            } else {
                if (e[2]) return p.apply(i, c.call(t.getElementsByTagName(n), 0)),
                i;
                if ((f = e[3]) && ni && t.getElementsByClassName) return p.apply(i, c.call(t.getElementsByClassName(f), 0)),
                i
            }
            return d(n, t, i, r, o)
        },
        u = r.selectors = {
            cacheLength: 50,
            match: l,
            order: ["ID", "TAG"],
            attrHandle: {},
            createPseudo: nt,
            find: {
                ID: vt ?
                function(n, t, i) {
                    if (typeof t.getElementById !== h && !i) {
                        var r = t.getElementById(n);
                        return r && r.parentNode ? [r] : []
                    }
                }: function(n, i, r) {
                    if (typeof i.getElementById !== h && !r) {
                        var u = i.getElementById(n);
                        return u ? u.id === n || typeof u.getAttributeNode !== h && u.getAttributeNode("id").value === n ? [u] : t: []
                    }
                },
                TAG: ei ?
                function(n, t) {
                    if (typeof t.getElementsByTagName !== h) return t.getElementsByTagName(n)
                }: function(n, t) {
                    var f = t.getElementsByTagName(n),
                    i,
                    r,
                    u;
                    if (n === "*") {
                        for (r = [], u = 0; i = f[u]; u++) i.nodeType === 1 && r.push(i);
                        return r
                    }
                    return f
                }
            },
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(n) {
                    return n[1] = n[1].replace(y, ""),
                    n[3] = (n[4] || n[5] || "").replace(y, ""),
                    n[2] === "~=" && (n[3] = " " + n[3] + " "),
                    n.slice(0, 4)
                },
                CHILD: function(n) {
                    return n[1] = n[1].toLowerCase(),
                    n[1] === "nth" ? (n[2] || r.error(n[0]), n[3] = +(n[3] ? n[4] + (n[5] || 1) : 2 * (n[2] === "even" || n[2] === "odd")), n[4] = +(n[6] + n[7] || n[2] === "odd")) : n[2] && r.error(n[0]),
                    n
                },
                PSEUDO: function(n) {
                    var i, t = n[4];
                    return l.CHILD.test(n[0]) ? null: (t && (i = ii.exec(t)) && i.pop() && (n[0] = n[0].slice(0, i[0].length - t.length - 1), t = i[0].slice(0, -1)), n.splice(2, 3, t || n[3]), n)
                }
            },
            filter: {
                ID: vt ?
                function(n) {
                    return n = n.replace(y, ""),
                    function(t) {
                        return t.getAttribute("id") === n
                    }
                }: function(n) {
                    return n = n.replace(y, ""),
                    function(t) {
                        var i = typeof t.getAttributeNode !== h && t.getAttributeNode("id");
                        return i && i.value === n
                    }
                },
                TAG: function(n) {
                    return n === "*" ?
                    function() {
                        return ! 0
                    }: (n = n.replace(y, "").toLowerCase(),
                    function(t) {
                        return t.nodeName && t.nodeName.toLowerCase() === n
                    })
                },
                CLASS: function(n) {
                    var t = lt[n];
                    return t || (t = lt[n] = new RegExp("(^|" + f + ")" + n + "(" + f + "|$)"), ut.push(n), ut.length > u.cacheLength && delete lt[ut.shift()]),
                    function(n) {
                        return t.test(n.className || typeof n.getAttribute !== h && n.getAttribute("class") || "")
                    }
                },
                ATTR: function(n, t, i) {
                    return t ?
                    function(u) {
                        var e = r.attr(u, n),
                        f = e + "";
                        if (e == null) return t === "!=";
                        switch (t) {
                        case "=":
                            return f === i;
                        case "!=":
                            return f !== i;
                        case "^=":
                            return i && f.indexOf(i) === 0;
                        case "*=":
                            return i && f.indexOf(i) > -1;
                        case "$=":
                            return i && f.substr(f.length - i.length) === i;
                        case "~=":
                            return (" " + f + " ").indexOf(i) > -1;
                        case "|=":
                            return f === i || f.substr(0, i.length + 1) === i + "-"
                        }
                    }: function(t) {
                        return r.attr(t, n) != null
                    }
                },
                CHILD: function(n, t, i, r) {
                    if (n === "nth") {
                        var u = gt++;
                        return function(n) {
                            var f, e, s = 0,
                            t = n;
                            if (i === 1 && r === 0) return ! 0;
                            if (f = n.parentNode, f && (f[o] !== u || !n.sizset)) {
                                for (t = f.firstChild; t; t = t.nextSibling) if (t.nodeType === 1 && (t.sizset = ++s, t === n)) break;
                                f[o] = u
                            }
                            return e = n.sizset - r,
                            i === 0 ? e === 0 : e % i == 0 && e / i >= 0
                        }
                    }
                    return function(t) {
                        var i = t;
                        switch (n) {
                        case "only":
                        case "first":
                            while (i = i.previousSibling) if (i.nodeType === 1) return ! 1;
                            if (n === "first") return ! 0;
                            i = t;
                        case "last":
                            while (i = i.nextSibling) if (i.nodeType === 1) return ! 1;
                            return ! 0
                        }
                    }
                },
                PSEUDO: function(n, t, i, f) {
                    var e = u.pseudos[n] || u.pseudos[n.toLowerCase()];
                    return e || r.error("unsupported pseudo: " + n),
                    e.sizzleFilter ? e(t, i, f) : e
                }
            },
            pseudos: {
                not: nt(function(n, t, i) {
                    var r = et(n.replace(rt, "$1"), t, i);
                    return function(n) {
                        return ! r(n)
                    }
                }),
                enabled: function(n) {
                    return n.disabled === !1
                },
                disabled: function(n) {
                    return n.disabled === !0
                },
                checked: function(n) {
                    var t = n.nodeName.toLowerCase();
                    return t === "input" && !!n.checked || t === "option" && !!n.selected
                },
                selected: function(n) {
                    return n.parentNode && n.parentNode.selectedIndex,
                    n.selected === !0
                },
                parent: function(n) {
                    return ! u.pseudos.empty(n)
                },
                empty: function(n) {
                    var t;
                    for (n = n.firstChild; n;) {
                        if (n.nodeName > "@" || (t = n.nodeType) === 3 || t === 4) return ! 1;
                        n = n.nextSibling
                    }
                    return ! 0
                },
                contains: nt(function(n) {
                    return function(t) {
                        return (t.textContent || t.innerText || ft(t)).indexOf(n) > -1
                    }
                }),
                has: nt(function(n) {
                    return function(t) {
                        return r(n, t).length > 0
                    }
                }),
                header: function(n) {
                    return ki.test(n.nodeName)
                },
                text: function(n) {
                    var t, i;
                    return n.nodeName.toLowerCase() === "input" && (t = n.type) === "text" && ((i = n.getAttribute("type")) == null || i.toLowerCase() === t)
                },
                radio: w("radio"),
                checkbox: w("checkbox"),
                file: w("file"),
                password: w("password"),
                image: w("image"),
                submit: pt("submit"),
                reset: pt("reset"),
                button: function(n) {
                    var t = n.nodeName.toLowerCase();
                    return t === "input" && n.type === "button" || t === "button"
                },
                input: function(n) {
                    return bi.test(n.nodeName)
                },
                focus: function(n) {
                    var t = n.ownerDocument;
                    return n === t.activeElement && (!t.hasFocus || t.hasFocus()) && ( !! n.type || !!n.href)
                },
                active: function(n) {
                    return n === n.ownerDocument.activeElement
                }
            },
            setFilters: {
                first: function(n, t, i) {
                    return i ? n.slice(1) : [n[0]]
                },
                last: function(n, t, i) {
                    var r = n.pop();
                    return i ? n: [r]
                },
                even: function(n, t, i) {
                    for (var u = [], r = i ? 1 : 0, f = n.length; r < f; r = r + 2) u.push(n[r]);
                    return u
                },
                odd: function(n, t, i) {
                    for (var u = [], r = i ? 0 : 1, f = n.length; r < f; r = r + 2) u.push(n[r]);
                    return u
                },
                lt: function(n, t, i) {
                    return i ? n.slice( + t) : n.slice(0, +t)
                },
                gt: function(n, t, i) {
                    return i ? n.slice(0, +t + 1) : n.slice( + t + 1)
                },
                eq: function(n, t, i) {
                    var r = n.splice( + t, 1);
                    return i ? n: r
                }
            }
        },
        et,
        d;
        u.setFilters.nth = u.setFilters.eq,
        u.filters = u.pseudos,
        ci || (u.attrHandle = {
            href: function(n) {
                return n.getAttribute("href", 2)
            },
            type: function(n) {
                return n.getAttribute("type")
            }
        }),
        ai && (u.order.push("NAME"), u.find.NAME = function(n, t) {
            if (typeof t.getElementsByName !== h) return t.getElementsByName(n)
        }),
        ni && (u.order.splice(1, 0, "CLASS"), u.find.CLASS = function(n, t, i) {
            if (typeof t.getElementsByClassName !== h && !i) return t.getElementsByClassName(n)
        });
        try {
            c.call(e.childNodes, 0)[0].nodeType
        } catch(rr) {
            c = function(n) {
                for (var t, i = []; t = this[n]; n++) i.push(t);
                return i
            }
        }
        var it = r.isXML = function(n) {
            var t = n && (n.ownerDocument || n).documentElement;
            return t ? t.nodeName !== "HTML": !1
        },
        si = r.contains = e.compareDocumentPosition ?
        function(n, t) {
            return !! (n.compareDocumentPosition(t) & 16)
        }: e.contains ?
        function(n, t) {
            var r = n.nodeType === 9 ? n.documentElement: n,
            i = t.parentNode;
            return n === i || !!(i && i.nodeType === 1 && r.contains && r.contains(i))
        }: function(n, t) {
            while (t = t.parentNode) if (t === n) return ! 0;
            return ! 1
        },
        ft = r.getText = function(n) {
            var r, i = "",
            u = 0,
            t = n.nodeType;
            if (t) {
                if (t === 1 || t === 9 || t === 11) {
                    if (typeof n.textContent == "string") return n.textContent;
                    for (n = n.firstChild; n; n = n.nextSibling) i += ft(n)
                } else if (t === 3 || t === 4) return n.nodeValue
            } else for (; r = n[u]; u++) i += ft(r);
            return i
        };
        r.attr = function(n, t) {
            var i, r = it(n);
            return r || (t = t.toLowerCase()),
            u.attrHandle[t] ? u.attrHandle[t](n) : ir || r ? n.getAttribute(t) : (i = n.getAttributeNode(t), i ? typeof n[t] == "boolean" ? n[t] ? t: null: i.specified ? i.value: null: null)
        },
        r.error = function(n) {
            throw new Error("Syntax error, unrecognized expression: " + n);
        },
        [0, 0].sort(function() {
            return dt = 0
        }),
        e.compareDocumentPosition ? g = function(n, t) {
            return n === t ? (tt = !0, 0) : (!n.compareDocumentPosition || !t.compareDocumentPosition ? n.compareDocumentPosition: n.compareDocumentPosition(t) & 4) ? -1 : 1
        }: (g = function(n, t) {
            var i;
            if (n === t) return tt = !0,
            0;
            if (n.sourceIndex && t.sourceIndex) return n.sourceIndex - t.sourceIndex;
            var e, h, u = [],
            f = [],
            o = n.parentNode,
            s = t.parentNode,
            r = o;
            if (o === s) return b(n, t);
            if (!o) return - 1;
            if (!s) return 1;
            while (r) u.unshift(r),
            r = r.parentNode;
            for (r = s; r;) f.unshift(r),
            r = r.parentNode;
            for (e = u.length, h = f.length, i = 0; i < e && i < h; i++) if (u[i] !== f[i]) return b(u[i], f[i]);
            return i === e ? b(n, f[i], -1) : b(u[i], t, 1)
        },
        b = function(n, t, i) {
            if (n === t) return i;
            for (var r = n.nextSibling; r;) {
                if (r === t) return - 1;
                r = r.nextSibling
            }
            return 1
        }),
        r.uniqueSort = function(n) {
            var i, t = 1;
            if (g && (tt = dt, n.sort(g), tt)) for (; i = n[t]; t++) i === n[t - 1] && n.splice(t--, 1);
            return n
        },
        et = r.compile = function(n, t, i) {
            var o, f, e, r = ot[n];
            if (r && r.context === t) return r;
            for (f = li(n, t, i), e = 0; o = f[e]; e++) f[e] = pi(o, t, i);
            return r = ot[n] = vi(f),
            r.context = t,
            r.runs = r.dirruns = 0,
            st.push(n),
            st.length > u.cacheLength && delete ot[st.shift()],
            r
        },
        r.matches = function(n, t) {
            return r(n, null, null, t)
        },
        r.matchesSelector = function(n, t) {
            return r(t, null, null, [n]).length > 0
        },
        d = function(n, t, i, r, f) {
            n = n.replace(rt, "$1");
            var o, a, s, d, k, v, w, g, b, e = n.match(ct),
            h = n.match(tr),
            nt = t.nodeType;
            if (l.POS.test(n)) return oi(n, t, i, r, e);
            if (r) o = c.call(r, 0);
            else if (e && e.length === 1) {
                if (h.length > 1 && nt === 9 && !f && (e = l.ID.exec(h[0]))) {
                    if (t = u.find.ID(e[1], t, f)[0], !t) return i;
                    n = n.slice(h.shift().length)
                }
                for (g = (e = ht.exec(h[0])) && !e.index && t.parentNode || t, b = h.pop(), v = b.split(":not")[0], s = 0, d = u.order.length; s < d; s++) if (w = u.order[s], e = l[w].exec(v)) {
                    if (o = u.find[w]((e[1] || "").replace(y, ""), g, f), o == null) continue;
                    v === b && (n = n.slice(0, n.length - b.length) + v.replace(l[w], ""), n || p.apply(i, c.call(o, 0)));
                    break
                }
            }
            if (n) for (a = et(n, t, f), kt = a.dirruns++, o == null && (o = u.find.TAG("*", ht.test(n) && t.parentNode || t)), s = 0; k = o[s]; s++) bt = a.runs++,
            a(k, t) && i.push(k);
            return i
        },
        s.querySelectorAll &&
        function() {
            var s, h = d,
            l = /'|\\/g,
            v = /\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,
            n = [],
            t = [":active"],
            i = e.matchesSelector || e.mozMatchesSelector || e.webkitMatchesSelector || e.oMatchesSelector || e.msMatchesSelector;
            a(function(t) {
                t.innerHTML = "<select><option selected></option></select>",
                t.querySelectorAll("[selected]").length || n.push("\\[" + f + "*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),
                t.querySelectorAll(":checked").length || n.push(":checked")
            }),
            a(function(t) {
                t.innerHTML = "<p test=''></p>",
                t.querySelectorAll("[test^='']").length && n.push("[*^$]=" + f + "*(?:\"\"|'')"),
                t.innerHTML = "<input type='hidden'>",
                t.querySelectorAll(":enabled").length || n.push(":enabled", ":disabled")
            }),
            n = n.length && new RegExp(n.join("|")),
            d = function(t, i, r, u, f) {
                if (!u && !f && (!n || !n.test(t))) if (i.nodeType === 9) try {
                    return p.apply(r, c.call(i.querySelectorAll(t), 0)),
                    r
                } catch(v) {} else if (i.nodeType === 1 && i.nodeName.toLowerCase() !== "object") {
                    var s = i.getAttribute("id"),
                    e = s || o,
                    a = ht.test(t) && i.parentNode || i;
                    s ? e = e.replace(l, "\\$&") : i.setAttribute("id", e);
                    try {
                        return p.apply(r, c.call(a.querySelectorAll(t.replace(ct, "[id='" + e + "'] $&")), 0)),
                        r
                    } catch(v) {} finally {
                        s || i.removeAttribute("id")
                    }
                }
                return h(t, i, r, u, f)
            },
            i && (a(function(n) {
                s = i.call(n, "div");
                try {
                    i.call(n, "[test!='']:sizzle"),
                    t.push(u.match.PSEUDO)
                } catch(r) {}
            }), t = new RegExp(t.join("|")), r.matchesSelector = function(u, f) {
                if (f = f.replace(v, "='$1']"), !it(u) && !t.test(f) && (!n || !n.test(f))) try {
                    var e = i.call(u, f);
                    if (e || s || u.document && u.document.nodeType !== 11) return e
                } catch(o) {}
                return r(f, null, null, [u]).length > 0
            })
        } (),
        r.attr = i.attr,
        i.find = r,
        i.expr = r.selectors,
        i.expr[":"] = i.expr.pseudos,
        i.unique = r.uniqueSort,
        i.text = r.getText,
        i.isXMLDoc = r.isXML,
        i.contains = r.contains
    } (n);
    var so = /Until$/,
    uo = /^(?:parents|prev(?:Until|All))/,
    ge = /^.[^:#\[\.,]*$/,
    ai = i.expr.match.needsContext,
    ae = {
        children: !0,
        contents: !0,
        next: !0,
        prev: !0
    };
    i.fn.extend({
        find: function(n) {
            var t, f, o, u, e, r, s = this;
            if (typeof n != "string") return i(n).filter(function() {
                for (t = 0, f = s.length; t < f; t++) if (i.contains(s[t], this)) return ! 0
            });
            for (r = this.pushStack("", "find", n), t = 0, f = this.length; t < f; t++) if (o = r.length, i.find(n, this[t], r), t > 0) for (u = o; u < r.length; u++) for (e = 0; e < o; e++) if (r[e] === r[u]) {
                r.splice(u--, 1);
                break
            }
            return r
        },
        has: function(n) {
            var t, r = i(n, this),
            u = r.length;
            return this.filter(function() {
                for (t = 0; t < u; t++) if (i.contains(this, r[t])) return ! 0
            })
        },
        not: function(n) {
            return this.pushStack(eu(this, n, !1), "not", n)
        },
        filter: function(n) {
            return this.pushStack(eu(this, n, !0), "filter", n)
        },
        is: function(n) {
            return !! n && (typeof n == "string" ? ai.test(n) ? i(n, this.context).index(this[0]) >= 0 : i.filter(n, this).length > 0 : this.filter(n).length > 0)
        },
        closest: function(n, t) {
            for (var r, f = 0,
            o = this.length,
            u = [], e = ai.test(n) || typeof n != "string" ? i(n, t || this.context) : 0; f < o; f++) for (r = this[f]; r && r.ownerDocument && r !== t && r.nodeType !== 11;) {
                if (e ? e.index(r) > -1 : i.find.matchesSelector(r, n)) {
                    u.push(r);
                    break
                }
                r = r.parentNode
            }
            return u = u.length > 1 ? i.unique(u) : u,
            this.pushStack(u, "closest", n)
        },
        index: function(n) {
            return n ? typeof n == "string" ? i.inArray(this[0], i(n)) : i.inArray(n.jquery ? n[0] : n, this) : this[0] && this[0].parentNode ? this.prevAll().length: -1
        },
        add: function(n, t) {
            var u = typeof n == "string" ? i(n, t) : i.makeArray(n && n.nodeType ? [n] : n),
            r = i.merge(this.get(), u);
            return this.pushStack(k(u[0]) || k(r[0]) ? r: i.unique(r))
        },
        addBack: function(n) {
            return this.add(n == null ? this.prevObject: this.prevObject.filter(n))
        }
    }),
    i.fn.andSelf = i.fn.addBack,
    i.each({
        parent: function(n) {
            var t = n.parentNode;
            return t && t.nodeType !== 11 ? t: null
        },
        parents: function(n) {
            return i.dir(n, "parentNode")
        },
        parentsUntil: function(n, t, r) {
            return i.dir(n, "parentNode", r)
        },
        next: function(n) {
            return ou(n, "nextSibling")
        },
        prev: function(n) {
            return ou(n, "previousSibling")
        },
        nextAll: function(n) {
            return i.dir(n, "nextSibling")
        },
        prevAll: function(n) {
            return i.dir(n, "previousSibling")
        },
        nextUntil: function(n, t, r) {
            return i.dir(n, "nextSibling", r)
        },
        prevUntil: function(n, t, r) {
            return i.dir(n, "previousSibling", r)
        },
        siblings: function(n) {
            return i.sibling((n.parentNode || {}).firstChild, n)
        },
        children: function(n) {
            return i.sibling(n.firstChild)
        },
        contents: function(n) {
            return i.nodeName(n, "iframe") ? n.contentDocument || n.contentWindow.document: i.merge([], n.childNodes)
        }
    },
    function(n, t) {
        i.fn[n] = function(r, u) {
            var f = i.map(this, t, r);
            return so.test(n) || (u = r),
            u && typeof u == "string" && (f = i.filter(u, f)),
            f = this.length > 1 && !ae[n] ? i.unique(f) : f,
            this.length > 1 && uo.test(n) && (f = f.reverse()),
            this.pushStack(f, n, o.call(arguments).join(","))
        }
    }),
    i.extend({
        filter: function(n, t, r) {
            return r && (n = ":not(" + n + ")"),
            t.length === 1 ? i.find.matchesSelector(t[0], n) ? [t[0]] : [] : i.find.matches(n, t)
        },
        dir: function(n, r, u) {
            for (var e = [], f = n[r]; f && f.nodeType !== 9 && (u === t || f.nodeType !== 1 || !i(f).is(u));) f.nodeType === 1 && e.push(f),
            f = f[r];
            return e
        },
        sibling: function(n, t) {
            for (var i = []; n; n = n.nextSibling) n.nodeType === 1 && n !== t && i.push(n);
            return i
        }
    });
    var vi = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
    re = / jQuery\d+="(?:null|\d+)"/g,
    pt = /^\s+/,
    bi = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
    di = /<([\w:]+)/,
    oe = /<tbody/i,
    se = /<|&#?\w+;/,
    he = /<(?:script|style|link)/i,
    ce = /<(?:script|object|embed|option|style)/i,
    at = new RegExp("<(?:" + vi + ")[\\s/>]", "i"),
    tr = /^(?:checkbox|radio)$/,
    ir = /checked\s*(?:[^=]|=\s*.checked.)/i,
    ye = /\/(java|ecma)script/i,
    pe = /^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,
    e = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        legend: [1, "<fieldset>", "</fieldset>"],
        thead: [1, "<table>", "</table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
        area: [1, "<map>", "</map>"],
        _default: [0, "", ""]
    },
    ur = fu(r),
    kt = ur.appendChild(r.createElement("div"));
    e.optgroup = e.option,
    e.tbody = e.tfoot = e.colgroup = e.caption = e.thead,
    e.th = e.td,
    i.support.htmlSerialize || (e._default = [1, "X<div>", "</div>"]),
    i.fn.extend({
        text: function(n) {
            return i.access(this,
            function(n) {
                return n === t ? i.text(this) : this.empty().append((this[0] && this[0].ownerDocument || r).createTextNode(n))
            },
            null, n, arguments.length)
        },
        wrapAll: function(n) {
            if (i.isFunction(n)) return this.each(function(t) {
                i(this).wrapAll(n.call(this, t))
            });
            if (this[0]) {
                var t = i(n, this[0].ownerDocument).eq(0).clone(!0);
                this[0].parentNode && t.insertBefore(this[0]),
                t.map(function() {
                    for (var n = this; n.firstChild && n.firstChild.nodeType === 1;) n = n.firstChild;
                    return n
                }).append(this)
            }
            return this
        },
        wrapInner: function(n) {
            return i.isFunction(n) ? this.each(function(t) {
                i(this).wrapInner(n.call(this, t))
            }) : this.each(function() {
                var t = i(this),
                r = t.contents();
                r.length ? r.wrapAll(n) : t.append(n)
            })
        },
        wrap: function(n) {
            var t = i.isFunction(n);
            return this.each(function(r) {
                i(this).wrapAll(t ? n.call(this, r) : n)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                i.nodeName(this, "body") || i(this).replaceWith(this.childNodes)
            }).end()
        },
        append: function() {
            return this.domManip(arguments, !0,
            function(n) { (this.nodeType === 1 || this.nodeType === 11) && this.appendChild(n)
            })
        },
        prepend: function() {
            return this.domManip(arguments, !0,
            function(n) { (this.nodeType === 1 || this.nodeType === 11) && this.insertBefore(n, this.firstChild)
            })
        },
        before: function() {
            if (!k(this[0])) return this.domManip(arguments, !1,
            function(n) {
                this.parentNode.insertBefore(n, this)
            });
            if (arguments.length) {
                var n = i.clean(arguments);
                return this.pushStack(i.merge(n, this), "before", this.selector)
            }
        },
        after: function() {
            if (!k(this[0])) return this.domManip(arguments, !1,
            function(n) {
                this.parentNode.insertBefore(n, this.nextSibling)
            });
            if (arguments.length) {
                var n = i.clean(arguments);
                return this.pushStack(i.merge(this, n), "after", this.selector)
            }
        },
        remove: function(n, t) {
            for (var r, u = 0; (r = this[u]) != null; u++)(!n || i.filter(n, [r]).length) && (!t && r.nodeType === 1 && (i.cleanData(r.getElementsByTagName("*")), i.cleanData([r])), r.parentNode && r.parentNode.removeChild(r));
            return this
        },
        empty: function() {
            for (var n, t = 0; (n = this[t]) != null; t++) for (n.nodeType === 1 && i.cleanData(n.getElementsByTagName("*")); n.firstChild;) n.removeChild(n.firstChild);
            return this
        },
        clone: function(n, t) {
            return n = n == null ? !1 : n,
            t = t == null ? n: t,
            this.map(function() {
                return i.clone(this, n, t)
            })
        },
        html: function(n) {
            return i.access(this,
            function(n) {
                var r = this[0] || {},
                u = 0,
                f = this.length;
                if (n === t) return r.nodeType === 1 ? r.innerHTML.replace(re, "") : t;
                if (typeof n == "string" && !he.test(n) && (i.support.htmlSerialize || !at.test(n)) && (i.support.leadingWhitespace || !pt.test(n)) && !e[(di.exec(n) || ["", ""])[1].toLowerCase()]) {
                    n = n.replace(bi, "<$1></$2>");
                    try {
                        for (; u < f; u++) r = this[u] || {},
                        r.nodeType === 1 && (i.cleanData(r.getElementsByTagName("*")), r.innerHTML = n);
                        r = 0
                    } catch(o) {}
                }
                r && this.empty().append(n)
            },
            null, n, arguments.length)
        },
        replaceWith: function(n) {
            return k(this[0]) ? this.length ? this.pushStack(i(i.isFunction(n) ? n() : n), "replaceWith", n) : this: i.isFunction(n) ? this.each(function(t) {
                var r = i(this),
                u = r.html();
                r.replaceWith(n.call(this, t, u))
            }) : (typeof n != "string" && (n = i(n).detach()), this.each(function() {
                var t = this.nextSibling,
                r = this.parentNode;
                i(this).remove(),
                t ? i(t).before(n) : i(r).append(n)
            }))
        },
        detach: function(n) {
            return this.remove(n, !0)
        },
        domManip: function(n, r, u) {
            n = [].concat.apply([], n);
            var h, o, f, a, e = 0,
            s = n[0],
            c = [],
            l = this.length;
            if (!i.support.checkClone && l > 1 && typeof s == "string" && ir.test(s)) return this.each(function() {
                i(this).domManip(n, r, u)
            });
            if (i.isFunction(s)) return this.each(function(f) {
                var e = i(this);
                n[0] = s.call(this, f, r ? e.html() : t),
                e.domManip(n, r, u)
            });
            if (this[0]) {
                if (h = i.buildFragment(n, this, c), f = h.fragment, o = f.firstChild, f.childNodes.length === 1 && (f = o), o) for (r = r && i.nodeName(o, "tr"), a = h.cacheable || l - 1; e < l; e++) u.call(r && i.nodeName(this[e], "table") ? pf(this[e], "tbody") : this[e], e === a ? f: i.clone(f, !0, !0));
                f = o = null,
                c.length && i.each(c,
                function(n, t) {
                    t.src ? i.ajax ? i.ajax({
                        url: t.src,
                        type: "GET",
                        dataType: "script",
                        async: !1,
                        global: !1,
                        throws: !0
                    }) : i.error("no ajax") : i.globalEval((t.text || t.textContent || t.innerHTML || "").replace(pe, "")),
                    t.parentNode && t.parentNode.removeChild(t)
                })
            }
            return this
        }
    }),
    i.buildFragment = function(n, u, f) {
        var o, s, h, e = n[0];
        return u = u || r,
        u = (u[0] || u).ownerDocument || u[0] || u,
        typeof u.createDocumentFragment == "undefined" && (u = r),
        n.length === 1 && typeof e == "string" && e.length < 512 && u === r && e.charAt(0) === "<" && !ce.test(e) && (i.support.checkClone || !ir.test(e)) && (i.support.html5Clone || !at.test(e)) && (s = !0, o = i.fragments[e], h = o !== t),
        o || (o = u.createDocumentFragment(), i.clean(n, u, o, f), s && (i.fragments[e] = h && o)),
        {
            fragment: o,
            cacheable: s
        }
    },
    i.fragments = {},
    i.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    },
    function(n, t) {
        i.fn[n] = function(r) {
            var o, u = 0,
            s = [],
            f = i(r),
            h = f.length,
            e = this.length === 1 && this[0].parentNode;
            if ((e == null || e && e.nodeType === 11 && e.childNodes.length === 1) && h === 1) return f[t](this[0]),
            this;
            for (; u < h; u++) o = (u > 0 ? this.clone(!0) : this).get(),
            i(f[u])[t](o),
            s = s.concat(o);
            return this.pushStack(s, n, f.selector)
        }
    }),
    i.extend({
        clone: function(n, t, r) {
            var f, o, u, e;
            if (i.support.html5Clone || i.isXMLDoc(n) || !at.test("<" + n.nodeName + ">") ? e = n.cloneNode(!0) : (kt.innerHTML = n.outerHTML, kt.removeChild(e = kt.firstChild)), (!i.support.noCloneEvent || !i.support.noCloneChecked) && (n.nodeType === 1 || n.nodeType === 11) && !i.isXMLDoc(n)) for (ru(n, e), f = ct(n), o = ct(e), u = 0; f[u]; ++u) o[u] && ru(f[u], o[u]);
            if (t && (uu(n, e), r)) for (f = ct(n), o = ct(e), u = 0; f[u]; ++u) uu(f[u], o[u]);
            return f = o = null,
            e
        },
        clean: function(n, t, u, f) {
            var a, l, o, k, y, d, s, p, v, g, w, b, h = 0,
            c = [];
            for (t && typeof t.createDocumentFragment != "undefined" || (t = r), l = t === r && ur; (o = n[h]) != null; h++) if (typeof o == "number" && (o += ""), o) {
                if (typeof o == "string") if (se.test(o)) {
                    for (l = l || fu(t), s = s || l.appendChild(t.createElement("div")), o = o.replace(bi, "<$1></$2>"), k = (di.exec(o) || ["", ""])[1].toLowerCase(), y = e[k] || e._default, d = y[0], s.innerHTML = y[1] + o + y[2]; d--;) s = s.lastChild;
                    if (!i.support.tbody) for (p = oe.test(o), v = k === "table" && !p ? s.firstChild && s.firstChild.childNodes: y[1] === "<table>" && !p ? s.childNodes: [], a = v.length - 1; a >= 0; --a) i.nodeName(v[a], "tbody") && !v[a].childNodes.length && v[a].parentNode.removeChild(v[a]); ! i.support.leadingWhitespace && pt.test(o) && s.insertBefore(t.createTextNode(pt.exec(o)[0]), s.firstChild),
                    o = s.childNodes,
                    s = l.lastChild
                } else o = t.createTextNode(o);
                o.nodeType ? c.push(o) : c = i.merge(c, o)
            }
            if (s && (l.removeChild(s), o = s = l = null), !i.support.appendChecked) for (h = 0; (o = c[h]) != null; h++) i.nodeName(o, "input") ? iu(o) : typeof o.getElementsByTagName != "undefined" && i.grep(o.getElementsByTagName("input"), iu);
            if (u) for (w = function(n) {
                if (!n.type || ye.test(n.type)) return f ? f.push(n.parentNode ? n.parentNode.removeChild(n) : n) : u.appendChild(n)
            },
            h = 0; (o = c[h]) != null; h++) i.nodeName(o, "script") && w(o) || (u.appendChild(o), typeof o.getElementsByTagName != "undefined" && (b = i.grep(i.merge([], o.getElementsByTagName("script")), w), c.splice.apply(c, [h + 1, 0].concat(b)), h += b.length));
            return c
        },
        cleanData: function(n, t) {
            for (var f, u, r, e, h = 0,
            o = i.expando,
            s = i.cache,
            c = i.support.deleteExpando,
            l = i.event.special; (r = n[h]) != null; h++) if ((t || i.acceptData(r)) && (u = r[o], f = u && s[u], f)) {
                if (f.events) for (e in f.events) l[e] ? i.event.remove(r, e) : i.removeEvent(r, e, f.handle);
                s[u] && (delete s[u], c ? delete r[o] : r.removeAttribute ? r.removeAttribute(o) : r[o] = null, i.deletedIds.push(u))
            }
        }
    }),
    function() {
        var t, n;
        i.uaMatch = function(n) {
            n = n.toLowerCase();
            var t = /(chrome)[ \/]([\w.]+)/.exec(n) || /(webkit)[ \/]([\w.]+)/.exec(n) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n) || /(msie) ([\w.]+)/.exec(n) || n.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n) || [];
            return {
                browser: t[1] || "",
                version: t[2] || "0"
            }
        },
        t = i.uaMatch(be.userAgent),
        n = {},
        t.browser && (n[t.browser] = !0, n.version = t.version),
        n.webkit && (n.safari = !0),
        i.browser = n,
        i.sub = function() {
            function n(t, i) {
                return new n.fn.init(t, i)
            }
            i.extend(!0, n, this),
            n.superclass = this,
            n.fn = n.prototype = this(),
            n.fn.constructor = n,
            n.sub = this.sub,
            n.fn.init = function t(c, r) {
                return r && r instanceof i && !(r instanceof n) && (r = n(r)),
                i.fn.init.call(this, t, r, u)
            },
            n.fn.init.prototype = n.fn;
            var u = n(r);
            return n
        }
    } ();
    var u, w, y, dt = /alpha\([^)]*\)/i,
    io = /opacity=([^)]*)/,
    ro = /^(top|right|bottom|left)$/,
    pi = /^margin/,
    fo = new RegExp("^(" + it + ")(.*)$", "i"),
    d = new RegExp("^(" + it + ")(?!px)[a-z%]+$", "i"),
    oo = new RegExp("^([-+])=(" + it + ")", "i"),
    ti = {},
    ho = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    },
    si = {
        letterSpacing: 0,
        fontWeight: 400,
        lineHeight: 1
    },
    a = ["Top", "Right", "Bottom", "Left"],
    er = ["Webkit", "O", "Moz", "ms"],
    ao = i.fn.toggle;
    i.fn.extend({
        css: function(n, r) {
            return i.access(this,
            function(n, r, u) {
                return u !== t ? i.style(n, r, u) : i.css(n, r)
            },
            n, r, arguments.length > 1)
        },
        show: function() {
            return nu(this, !0)
        },
        hide: function() {
            return nu(this)
        },
        toggle: function(n, t) {
            var r = typeof n == "boolean";
            return i.isFunction(n) && i.isFunction(t) ? ao.apply(this, arguments) : this.each(function() { (r ? n: lt(this)) ? i(this).show() : i(this).hide()
            })
        }
    }),
    i.extend({
        cssHooks: {
            opacity: {
                get: function(n, t) {
                    if (t) {
                        var i = u(n, "opacity");
                        return i === "" ? "1": i
                    }
                }
            }
        },
        cssNumber: {
            fillOpacity: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            float: i.support.cssFloat ? "cssFloat": "styleFloat"
        },
        style: function(n, r, u, f) {
            if (n && n.nodeType !== 3 && n.nodeType !== 8 && n.style) {
                var o, s, e, h = i.camelCase(r),
                c = n.style;
                if (r = i.cssProps[h] || (i.cssProps[h] = tu(c, h)), e = i.cssHooks[r] || i.cssHooks[h], u === t) return e && "get" in e && (o = e.get(n, !1, f)) !== t ? o: c[r];
                if ((s = typeof u, s === "string" && (o = oo.exec(u)) && (u = (o[1] + 1) * o[2] + parseFloat(i.css(n, r)), s = "number"), u != null && (s !== "number" || !isNaN(u))) && (s === "number" && !i.cssNumber[h] && (u += "px"), !e || !("set" in e) || (u = e.set(n, u, f)) !== t)) try {
                    c[r] = u
                } catch(l) {}
            }
        },
        css: function(n, r, f, e) {
            var o, c, s, h = i.camelCase(r);
            return r = i.cssProps[h] || (i.cssProps[h] = tu(n.style, h)),
            s = i.cssHooks[r] || i.cssHooks[h],
            s && "get" in s && (o = s.get(n, !0, e)),
            o === t && (o = u(n, r)),
            o === "normal" && r in si && (o = si[r]),
            f || e !== t ? (c = parseFloat(o), f || i.isNumeric(c) ? c || 0 : o) : o
        },
        swap: function(n, t, i) {
            var u, r, f = {};
            for (r in t) f[r] = n.style[r],
            n.style[r] = t[r];
            u = i.call(n);
            for (r in t) n.style[r] = f[r];
            return u
        }
    }),
    n.getComputedStyle ? u = function(n, t) {
        var u, e, o, s, f = getComputedStyle(n, null),
        r = n.style;
        return f && (u = f[t], u === "" && !i.contains(n.ownerDocument.documentElement, n) && (u = i.style(n, t)), d.test(u) && pi.test(t) && (e = r.width, o = r.minWidth, s = r.maxWidth, r.minWidth = r.maxWidth = r.width = u, u = f.width, r.width = e, r.minWidth = o, r.maxWidth = s)),
        u
    }: r.documentElement.currentStyle && (u = function(n, t) {
        var f, u, i = n.currentStyle && n.currentStyle[t],
        r = n.style;
        return i == null && r && r[t] && (i = r[t]),
        d.test(i) && !ro.test(t) && (f = r.left, u = n.runtimeStyle && n.runtimeStyle.left, u && (n.runtimeStyle.left = n.currentStyle.left), r.left = t === "fontSize" ? "1em": i, i = r.pixelLeft + "px", r.left = f, u && (n.runtimeStyle.left = u)),
        i === "" ? "auto": i
    }),
    i.each(["height", "width"],
    function(n, t) {
        i.cssHooks[t] = {
            get: function(n, r, f) {
                if (r) return n.offsetWidth !== 0 || u(n, "display") !== "none" ? kr(n, t, f) : i.swap(n, ho,
                function() {
                    return kr(n, t, f)
                })
            },
            set: function(n, r, u) {
                return gr(n, r, u ? dr(n, t, u, i.support.boxSizing && i.css(n, "boxSizing") === "border-box") : 0)
            }
        }
    }),
    i.support.opacity || (i.cssHooks.opacity = {
        get: function(n, t) {
            return io.test((t && n.currentStyle ? n.currentStyle.filter: n.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "": t ? "1": ""
        },
        set: function(n, t) {
            var r = n.style,
            u = n.currentStyle,
            e = i.isNumeric(t) ? "alpha(opacity=" + t * 100 + ")": "",
            f = u && u.filter || r.filter || ""; (r.zoom = 1, t >= 1 && i.trim(f.replace(dt, "")) === "" && r.removeAttribute && (r.removeAttribute("filter"), u && !u.filter)) || (r.filter = dt.test(f) ? f.replace(dt, e) : f + " " + e)
        }
    }),
    i(function() {
        i.support.reliableMarginRight || (i.cssHooks.marginRight = {
            get: function(n, t) {
                return i.swap(n, {
                    display: "inline-block"
                },
                function() {
                    if (t) return u(n, "marginRight")
                })
            }
        }),
        !i.support.pixelPosition && i.fn.position && i.each(["top", "left"],
        function(n, t) {
            i.cssHooks[t] = {
                get: function(n, r) {
                    if (r) {
                        var f = u(n, t);
                        return d.test(f) ? i(n).position()[t] + "px": f
                    }
                }
            }
        })
    }),
    i.expr && i.expr.filters && (i.expr.filters.hidden = function(n) {
        return n.offsetWidth === 0 && n.offsetHeight === 0 || !i.support.reliableHiddenOffsets && (n.style && n.style.display || u(n, "display")) === "none"
    },
    i.expr.filters.visible = function(n) {
        return ! i.expr.filters.hidden(n)
    }),
    i.each({
        margin: "",
        padding: "",
        border: "Width"
    },
    function(n, t) {
        i.cssHooks[n + t] = {
            expand: function(i) {
                for (var u = typeof i == "string" ? i.split(" ") : [i], f = {},
                r = 0; r < 4; r++) f[n + a[r] + t] = u[r] || u[r - 2] || u[0];
                return f
            }
        },
        pi.test(n) || (i.cssHooks[n + t].set = gr)
    });
    var vo = /%20/g,
    fe = /\[\]$/,
    gi = /\r?\n/g,
    yo = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
    ie = /^(?:select|textarea)/i;
    i.fn.extend({
        serialize: function() {
            return i.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                return this.elements ? i.makeArray(this.elements) : this
            }).filter(function() {
                return this.name && !this.disabled && (this.checked || ie.test(this.nodeName) || yo.test(this.type))
            }).map(function(n, t) {
                var r = i(this).val();
                return r == null ? null: i.isArray(r) ? i.map(r,
                function(n) {
                    return {
                        name: t.name,
                        value: n.replace(gi, "\r\n")
                    }
                }) : {
                    name: t.name,
                    value: r.replace(gi, "\r\n")
                }
            }).get()
        }
    }),
    i.param = function(n, r) {
        var u, f = [],
        e = function(n, t) {
            t = i.isFunction(t) ? t() : t == null ? "": t,
            f[f.length] = encodeURIComponent(n) + "=" + encodeURIComponent(t)
        };
        if (r === t && (r = i.ajaxSettings && i.ajaxSettings.traditional), i.isArray(n) || n.jquery && !i.isPlainObject(n)) i.each(n,
        function() {
            e(this.name, this.value)
        });
        else for (u in n) gt(u, n[u], r, e);
        return f.join("&").replace(vo, "+")
    };
    var h, c, bu = /#.*$/,
    ku = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
    du = /^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,
    gu = /^(?:GET|HEAD)$/,
    nf = /^\/\//,
    wi = /\?/,
    rf = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
    uf = /([?&])_=[^&]*/,
    ki = /^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,
    rr = i.fn.load,
    ni = {},
    fr = {},
    yi = ["*/"] + ["*"];
    try {
        h = ke.href
    } catch(po) {
        h = r.createElement("a"),
        h.href = "",
        h = h.href
    }
    c = ki.exec(h.toLowerCase()) || [],
    i.fn.load = function(n, r, u) {
        if (typeof n != "string" && rr) return rr.apply(this, arguments);
        if (!this.length) return this;
        var f, o, s, h = this,
        e = n.indexOf(" ");
        return e >= 0 && (f = n.slice(e, n.length), n = n.slice(0, e)),
        i.isFunction(r) ? (u = r, r = t) : typeof r == "object" && (o = "POST"),
        i.ajax({
            url: n,
            type: o,
            dataType: "html",
            data: r,
            complete: function(n, t) {
                u && h.each(u, s || [n.responseText, t, n])
            }
        }).done(function(n) {
            s = arguments,
            h.html(f ? i("<div>").append(n.replace(rf, "")).find(f) : n)
        }),
        this
    },
    i.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
    function(n, t) {
        i.fn[t] = function(n) {
            return this.on(t, n)
        }
    }),
    i.each(["get", "post"],
    function(n, r) {
        i[r] = function(n, u, f, e) {
            return i.isFunction(u) && (e = e || f, f = u, u = t),
            i.ajax({
                type: r,
                url: n,
                data: u,
                success: f,
                dataType: e
            })
        }
    }),
    i.extend({
        getScript: function(n, r) {
            return i.get(n, t, r, "script")
        },
        getJSON: function(n, t, r) {
            return i.get(n, t, r, "json")
        },
        ajaxSetup: function(n, t) {
            return t ? pr(n, i.ajaxSettings) : (t = n, n = i.ajaxSettings),
            pr(n, t),
            n
        },
        ajaxSettings: {
            url: h,
            isLocal: du.test(c[1]),
            global: !0,
            type: "GET",
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            processData: !0,
            async: !0,
            accepts: {
                xml: "application/xml, text/xml",
                html: "text/html",
                text: "text/plain",
                json: "application/json, text/javascript",
                "*": yi
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText"
            },
            converters: {
                "* text": n.String,
                "text html": !0,
                "text json": i.parseJSON,
                "text xml": i.parseXML
            },
            flatOptions: {
                context: !0,
                url: !0
            }
        },
        ajaxPrefilter: wr(ni),
        ajaxTransport: wr(fr),
        ajax: function(n, r) {
            function b(n, r, h, c) {
                var l, d, b, tt, p, a = r;
                e !== 2 && (e = 2, k && clearTimeout(k), v = t, it = c || "", f.readyState = n > 0 ? 4 : 0, h && (tt = ue(u, f, h)), n >= 200 && n < 300 || n === 304 ? (u.ifModified && (p = f.getResponseHeader("Last-Modified"), p && (i.lastModified[o] = p), p = f.getResponseHeader("Etag"), p && (i.etag[o] = p)), n === 304 ? (a = "notmodified", l = !0) : (l = lo(u, tt), a = l.state, d = l.data, b = l.error, l = !b)) : (b = a, (!a || n) && (a = "error", n < 0 && (n = 0))), f.status = n, f.statusText = "" + (r || a), l ? nt.resolveWith(s, [d, a, f]) : nt.rejectWith(s, [f, a, b]), f.statusCode(w), w = t, y && g.trigger("ajax" + (l ? "Success": "Error"), [f, u, l ? d: b]), rt.fireWith(s, [f, a]), y && (g.trigger("ajaxComplete", [f, u]), --i.active || i.event.trigger("ajaxStop")))
            }
            var tt, d;
            typeof n == "object" && (r = n, n = t),
            r = r || {};
            var o, it, p, v, k, h, y, a, u = i.ajaxSetup({},
            r),
            s = u.context || u,
            g = s !== u && (s.nodeType || s instanceof i) ? i(s) : i.event,
            nt = i.Deferred(),
            rt = i.Callbacks("once memory"),
            w = u.statusCode || {},
            ft = {},
            ut = {},
            e = 0,
            et = "canceled",
            f = {
                readyState: 0,
                setRequestHeader: function(n, t) {
                    if (!e) {
                        var i = n.toLowerCase();
                        n = ut[i] = ut[i] || n,
                        ft[n] = t
                    }
                    return this
                },
                getAllResponseHeaders: function() {
                    return e === 2 ? it: null
                },
                getResponseHeader: function(n) {
                    var i;
                    if (e === 2) {
                        if (!p) for (p = {}; i = ku.exec(it);) p[i[1].toLowerCase()] = i[2];
                        i = p[n.toLowerCase()]
                    }
                    return i === t ? null: i
                },
                overrideMimeType: function(n) {
                    return e || (u.mimeType = n),
                    this
                },
                abort: function(n) {
                    return n = n || et,
                    v && v.abort(n),
                    b(0, n),
                    this
                }
            };
            if (nt.promise(f), f.success = f.done, f.error = f.fail, f.complete = rt.add, f.statusCode = function(n) {
                if (n) {
                    var t;
                    if (e < 2) for (t in n) w[t] = [w[t], n[t]];
                    else t = n[f.status],
                    f.always(t)
                }
                return this
            },
            u.url = ((n || u.url) + "").replace(bu, "").replace(nf, c[1] + "//"), u.dataTypes = i.trim(u.dataType || "*").toLowerCase().split(l), u.crossDomain == null && (h = ki.exec(u.url.toLowerCase()), u.crossDomain = !(!h || h[1] == c[1] && h[2] == c[2] && (h[3] || (h[1] === "http:" ? 80 : 443)) == (c[3] || (c[1] === "http:" ? 80 : 443)))), u.data && u.processData && typeof u.data != "string" && (u.data = i.param(u.data, u.traditional)), ot(ni, u, r, f), e === 2) return f;
            y = u.global,
            u.type = u.type.toUpperCase(),
            u.hasContent = !gu.test(u.type),
            y && i.active++==0 && i.event.trigger("ajaxStart"),
            u.hasContent || (u.data && (u.url += (wi.test(u.url) ? "&": "?") + u.data, delete u.data), o = u.url, u.cache === !1 && (tt = i.now(), d = u.url.replace(uf, "$1_=" + tt), u.url = d + (d === u.url ? (wi.test(u.url) ? "&": "?") + "_=" + tt: ""))),
            (u.data && u.hasContent && u.contentType !== !1 || r.contentType) && f.setRequestHeader("Content-Type", u.contentType),
            u.ifModified && (o = o || u.url, i.lastModified[o] && f.setRequestHeader("If-Modified-Since", i.lastModified[o]), i.etag[o] && f.setRequestHeader("If-None-Match", i.etag[o])),
            f.setRequestHeader("Accept", u.dataTypes[0] && u.accepts[u.dataTypes[0]] ? u.accepts[u.dataTypes[0]] + (u.dataTypes[0] !== "*" ? ", " + yi + "; q=0.01": "") : u.accepts["*"]);
            for (a in u.headers) f.setRequestHeader(a, u.headers[a]);
            if (!u.beforeSend || u.beforeSend.call(s, f, u) !== !1 && e !== 2) {
                et = "abort";
                for (a in {
                    success: 1,
                    error: 1,
                    complete: 1
                }) f[a](u[a]);
                if (v = ot(fr, u, r, f), v) {
                    f.readyState = 1,
                    y && g.trigger("ajaxSend", [f, u]),
                    u.async && u.timeout > 0 && (k = setTimeout(function() {
                        f.abort("timeout")
                    },
                    u.timeout));
                    try {
                        e = 1,
                        v.send(ft, b)
                    } catch(st) {
                        if (e < 2) b( - 1, st);
                        else throw st;
                    }
                } else b( - 1, "No Transport");
                return f
            }
            return f.abort()
        },
        active: 0,
        lastModified: {},
        etag: {}
    });
    var nr = [],
    lf = /\?/,
    ht = /(=)\?(?=&|$)|\?\?/,
    vf = i.now();
    i.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var n = nr.pop() || i.expando + "_" + vf++;
            return this[n] = !0,
            n
        }
    }),
    i.ajaxPrefilter("json jsonp",
    function(r, u, f) {
        var e, s, o, h = r.data,
        c = r.url,
        l = r.jsonp !== !1,
        a = l && ht.test(c),
        v = l && !a && typeof h == "string" && !(r.contentType || "").indexOf("application/x-www-form-urlencoded") && ht.test(h);
        if (r.dataTypes[0] === "jsonp" || a || v) return e = r.jsonpCallback = i.isFunction(r.jsonpCallback) ? r.jsonpCallback() : r.jsonpCallback,
        s = n[e],
        a ? r.url = c.replace(ht, "$1" + e) : v ? r.data = h.replace(ht, "$1" + e) : l && (r.url += (lf.test(c) ? "&": "?") + r.jsonp + "=" + e),
        r.converters["script json"] = function() {
            return o || i.error(e + " was not called"),
            o[0]
        },
        r.dataTypes[0] = "json",
        n[e] = function() {
            o = arguments
        },
        f.always(function() {
            n[e] = s,
            r[e] && (r.jsonpCallback = u.jsonpCallback, nr.push(e)),
            o && i.isFunction(s) && s(o[0]),
            o = s = t
        }),
        "script"
    }),
    i.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /javascript|ecmascript/
        },
        converters: {
            "text script": function(n) {
                return i.globalEval(n),
                n
            }
        }
    }),
    i.ajaxPrefilter("script",
    function(n) {
        n.cache === t && (n.cache = !1),
        n.crossDomain && (n.type = "GET", n.global = !1)
    }),
    i.ajaxTransport("script",
    function(n) {
        if (n.crossDomain) {
            var i, u = r.head || r.getElementsByTagName("head")[0] || r.documentElement;
            return {
                send: function(f, e) {
                    i = r.createElement("script"),
                    i.async = "async",
                    n.scriptCharset && (i.charset = n.scriptCharset),
                    i.src = n.url,
                    i.onload = i.onreadystatechange = function(n, r) { (r || !i.readyState || /loaded|complete/.test(i.readyState)) && (i.onload = i.onreadystatechange = null, u && i.parentNode && u.removeChild(i), i = t, r || e(200, "success"))
                    },
                    u.insertBefore(i, u.firstChild)
                },
                abort: function() {
                    i && i.onload(0, 1)
                }
            }
        }
    }),
    st = n.ActiveXObject ?
    function() {
        for (var n in v) v[n](0, 1)
    }: !1,
    ui = 0,
    i.ajaxSettings.xhr = n.ActiveXObject ?
    function() {
        return ! this.isLocal && yr() || co()
    }: yr,
    function(n) {
        i.extend(i.support, {
            ajax: !!n,
            cors: !!n && "withCredentials" in n
        })
    } (i.ajaxSettings.xhr()),
    i.support.ajax && i.ajaxTransport(function(r) {
        if (!r.crossDomain || i.support.cors) {
            var u;
            return {
                send: function(f, e) {
                    var h, s, o = r.xhr();
                    if (r.username ? o.open(r.type, r.url, r.async, r.username, r.password) : o.open(r.type, r.url, r.async), r.xhrFields) for (s in r.xhrFields) o[s] = r.xhrFields[s];
                    r.mimeType && o.overrideMimeType && o.overrideMimeType(r.mimeType),
                    !r.crossDomain && !f["X-Requested-With"] && (f["X-Requested-With"] = "XMLHttpRequest");
                    try {
                        for (s in f) o.setRequestHeader(s, f[s])
                    } catch(c) {}
                    o.send(r.hasContent && r.data || null),
                    u = function(n, f) {
                        var s, a, y, c, l;
                        try {
                            if (u && (f || o.readyState === 4)) if (u = t, h && (o.onreadystatechange = i.noop, st && delete v[h]), f) o.readyState !== 4 && o.abort();
                            else {
                                s = o.status,
                                y = o.getAllResponseHeaders(),
                                c = {},
                                l = o.responseXML,
                                l && l.documentElement && (c.xml = l);
                                try {
                                    c.text = o.responseText
                                } catch(n) {}
                                try {
                                    a = o.statusText
                                } catch(p) {
                                    a = ""
                                } ! s && r.isLocal && !r.crossDomain ? s = c.text ? 200 : 404 : s === 1223 && (s = 204)
                            }
                        } catch(w) {
                            f || e( - 1, w)
                        }
                        c && e(s, a, c, y)
                    },
                    r.async ? o.readyState === 4 ? setTimeout(u, 0) : (h = ++ui, st && (v || (v = {},
                    i(n).unload(st)), v[h] = u), o.onreadystatechange = u) : u()
                },
                abort: function() {
                    u && u(0, 1)
                }
            }
        }
    });
    var ft, nt, df = /^(?:toggle|show|hide)$/,
    gf = new RegExp("^(?:([-+])=|)(" + it + ")([a-z%]*)$", "i"),
    ne = /queueHooks$/,
    tt = [no],
    b = {
        "*": [function(n, t) {
            var o, s, h, r = this.createTween(n, t),
            e = gf.exec(t),
            c = r.cur(),
            u = +c || 0,
            f = 1;
            if (e) {
                if (o = +e[2], s = e[3] || (i.cssNumber[n] ? "": "px"), s !== "px" && u) {
                    u = i.css(r.elem, n, !0) || o || 1;
                    do h = f = f || ".5",
                    u = u / f,
                    i.style(r.elem, n, u + s),
                    f = r.cur() / c;
                    while (f !== 1 && f !== h)
                }
                r.unit = s,
                r.start = u,
                r.end = e[1] ? u + (e[1] + 1) * o: o
            }
            return r
        }]
    };
    i.Animation = i.extend(lu, {
        tweener: function(n, t) {
            i.isFunction(n) ? (t = n, n = ["*"]) : n = n.split(" ");
            for (var r, u = 0,
            f = n.length; u < f; u++) r = n[u],
            b[r] = b[r] || [],
            b[r].unshift(t)
        },
        prefilter: function(n, t) {
            t ? tt.unshift(n) : tt.push(n)
        }
    }),
    i.Tween = f,
    f.prototype = {
        constructor: f,
        init: function(n, t, r, u, f, e) {
            this.elem = n,
            this.prop = r,
            this.easing = f || "swing",
            this.options = t,
            this.start = this.now = this.cur(),
            this.end = u,
            this.unit = e || (i.cssNumber[r] ? "": "px")
        },
        cur: function() {
            var n = f.propHooks[this.prop];
            return n && n.get ? n.get(this) : f.propHooks._default.get(this)
        },
        run: function(n) {
            var r, t = f.propHooks[this.prop];
            return this.pos = r = i.easing[this.easing](n, this.options.duration * n, 0, 1, this.options.duration),
            this.now = (this.end - this.start) * r + this.start,
            this.options.step && this.options.step.call(this.elem, this.now, this),
            t && t.set ? t.set(this) : f.propHooks._default.set(this),
            this
        }
    },
    f.prototype.init.prototype = f.prototype,
    f.propHooks = {
        _default: {
            get: function(n) {
                var t;
                return n.elem[n.prop] == null || !!n.elem.style && n.elem.style[n.prop] != null ? (t = i.css(n.elem, n.prop, !1, ""), !t || t === "auto" ? 0 : t) : n.elem[n.prop]
            },
            set: function(n) {
                i.fx.step[n.prop] ? i.fx.step[n.prop](n) : n.elem.style && (n.elem.style[i.cssProps[n.prop]] != null || i.cssHooks[n.prop]) ? i.style(n.elem, n.prop, n.now + n.unit) : n.elem[n.prop] = n.now
            }
        }
    },
    f.propHooks.scrollTop = f.propHooks.scrollLeft = {
        set: function(n) {
            n.elem.nodeType && n.elem.parentNode && (n.elem[n.prop] = n.now)
        }
    },
    i.each(["toggle", "show", "hide"],
    function(n, t) {
        var r = i.fn[t];
        i.fn[t] = function(u, f, e) {
            return u == null || typeof u == "boolean" || !n && i.isFunction(u) && i.isFunction(f) ? r.apply(this, arguments) : this.animate(ut(t, !0), u, f, e)
        }
    }),
    i.fn.extend({
        fadeTo: function(n, t, i, r) {
            return this.filter(lt).css("opacity", 0).show().end().animate({
                opacity: t
            },
            n, i, r)
        },
        animate: function(n, t, r, u) {
            var e = i.isEmptyObject(n),
            f = i.speed(t, r, u),
            o = function() {
                var t = lu(this, i.extend({},
                n), f);
                e && t.stop(!0)
            };
            return e || f.queue === !1 ? this.each(o) : this.queue(f.queue, o)
        },
        stop: function(n, r, u) {
            var f = function(n) {
                var t = n.stop;
                delete n.stop,
                t(u)
            };
            return typeof n != "string" && (u = r, r = n, n = t),
            r && n !== !1 && this.queue(n || "fx", []),
            this.each(function() {
                var o = !0,
                t = n != null && n + "queueHooks",
                e = i.timers,
                r = i._data(this);
                if (t) r[t] && r[t].stop && f(r[t]);
                else for (t in r) r[t] && r[t].stop && ne.test(t) && f(r[t]);
                for (t = e.length; t--;) e[t].elem === this && (n == null || e[t].queue === n) && (e[t].anim.stop(u), o = !1, e.splice(t, 1)); (o || !u) && i.dequeue(this, n)
            })
        }
    }),
    i.each({
        slideDown: ut("show"),
        slideUp: ut("hide"),
        slideToggle: ut("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    },
    function(n, t) {
        i.fn[n] = function(n, i, r) {
            return this.animate(t, n, i, r)
        }
    }),
    i.speed = function(n, t, r) {
        var u = n && typeof n == "object" ? i.extend({},
        n) : {
            complete: r || !r && t || i.isFunction(n) && n,
            duration: n,
            easing: r && t || t && !i.isFunction(t) && t
        };
        return u.duration = i.fx.off ? 0 : typeof u.duration == "number" ? u.duration: u.duration in i.fx.speeds ? i.fx.speeds[u.duration] : i.fx.speeds._default,
        (u.queue == null || u.queue === !0) && (u.queue = "fx"),
        u.old = u.complete,
        u.complete = function() {
            i.isFunction(u.old) && u.old.call(this),
            u.queue && i.dequeue(this, u.queue)
        },
        u
    },
    i.easing = {
        linear: function(n) {
            return n
        },
        swing: function(n) {
            return.5 - Math.cos(n * Math.PI) / 2
        }
    },
    i.timers = [],
    i.fx = f.prototype.init,
    i.fx.tick = function() {
        for (var r, n = i.timers,
        t = 0; t < n.length; t++) r = n[t],
        !r() && n[t] === r && n.splice(t--, 1);
        n.length || i.fx.stop()
    },
    i.fx.timer = function(n) {
        n() && i.timers.push(n) && !nt && (nt = setInterval(i.fx.tick, i.fx.interval))
    },
    i.fx.interval = 13,
    i.fx.stop = function() {
        clearInterval(nt),
        nt = null
    },
    i.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    },
    i.fx.step = {},
    i.expr && i.expr.filters && (i.expr.filters.animated = function(n) {
        return i.grep(i.timers,
        function(t) {
            return n === t.elem
        }).length
    }),
    vt = /^(?:body|html)$/i,
    i.fn.offset = function(n) {
        if (arguments.length) return n === t ? this: this.each(function(t) {
            i.offset.setOffset(this, n, t)
        });
        var e, r, o, s, h, c, l, a, v, y, u = this[0],
        f = u && u.ownerDocument;
        if (f) return (o = f.body) === u ? i.offset.bodyOffset(u) : (r = f.documentElement, i.contains(r, u) ? (e = u.getBoundingClientRect(), s = lr(f), h = r.clientTop || o.clientTop || 0, c = r.clientLeft || o.clientLeft || 0, l = s.pageYOffset || r.scrollTop, a = s.pageXOffset || r.scrollLeft, v = e.top + l - h, y = e.left + a - c, {
            top: v,
            left: y
        }) : {
            top: 0,
            left: 0
        })
    },
    i.offset = {
        bodyOffset: function(n) {
            var t = n.offsetTop,
            r = n.offsetLeft;
            return i.support.doesNotIncludeMarginInBodyOffset && (t += parseFloat(i.css(n, "marginTop")) || 0, r += parseFloat(i.css(n, "marginLeft")) || 0),
            {
                top: t,
                left: r
            }
        },
        setOffset: function(n, t, r) {
            var f = i.css(n, "position");
            f === "static" && (n.style.position = "relative");
            var e = i(n),
            o = e.offset(),
            l = i.css(n, "top"),
            a = i.css(n, "left"),
            v = (f === "absolute" || f === "fixed") && i.inArray("auto", [l, a]) > -1,
            u = {},
            s = {},
            h,
            c;
            v ? (s = e.position(), h = s.top, c = s.left) : (h = parseFloat(l) || 0, c = parseFloat(a) || 0),
            i.isFunction(t) && (t = t.call(n, r, o)),
            t.top != null && (u.top = t.top - o.top + h),
            t.left != null && (u.left = t.left - o.left + c),
            "using" in t ? t.using.call(n, u) : e.css(u)
        }
    },
    i.fn.extend({
        position: function() {
            if (this[0]) {
                var u = this[0],
                n = this.offsetParent(),
                t = this.offset(),
                r = vt.test(n[0].nodeName) ? {
                    top: 0,
                    left: 0
                }: n.offset();
                return t.top -= parseFloat(i.css(u, "marginTop")) || 0,
                t.left -= parseFloat(i.css(u, "marginLeft")) || 0,
                r.top += parseFloat(i.css(n[0], "borderTopWidth")) || 0,
                r.left += parseFloat(i.css(n[0], "borderLeftWidth")) || 0,
                {
                    top: t.top - r.top,
                    left: t.left - r.left
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var n = this.offsetParent || r.body; n && !vt.test(n.nodeName) && i.css(n, "position") === "static";) n = n.offsetParent;
                return n || r.body
            })
        }
    }),
    i.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    },
    function(n, r) {
        var u = /Y/.test(r);
        i.fn[n] = function(f) {
            return i.access(this,
            function(n, f, e) {
                var o = lr(n);
                if (e === t) return o ? r in o ? o[r] : o.document.documentElement[f] : n[f];
                o ? o.scrollTo(u ? i(o).scrollLeft() : e, u ? e: i(o).scrollTop()) : n[f] = e
            },
            n, f, arguments.length, null)
        }
    }),
    i.each({
        Height: "height",
        Width: "width"
    },
    function(n, r) {
        i.each({
            padding: "inner" + n,
            content: r,
            "": "outer" + n
        },
        function(u, f) {
            i.fn[f] = function(f, e) {
                var o = arguments.length && (u || typeof f != "boolean"),
                s = u || (f === !0 || e === !0 ? "margin": "border");
                return i.access(this,
                function(r, u, f) {
                    var e;
                    return i.isWindow(r) ? r.document.documentElement["client" + n] : r.nodeType === 9 ? (e = r.documentElement, Math.max(r.body["scroll" + n], e["scroll" + n], r.body["offset" + n], e["offset" + n], e["client" + n])) : f === t ? i.css(r, u, f, s) : i.style(r, u, f, s)
                },
                r, o ? f: t, o)
            }
        })
    }),
    n.jQuery = n.$ = i,
    typeof define == "function" && define.amd && define.amd.jQuery && define("jquery", [],
    function() {
        return i
    })
})(window),
function() { (function(n) {
        var i = this || eval("this"),
        r = i.document,
        f = i.navigator,
        t = i.jQuery,
        u = i.JSON; (function(n) {
            "function" == typeof require && "object" == typeof exports && "object" == typeof module ? n(module.exports || exports, require) : "function" == typeof define && define.amd ? define(["exports", "require"], n) : n(i.ko = {})
        })(function(e, o) {
            function y(n, t) {
                return null === n || typeof n in b ? n === t: !1
            }
            function k(t, i) {
                var r;
                return function() {
                    r || (r = setTimeout(function() {
                        r = n,
                        t()
                    },
                    i))
                }
            }
            function d(n, t) {
                var i;
                return function() {
                    clearTimeout(i),
                    i = setTimeout(n, t)
                }
            }
            function p(n, t, i, r) {
                s.d[n] = {
                    init: function(n, u, f, e, o) {
                        var c, h;
                        return s.s(function() {
                            var l = s.a.c(u()),
                            f = !i != !l,
                            e = !h; (e || t || f !== c) && (e && s.Y.la() && (h = s.a.ia(s.f.childNodes(n), !0)), f ? (e || s.f.T(n, s.a.ia(h)), s.Ca(r ? r(o, l) : o, n)) : s.f.ja(n), c = f)
                        },
                        null, {
                            o: n
                        }),
                        {
                            controlsDescendantBindings: !0
                        }
                    }
                },
                s.h.ha[n] = !1,
                s.f.Q[n] = !0
            }
            var s = "undefined" != typeof e ? e: {},
            b,
            l,
            h,
            c,
            a,
            w,
            v;
            s.b = function(n, t) {
                for (var i = n.split("."), r = s, u = 0; u < i.length - 1; u++) r = r[i[u]];
                r[i[i.length - 1]] = t
            },
            s.A = function(n, t, i) {
                n[t] = i
            },
            s.version = "3.2.0",
            s.b("version", s.version),
            s.a = function() {
                function o(n, t) {
                    for (var i in n) n.hasOwnProperty(i) && t(i, n[i])
                }
                function c(n, t) {
                    if (t) for (var i in t) t.hasOwnProperty(i) && (n[i] = t[i]);
                    return n
                }
                function l(n, t) {
                    return n.__proto__ = t,
                    n
                }
                var a = {
                    __proto__: []
                }
                instanceof Array,
                h = {},
                v = {},
                y,
                e;
                return h[f && /Firefox\/2/i.test(f.userAgent) ? "KeyboardEvent": "UIEvents"] = ["keyup", "keydown", "keypress"],
                h.MouseEvents = "click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),
                o(h,
                function(n, t) {
                    if (t.length) for (var i = 0,
                    r = t.length; i < r; i++) v[t[i]] = n
                }),
                y = {
                    propertychange: !0
                },
                e = r &&
                function() {
                    for (var t = 3,
                    i = r.createElement("div"), u = i.getElementsByTagName("i"); i.innerHTML = "<!--[if gt IE " + ++t + "]><i></i><![endif]-->", u[0];);
                    return 4 < t ? t: n
                } (),
                {
                    vb: ["authenticity_token", /^__RequestVerificationToken(_.*)?$/],
                    u: function(n, t) {
                        for (var i = 0,
                        r = n.length; i < r; i++) t(n[i], i)
                    },
                    m: function(n, t) {
                        if ("function" == typeof Array.prototype.indexOf) return Array.prototype.indexOf.call(n, t);
                        for (var i = 0,
                        r = n.length; i < r; i++) if (n[i] === t) return i;
                        return - 1
                    },
                    qb: function(n, t, i) {
                        for (var r = 0,
                        u = n.length; r < u; r++) if (t.call(i, n[r], r)) return n[r];
                        return null
                    },
                    ua: function(n, t) {
                        var i = s.a.m(n, t);
                        0 < i ? n.splice(i, 1) : 0 === i && n.shift()
                    },
                    rb: function(n) {
                        n = n || [];
                        for (var i = [], t = 0, r = n.length; t < r; t++) 0 > s.a.m(i, n[t]) && i.push(n[t]);
                        return i
                    },
                    Da: function(n, t) {
                        n = n || [];
                        for (var r = [], i = 0, u = n.length; i < u; i++) r.push(t(n[i], i));
                        return r
                    },
                    ta: function(n, t) {
                        n = n || [];
                        for (var r = [], i = 0, u = n.length; i < u; i++) t(n[i], i) && r.push(n[i]);
                        return r
                    },
                    ga: function(n, t) {
                        if (t instanceof Array) n.push.apply(n, t);
                        else for (var i = 0,
                        r = t.length; i < r; i++) n.push(t[i]);
                        return n
                    },
                    ea: function(n, t, i) {
                        var r = s.a.m(s.a.Xa(n), t);
                        0 > r ? i && n.push(t) : i || n.splice(r, 1)
                    },
                    xa: a,
                    extend: c,
                    za: l,
                    Aa: a ? l: c,
                    G: o,
                    na: function(n, t) {
                        if (!n) return n;
                        var r = {},
                        i;
                        for (i in n) n.hasOwnProperty(i) && (r[i] = t(n[i], i, n));
                        return r
                    },
                    Ka: function(n) {
                        for (; n.firstChild;) s.removeNode(n.firstChild)
                    },
                    oc: function(n) {
                        n = s.a.S(n);
                        for (var i = r.createElement("div"), t = 0, u = n.length; t < u; t++) i.appendChild(s.R(n[t]));
                        return i
                    },
                    ia: function(n, t) {
                        for (var r, i = 0,
                        f = n.length,
                        u = []; i < f; i++) r = n[i].cloneNode(!0),
                        u.push(t ? s.R(r) : r);
                        return u
                    },
                    T: function(n, t) {
                        if (s.a.Ka(n), t) for (var i = 0,
                        r = t.length; i < r; i++) n.appendChild(t[i])
                    },
                    Lb: function(n, t) {
                        var r = n.nodeType ? [n] : n;
                        if (0 < r.length) {
                            for (var f = r[0], e = f.parentNode, i = 0, u = t.length; i < u; i++) e.insertBefore(t[i], f);
                            for (i = 0, u = r.length; i < u; i++) s.removeNode(r[i])
                        }
                    },
                    ka: function(n, t) {
                        if (n.length) {
                            for (t = 8 === t.nodeType && t.parentNode || t; n.length && n[0].parentNode !== t;) n.shift();
                            if (1 < n.length) {
                                var i = n[0],
                                r = n[n.length - 1];
                                for (n.length = 0; i !== r;) if (n.push(i), i = i.nextSibling, !i) return;
                                n.push(r)
                            }
                        }
                        return n
                    },
                    Nb: function(n, t) {
                        7 > e ? n.setAttribute("selected", t) : n.selected = t
                    },
                    cb: function(t) {
                        return null === t || t === n ? "": t.trim ? t.trim() : t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g, "")
                    },
                    vc: function(n, t) {
                        return n = n || "",
                        t.length > n.length ? !1 : n.substring(0, t.length) === t
                    },
                    cc: function(n, t) {
                        if (n === t) return ! 0;
                        if (11 === n.nodeType) return ! 1;
                        if (t.contains) return t.contains(3 === n.nodeType ? n.parentNode: n);
                        if (t.compareDocumentPosition) return 16 == (t.compareDocumentPosition(n) & 16);
                        for (; n && n != t;) n = n.parentNode;
                        return !! n
                    },
                    Ja: function(n) {
                        return s.a.cc(n, n.ownerDocument.documentElement)
                    },
                    ob: function(n) {
                        return !! s.a.qb(n, s.a.Ja)
                    },
                    t: function(n) {
                        return n && n.tagName && n.tagName.toLowerCase()
                    },
                    n: function(n, i, r) {
                        var o = e && y[i],
                        u,
                        f;
                        if (!o && t) t(n).bind(i, r);
                        else if (o || "function" != typeof n.addEventListener) if ("undefined" != typeof n.attachEvent) u = function(t) {
                            r.call(n, t)
                        },
                        f = "on" + i,
                        n.attachEvent(f, u),
                        s.a.w.da(n,
                        function() {
                            n.detachEvent(f, u)
                        });
                        else throw Error("Browser doesn't support addEventListener or attachEvent");
                        else n.addEventListener(i, r, !1)
                    },
                    oa: function(n, u) {
                        if (!n || !n.nodeType) throw Error("element must be a DOM node when calling triggerEvent");
                        var f;
                        if ("input" === s.a.t(n) && n.type && "click" == u.toLowerCase() ? (f = n.type, f = "checkbox" == f || "radio" == f) : f = !1, t && !f) t(n).trigger(u);
                        else if ("function" == typeof r.createEvent) if ("function" == typeof n.dispatchEvent) f = r.createEvent(v[u] || "HTMLEvents"),
                        f.initEvent(u, !0, !0, i, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, n),
                        n.dispatchEvent(f);
                        else throw Error("The supplied element doesn't support dispatchEvent");
                        else if (f && n.click) n.click();
                        else if ("undefined" != typeof n.fireEvent) n.fireEvent("on" + u);
                        else throw Error("Browser doesn't support triggering events");
                    },
                    c: function(n) {
                        return s.C(n) ? n() : n
                    },
                    Xa: function(n) {
                        return s.C(n) ? n.v() : n
                    },
                    Ba: function(n, t, i) {
                        if (t) {
                            var r = /\S+/g,
                            u = n.className.match(r) || [];
                            s.a.u(t.match(r),
                            function(n) {
                                s.a.ea(u, n, i)
                            }),
                            n.className = u.join(" ")
                        }
                    },
                    bb: function(t, i) {
                        var r = s.a.c(i),
                        u; (null === r || r === n) && (r = ""),
                        u = s.f.firstChild(t),
                        !u || 3 != u.nodeType || s.f.nextSibling(u) ? s.f.T(t, [t.ownerDocument.createTextNode(r)]) : u.data = r,
                        s.a.fc(t)
                    },
                    Mb: function(n, t) {
                        if (n.name = t, 7 >= e) try {
                            n.mergeAttributes(r.createElement("<input name='" + n.name + "'/>"), !1)
                        } catch(i) {}
                    },
                    fc: function(n) {
                        9 <= e && (n = 1 == n.nodeType ? n: n.parentNode, n.style && (n.style.zoom = n.style.zoom))
                    },
                    dc: function(n) {
                        if (e) {
                            var t = n.style.width;
                            n.style.width = 0,
                            n.style.width = t
                        }
                    },
                    sc: function(n, t) {
                        n = s.a.c(n),
                        t = s.a.c(t);
                        for (var r = [], i = n; i <= t; i++) r.push(i);
                        return r
                    },
                    S: function(n) {
                        for (var i = [], t = 0, r = n.length; t < r; t++) i.push(n[t]);
                        return i
                    },
                    yc: 6 === e,
                    zc: 7 === e,
                    L: e,
                    xb: function(n, t) {
                        for (var r = s.a.S(n.getElementsByTagName("input")).concat(s.a.S(n.getElementsByTagName("textarea"))), f = "string" == typeof t ?
                        function(n) {
                            return n.name === t
                        }: function(n) {
                            return t.test(n.name)
                        },
                        u = [], i = r.length - 1; 0 <= i; i--) f(r[i]) && u.push(r[i]);
                        return u
                    },
                    pc: function(n) {
                        return "string" == typeof n && (n = s.a.cb(n)) ? u && u.parse ? u.parse(n) : new Function("return " + n)() : null
                    },
                    eb: function(n, t, i) {
                        if (!u || !u.stringify) throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
                        return u.stringify(s.a.c(n), t, i)
                    },
                    qc: function(n, t, i) {
                        var v, e, h, f, u, c;
                        i = i || {};
                        var l = i.params || {},
                        a = i.includeFields || this.vb,
                        v = n;
                        if ("object" == typeof n && "form" === s.a.t(n)) for (v = n.action, e = a.length - 1; 0 <= e; e--) for (h = s.a.xb(n, a[e]), f = h.length - 1; 0 <= f; f--) l[h[f].name] = h[f].value;
                        t = s.a.c(t),
                        u = r.createElement("form"),
                        u.style.display = "none",
                        u.action = v,
                        u.method = "post";
                        for (c in t) n = r.createElement("input"),
                        n.type = "hidden",
                        n.name = c,
                        n.value = s.a.eb(s.a.c(t[c])),
                        u.appendChild(n);
                        o(l,
                        function(n, t) {
                            var i = r.createElement("input");
                            i.type = "hidden",
                            i.name = n,
                            i.value = t,
                            u.appendChild(i)
                        }),
                        r.body.appendChild(u),
                        i.submitter ? i.submitter(u) : u.submit(),
                        setTimeout(function() {
                            u.parentNode.removeChild(u)
                        },
                        0)
                    }
                }
            } (),
            s.b("utils", s.a),
            s.b("utils.arrayForEach", s.a.u),
            s.b("utils.arrayFirst", s.a.qb),
            s.b("utils.arrayFilter", s.a.ta),
            s.b("utils.arrayGetDistinctValues", s.a.rb),
            s.b("utils.arrayIndexOf", s.a.m),
            s.b("utils.arrayMap", s.a.Da),
            s.b("utils.arrayPushAll", s.a.ga),
            s.b("utils.arrayRemoveItem", s.a.ua),
            s.b("utils.extend", s.a.extend),
            s.b("utils.fieldsIncludedWithJsonPost", s.a.vb),
            s.b("utils.getFormFields", s.a.xb),
            s.b("utils.peekObservable", s.a.Xa),
            s.b("utils.postJson", s.a.qc),
            s.b("utils.parseJson", s.a.pc),
            s.b("utils.registerEventHandler", s.a.n),
            s.b("utils.stringifyJson", s.a.eb),
            s.b("utils.range", s.a.sc),
            s.b("utils.toggleDomNodeCssClass", s.a.Ba),
            s.b("utils.triggerEvent", s.a.oa),
            s.b("utils.unwrapObservable", s.a.c),
            s.b("utils.objectForEach", s.a.G),
            s.b("utils.addOrRemoveItem", s.a.ea),
            s.b("unwrap", s.a.c),
            Function.prototype.bind || (Function.prototype.bind = function(n) {
                var i = this,
                t = Array.prototype.slice.call(arguments);
                return n = t.shift(),
                function() {
                    return i.apply(n, t.concat(Array.prototype.slice.call(arguments)))
                }
            }),
            s.a.e = new
            function() {
                function r(r, f) {
                    var e = r[t];
                    if (!e || "null" === e || !i[e]) {
                        if (!f) return n;
                        e = r[t] = "ko" + u++,
                        i[e] = {}
                    }
                    return i[e]
                }
                var u = 0,
                t = "__ko__" + +new Date,
                i = {};
                return {
                    get: function(t, i) {
                        var u = r(t, !1);
                        return u === n ? n: u[i]
                    },
                    set: function(t, i, u) { (u !== n || r(t, !1) !== n) && (r(t, !0)[i] = u)
                    },
                    clear: function(n) {
                        var r = n[t];
                        return r ? (delete i[r], n[t] = null, !0) : !1
                    },
                    F: function() {
                        return u+++t
                    }
                }
            },
            s.b("utils.domData", s.a.e),
            s.b("utils.domData.clear", s.a.e.clear),
            s.a.w = new
            function() {
                function i(t, i) {
                    var r = s.a.e.get(t, u);
                    return r === n && i && (r = [], s.a.e.set(t, u, r)),
                    r
                }
                function r(n) {
                    var t = i(n, !1),
                    u;
                    if (t) for (t = t.slice(0), u = 0; u < t.length; u++) t[u](n);
                    if (s.a.e.clear(n), s.a.w.cleanExternalData(n), f[n.nodeType]) for (t = n.firstChild; n = t;) t = n.nextSibling,
                    8 === n.nodeType && r(n)
                }
                var u = s.a.e.F(),
                e = {
                    1 : !0,
                    8 : !0,
                    9 : !0
                },
                f = {
                    1 : !0,
                    9 : !0
                };
                return {
                    da: function(n, t) {
                        if ("function" != typeof t) throw Error("Callback must be a function");
                        i(n, !0).push(t)
                    },
                    Kb: function(t, r) {
                        var f = i(t, !1);
                        f && (s.a.ua(f, r), 0 == f.length && s.a.e.set(t, u, n))
                    },
                    R: function(n) {
                        var t, i, u;
                        if (e[n.nodeType] && (r(n), f[n.nodeType])) for (t = [], s.a.ga(t, n.getElementsByTagName("*")), i = 0, u = t.length; i < u; i++) r(t[i]);
                        return n
                    },
                    removeNode: function(n) {
                        s.R(n),
                        n.parentNode && n.parentNode.removeChild(n)
                    },
                    cleanExternalData: function(n) {
                        t && "function" == typeof t.cleanData && t.cleanData([n])
                    }
                }
            },
            s.R = s.a.w.R,
            s.removeNode = s.a.w.removeNode,
            s.b("cleanNode", s.R),
            s.b("removeNode", s.removeNode),
            s.b("utils.domNodeDisposal", s.a.w),
            s.b("utils.domNodeDisposal.addDisposeCallback", s.a.w.da),
            s.b("utils.domNodeDisposal.removeDisposeCallback", s.a.w.Kb),
            function() {
                s.a.ba = function(n) {
                    var u, f;
                    if (t) {
                        if (t.parseHTML) u = t.parseHTML(n) || [];
                        else if ((u = t.clean([n])) && u[0]) {
                            for (n = u[0]; n.parentNode && 11 !== n.parentNode.nodeType;) n = n.parentNode;
                            n.parentNode && n.parentNode.removeChild(n)
                        }
                    } else {
                        for (f = s.a.cb(n).toLowerCase(), u = r.createElement("div"), f = f.match(/^<(thead|tbody|tfoot)/) && [1, "<table>", "</table>"] || !f.indexOf("<tr") && [2, "<table><tbody>", "</tbody></table>"] || (!f.indexOf("<td") || !f.indexOf("<th")) && [3, "<table><tbody><tr>", "</tr></tbody></table>"] || [0, "", ""], n = "ignored<div>" + f[1] + n + f[2] + "</div>", "function" == typeof i.innerShiv ? u.appendChild(i.innerShiv(n)) : u.innerHTML = n; f[0]--;) u = u.lastChild;
                        u = s.a.S(u.lastChild.childNodes)
                    }
                    return u
                },
                s.a.$a = function(i, r) {
                    if (s.a.Ka(i), r = s.a.c(r), null !== r && r !== n) if ("string" != typeof r && (r = r.toString()), t) t(i).html(r);
                    else for (var f = s.a.ba(r), u = 0; u < f.length; u++) i.appendChild(f[u])
                }
            } (),
            s.b("utils.parseHtmlFragment", s.a.ba),
            s.b("utils.setHtml", s.a.$a),
            s.D = function() {
                function i(n, t) {
                    var r;
                    if (n) if (8 == n.nodeType) r = s.D.Gb(n.nodeValue),
                    null != r && t.push({
                        bc: n,
                        mc: r
                    });
                    else if (1 == n.nodeType) for (var r = 0,
                    u = n.childNodes,
                    f = u.length; r < f; r++) i(u[r], t)
                }
                var t = {};
                return {
                    Ua: function(n) {
                        if ("function" != typeof n) throw Error("You can only pass a function to ko.memoization.memoize()");
                        var i = (4294967296 * (1 + Math.random()) | 0).toString(16).substring(1) + (4294967296 * (1 + Math.random()) | 0).toString(16).substring(1);
                        return t[i] = n,
                        "<!--[ko_memo:" + i + "]-->"
                    },
                    Rb: function(i, r) {
                        var u = t[i];
                        if (u === n) throw Error("Couldn't find any memo with ID " + i + ". Perhaps it's already been unmemoized.");
                        try {
                            return u.apply(null, r || []),
                            !0
                        } finally {
                            delete t[i]
                        }
                    },
                    Sb: function(n, t) {
                        var f = [],
                        u,
                        o,
                        r,
                        e;
                        for (i(n, f), u = 0, o = f.length; u < o; u++) r = f[u].bc,
                        e = [r],
                        t && s.a.ga(e, t),
                        s.D.Rb(f[u].mc, e),
                        r.nodeValue = "",
                        r.parentNode && r.parentNode.removeChild(r)
                    },
                    Gb: function(n) {
                        return (n = n.match(/^\[ko_memo\:(.*?)\]$/)) ? n[1] : null
                    }
                }
            } (),
            s.b("memoization", s.D),
            s.b("memoization.memoize", s.D.Ua),
            s.b("memoization.unmemoize", s.D.Rb),
            s.b("memoization.parseMemoText", s.D.Gb),
            s.b("memoization.unmemoizeDomNodeAndDescendants", s.D.Sb),
            s.La = {
                throttle: function(n, t) {
                    n.throttleEvaluation = t;
                    var i = null;
                    return s.j({
                        read: n,
                        write: function(r) {
                            clearTimeout(i),
                            i = setTimeout(function() {
                                n(r)
                            },
                            t)
                        }
                    })
                },
                rateLimit: function(n, t) {
                    var i, r, u;
                    "number" == typeof t ? i = t: (i = t.timeout, r = t.method),
                    u = "notifyWhenChangesStop" == r ? d: k,
                    n.Ta(function(n) {
                        return u(n, i)
                    })
                },
                notify: function(n, t) {
                    n.equalityComparer = "always" == t ? null: y
                }
            },
            b = {
                undefined: 1,
                boolean: 1,
                number: 1,
                string: 1
            },
            s.b("extenders", s.La),
            s.Pb = function(n, t, i) {
                this.target = n,
                this.wa = t,
                this.ac = i,
                this.Cb = !1,
                s.A(this, "dispose", this.K)
            },
            s.Pb.prototype.K = function() {
                this.Cb = !0,
                this.ac()
            },
            s.P = function() {
                s.a.Aa(this, s.P.fn),
                this.M = {}
            },
            l = "change",
            h = {
                U: function(n, t, i) {
                    var r = this,
                    u;
                    return i = i || l,
                    u = new s.Pb(r, t ? n.bind(t) : n,
                    function() {
                        s.a.ua(r.M[i], u),
                        r.nb && r.nb()
                    }),
                    r.va && r.va(i),
                    r.M[i] || (r.M[i] = []),
                    r.M[i].push(u),
                    u
                },
                notifySubscribers: function(n, t) {
                    if (t = t || l, this.Ab(t)) try {
                        s.k.Ea();
                        for (var u = this.M[t].slice(0), r = 0, i; i = u[r]; ++r) i.Cb || i.wa(n)
                    } finally {
                        s.k.end()
                    }
                },
                Ta: function(n) {
                    var t = this,
                    e = s.C(t),
                    r,
                    u,
                    i,
                    f;
                    t.qa || (t.qa = t.notifySubscribers, t.notifySubscribers = function(n, i) {
                        i && i !== l ? "beforeChange" === i ? t.kb(n) : t.qa(n, i) : t.lb(n)
                    }),
                    f = n(function() {
                        e && i === t && (i = t()),
                        r = !1,
                        t.Pa(u, i) && t.qa(u = i)
                    }),
                    t.lb = function(n) {
                        r = !0,
                        i = n,
                        f()
                    },
                    t.kb = function(n) {
                        r || (u = n, t.qa(n, "beforeChange"))
                    }
                },
                Ab: function(n) {
                    return this.M[n] && this.M[n].length
                },
                yb: function() {
                    var n = 0;
                    return s.a.G(this.M,
                    function(t, i) {
                        n += i.length
                    }),
                    n
                },
                Pa: function(n, t) {
                    return ! this.equalityComparer || !this.equalityComparer(n, t)
                },
                extend: function(n) {
                    var t = this;
                    return n && s.a.G(n,
                    function(n, i) {
                        var r = s.La[n];
                        "function" == typeof r && (t = r(t, i) || t)
                    }),
                    t
                }
            },
            s.A(h, "subscribe", h.U),
            s.A(h, "extend", h.extend),
            s.A(h, "getSubscriptionsCount", h.yb),
            s.a.xa && s.a.za(h, Function.prototype),
            s.P.fn = h,
            s.Db = function(n) {
                return null != n && "function" == typeof n.U && "function" == typeof n.notifySubscribers
            },
            s.b("subscribable", s.P),
            s.b("isSubscribable", s.Db),
            s.Y = s.k = function() {
                function t(t) {
                    r.push(n),
                    n = t
                }
                function i() {
                    n = r.pop()
                }
                var r = [],
                n,
                u = 0;
                return {
                    Ea: t,
                    end: i,
                    Jb: function(t) {
                        if (n) {
                            if (!s.Db(t)) throw Error("Only subscribable things can act as dependencies");
                            n.wa(t, t.Vb || (t.Vb = ++u))
                        }
                    },
                    B: function(n, r, u) {
                        try {
                            return t(),
                            n.apply(r, u || [])
                        } finally {
                            i()
                        }
                    },
                    la: function() {
                        if (n) return n.s.la()
                    },
                    ma: function() {
                        if (n) return n.ma
                    }
                }
            } (),
            s.b("computedContext", s.Y),
            s.b("computedContext.getDependenciesCount", s.Y.la),
            s.b("computedContext.isInitial", s.Y.ma),
            s.b("computedContext.isSleeping", s.Y.Ac),
            s.p = function(n) {
                function t() {
                    return 0 < arguments.length ? (t.Pa(i, arguments[0]) && (t.X(), i = arguments[0], t.W()), this) : (s.k.Jb(t), i)
                }
                var i = n;
                return s.P.call(t),
                s.a.Aa(t, s.p.fn),
                t.v = function() {
                    return i
                },
                t.W = function() {
                    t.notifySubscribers(i)
                },
                t.X = function() {
                    t.notifySubscribers(i, "beforeChange")
                },
                s.A(t, "peek", t.v),
                s.A(t, "valueHasMutated", t.W),
                s.A(t, "valueWillMutate", t.X),
                t
            },
            s.p.fn = {
                equalityComparer: y
            },
            c = s.p.rc = "__ko_proto__",
            s.p.fn[c] = s.p,
            s.a.xa && s.a.za(s.p.fn, s.P.fn),
            s.Ma = function(t, i) {
                return null === t || t === n || t[c] === n ? !1 : t[c] === i ? !0 : s.Ma(t[c], i)
            },
            s.C = function(n) {
                return s.Ma(n, s.p)
            },
            s.Ra = function(n) {
                return "function" == typeof n && n[c] === s.p || "function" == typeof n && n[c] === s.j && n.hc ? !0 : !1
            },
            s.b("observable", s.p),
            s.b("isObservable", s.C),
            s.b("isWriteableObservable", s.Ra),
            s.b("isWritableObservable", s.Ra),
            s.aa = function(n) {
                if (n = n || [], "object" != typeof n || !("length" in n)) throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");
                return n = s.p(n),
                s.a.Aa(n, s.aa.fn),
                n.extend({
                    trackArrayChanges: !0
                })
            },
            s.aa.fn = {
                remove: function(n) {
                    for (var u, r = this.v(), i = [], f = "function" != typeof n || s.C(n) ?
                    function(t) {
                        return t === n
                    }: n, t = 0; t < r.length; t++) u = r[t],
                    f(u) && (0 === i.length && this.X(), i.push(u), r.splice(t, 1), t--);
                    return i.length && this.W(),
                    i
                },
                removeAll: function(t) {
                    if (t === n) {
                        var i = this.v(),
                        r = i.slice(0);
                        return this.X(),
                        i.splice(0, i.length),
                        this.W(),
                        r
                    }
                    return t ? this.remove(function(n) {
                        return 0 <= s.a.m(t, n)
                    }) : []
                },
                destroy: function(n) {
                    var i = this.v(),
                    r = "function" != typeof n || s.C(n) ?
                    function(t) {
                        return t === n
                    }: n,
                    t;
                    for (this.X(), t = i.length - 1; 0 <= t; t--) r(i[t]) && (i[t]._destroy = !0);
                    this.W()
                },
                destroyAll: function(t) {
                    return t === n ? this.destroy(function() {
                        return ! 0
                    }) : t ? this.destroy(function(n) {
                        return 0 <= s.a.m(t, n)
                    }) : []
                },
                indexOf: function(n) {
                    var t = this();
                    return s.a.m(t, n)
                },
                replace: function(n, t) {
                    var i = this.indexOf(n);
                    0 <= i && (this.X(), this.v()[i] = t, this.W())
                }
            },
            s.a.u("pop push reverse shift sort splice unshift".split(" "),
            function(n) {
                s.aa.fn[n] = function() {
                    var t = this.v();
                    return this.X(),
                    this.sb(t, n, arguments),
                    t = t[n].apply(t, arguments),
                    this.W(),
                    t
                }
            }),
            s.a.u(["slice"],
            function(n) {
                s.aa.fn[n] = function() {
                    var t = this();
                    return t[n].apply(t, arguments)
                }
            }),
            s.a.xa && s.a.za(s.aa.fn, s.p.fn),
            s.b("observableArray", s.aa),
            a = "arrayChange",
            s.La.trackArrayChanges = function(n) {
                function u() {
                    var f, u;
                    r || (r = !0, f = n.notifySubscribers, n.notifySubscribers = function(n, t) {
                        return t && t !== l || ++i,
                        f.apply(this, arguments)
                    },
                    u = [].concat(n.v() || []), t = null, n.U(function(r) {
                        if (r = [].concat(r || []), n.Ab(a)) {
                            var f; (!t || 1 < i) && (t = s.a.Fa(u, r, {
                                sparse: !0
                            })),
                            f = t,
                            f.length && n.notifySubscribers(f, a)
                        }
                        u = r,
                        t = null,
                        i = 0
                    }))
                }
                if (!n.sb) {
                    var r = !1,
                    t = null,
                    i = 0,
                    f = n.U;
                    n.U = n.subscribe = function(n, t, i) {
                        return i === a && u(),
                        f.apply(this, arguments)
                    },
                    n.sb = function(n, u, f) {
                        function c(n, t, i) {
                            return l[l.length] = {
                                status: n,
                                value: t,
                                index: i
                            }
                        }
                        if (r && !i) {
                            var l = [],
                            e = n.length,
                            h = f.length,
                            o = 0;
                            switch (u) {
                            case "push":
                                o = e;
                            case "unshift":
                                for (u = 0; u < h; u++) c("added", f[u], o + u);
                                break;
                            case "pop":
                                o = e - 1;
                            case "shift":
                                e && c("deleted", n[o], o);
                                break;
                            case "splice":
                                u = Math.min(Math.max(0, 0 > f[0] ? e + f[0] : f[0]), e);
                                for (var e = 1 === h ? e: Math.min(u + (f[1] || 0), e), h = u + h - 2, o = Math.max(e, h), a = [], v = [], y = 2; u < o; ++u, ++y) u < e && v.push(c("deleted", n[u], u)),
                                u < h && a.push(c("added", f[y], u));
                                s.a.wb(v, a);
                                break;
                            default:
                                return
                            }
                            t = l
                        }
                    }
                }
            },
            s.s = s.j = function(t, i, r) {
                function ft() {
                    s.a.G(h,
                    function(n, t) {
                        t.K()
                    }),
                    h = {}
                }
                function ut() {
                    ft(),
                    f = 0,
                    d = !0,
                    c = !1
                }
                function ot() {
                    var n = u.throttleEvaluation;
                    n && 0 <= n ? (clearTimeout(tt), tt = setTimeout(v, n)) : u.ib ? u.ib() : v()
                }
                function v(t) {
                    var v, r, l, b;
                    if (p) {
                        if (g) throw Error("A 'pure' computed must not be called recursively");
                    } else if (!d) {
                        if (w && w()) {
                            if (!k) {
                                a();
                                return
                            }
                        } else k = !1;
                        if (p = !0, y) try {
                            v = {},
                            s.k.Ea({
                                wa: function(n, t) {
                                    v[t] || (v[t] = 1, ++f)
                                },
                                s: u,
                                ma: n
                            }),
                            f = 0,
                            o = e.call(i)
                        } finally {
                            s.k.end(),
                            p = !1
                        } else try {
                            r = h,
                            l = f,
                            s.k.Ea({
                                wa: function(n, t) {
                                    d || (l && r[t] ? (h[t] = r[t], ++f, delete r[t], --l) : h[t] || (h[t] = n.U(ot), ++f))
                                },
                                s: u,
                                ma: g ? n: !f
                            }),
                            h = {},
                            f = 0;
                            try {
                                b = i ? e.call(i) : e()
                            } finally {
                                s.k.end(),
                                l && s.a.G(r,
                                function(n, t) {
                                    t.K()
                                }),
                                c = !1
                            }
                            u.Pa(o, b) && (u.notifySubscribers(o, "beforeChange"), o = b, !0 !== t && u.notifySubscribers(o))
                        } finally {
                            p = !1
                        }
                        f || a()
                    }
                }
                function u() {
                    if (0 < arguments.length) {
                        if ("function" == typeof nt) nt.apply(i, arguments);
                        else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
                        return this
                    }
                    return s.k.Jb(u),
                    c && v(!0),
                    o
                }
                function rt() {
                    return c && !f && v(!0),
                    o
                }
                function it() {
                    return c || 0 < f
                }
                var o, c = !0,
                p = !1,
                k = !1,
                d = !1,
                e = t,
                g = !1,
                y = !1,
                et;
                if (e && "object" == typeof e ? (r = e, e = r.read) : (r = r || {},
                e || (e = r.read)), "function" != typeof e) throw Error("Pass a function that returns the value of the ko.computed");
                var nt = r.write,
                l = r.disposeWhenNodeIsRemoved || r.o || null,
                b = r.disposeWhen || r.Ia,
                w = b,
                a = ut,
                h = {},
                f = 0,
                tt = null;
                return i || (i = r.owner),
                s.P.call(u),
                s.a.Aa(u, s.j.fn),
                u.v = rt,
                u.la = function() {
                    return f
                },
                u.hc = "function" == typeof r.write,
                u.K = function() {
                    a()
                },
                u.Z = it,
                et = u.Ta,
                u.Ta = function(n) {
                    et.call(u, n),
                    u.ib = function() {
                        u.kb(o),
                        c = !0,
                        u.lb(u)
                    }
                },
                r.pure ? (y = g = !0, u.va = function() {
                    y && (y = !1, v(!0))
                },
                u.nb = function() {
                    u.yb() || (ft(), y = c = !0)
                }) : r.deferEvaluation && (u.va = function() {
                    rt(),
                    delete u.va
                }),
                s.A(u, "peek", u.v),
                s.A(u, "dispose", u.K),
                s.A(u, "isActive", u.Z),
                s.A(u, "getDependenciesCount", u.la),
                l && (k = !0, l.nodeType && (w = function() {
                    return ! s.a.Ja(l) || b && b()
                })),
                y || r.deferEvaluation || v(),
                l && it() && l.nodeType && (a = function() {
                    s.a.w.Kb(l, a),
                    ut()
                },
                s.a.w.da(l, a)),
                u
            },
            s.jc = function(n) {
                return s.Ma(n, s.j)
            },
            h = s.p.rc,
            s.j[h] = s.p,
            s.j.fn = {
                equalityComparer: y
            },
            s.j.fn[h] = s.j,
            s.a.xa && s.a.za(s.j.fn, s.P.fn),
            s.b("dependentObservable", s.j),
            s.b("computed", s.j),
            s.b("isComputed", s.jc),
            s.Ib = function(n, t) {
                return "function" == typeof n ? s.s(n, t, {
                    pure: !0
                }) : (n = s.a.extend({},
                n), n.pure = !0, s.s(n, t))
            },
            s.b("pureComputed", s.Ib),
            function() {
                function t(u, f, e) {
                    if (e = e || new i, u = f(u), "object" != typeof u || null === u || u === n || u instanceof Date || u instanceof String || u instanceof Number || u instanceof Boolean) return u;
                    var o = u instanceof Array ? [] : {};
                    return e.save(u, o),
                    r(u,
                    function(i) {
                        var r = f(u[i]),
                        s;
                        switch (typeof r) {
                        case "boolean":
                        case "number":
                        case "string":
                        case "function":
                            o[i] = r;
                            break;
                        case "object":
                        case "undefined":
                            s = e.get(r),
                            o[i] = s !== n ? s: t(r, f, e)
                        }
                    }),
                    o
                }
                function r(n, t) {
                    if (n instanceof Array) {
                        for (var i = 0; i < n.length; i++) t(i);
                        "function" == typeof n.toJSON && t("toJSON")
                    } else for (i in n) t(i)
                }
                function i() {
                    this.keys = [],
                    this.hb = []
                }
                s.Qb = function(n) {
                    if (0 == arguments.length) throw Error("When calling ko.toJS, pass the object you want to convert.");
                    return t(n,
                    function(n) {
                        for (var t = 0; s.C(n) && 10 > t; t++) n = n();
                        return n
                    })
                },
                s.toJSON = function(n, t, i) {
                    return n = s.Qb(n),
                    s.a.eb(n, t, i)
                },
                i.prototype = {
                    save: function(n, t) {
                        var i = s.a.m(this.keys, n);
                        0 <= i ? this.hb[i] = t: (this.keys.push(n), this.hb.push(t))
                    },
                    get: function(t) {
                        return t = s.a.m(this.keys, t),
                        0 <= t ? this.hb[t] : n
                    }
                }
            } (),
            s.b("toJS", s.Qb),
            s.b("toJSON", s.toJSON),
            function() {
                s.i = {
                    q: function(t) {
                        switch (s.a.t(t)) {
                        case "option":
                            return ! 0 === t.__ko__hasDomDataOptionValue__ ? s.a.e.get(t, s.d.options.Va) : 7 >= s.a.L ? t.getAttributeNode("value") && t.getAttributeNode("value").specified ? t.value: t.text: t.value;
                        case "select":
                            return 0 <= t.selectedIndex ? s.i.q(t.options[t.selectedIndex]) : n;
                        default:
                            return t.value
                        }
                    },
                    ca: function(t, i, r) {
                        switch (s.a.t(t)) {
                        case "option":
                            switch (typeof i) {
                            case "string":
                                s.a.e.set(t, s.d.options.Va, n),
                                "__ko__hasDomDataOptionValue__" in t && delete t.__ko__hasDomDataOptionValue__,
                                t.value = i;
                                break;
                            default:
                                s.a.e.set(t, s.d.options.Va, i),
                                t.__ko__hasDomDataOptionValue__ = !0,
                                t.value = "number" == typeof i ? i: ""
                            }
                            break;
                        case "select":
                            ("" === i || null === i) && (i = n);
                            for (var f = -1,
                            u = 0,
                            o = t.options.length,
                            e; u < o; ++u) if (e = s.i.q(t.options[u]), e == i || "" == e && i === n) {
                                f = u;
                                break
                            } (r || 0 <= f || i === n && 1 < t.size) && (t.selectedIndex = f);
                            break;
                        default:
                            (null === i || i === n) && (i = ""),
                            t.value = i
                        }
                    }
                }
            } (),
            s.b("selectExtensions", s.i),
            s.b("selectExtensions.readValue", s.i.q),
            s.b("selectExtensions.writeValue", s.i.ca),
            s.h = function() {
                function n(n) {
                    var c, r, i;
                    n = s.a.cb(n),
                    123 === n.charCodeAt(0) && (n = n.slice(1, -1));
                    var a = [],
                    o = n.match(t),
                    h,
                    u,
                    l = 0;
                    if (o) for (o.push(","), c = 0; r = o[c]; ++c) {
                        if (i = r.charCodeAt(0), 44 === i) {
                            if (0 >= l) {
                                h && a.push(u ? {
                                    key: h,
                                    value: u.join("")
                                }: {
                                    unknown: h
                                }),
                                h = u = l = 0;
                                continue
                            }
                        } else if (58 === i) {
                            if (!u) continue
                        } else if (47 === i && c && 1 < r.length)(i = o[c - 1].match(f)) && !e[i[0]] && (n = n.substr(n.indexOf(r) + 1), o = n.match(t), o.push(","), c = -1, r = "../default.htm");
                        else if (40 === i || 123 === i || 91 === i)++l;
                        else if (41 === i || 125 === i || 93 === i)--l;
                        else if (!h && !u) {
                            h = 34 === i || 39 === i ? r.slice(1, -1) : r;
                            continue
                        }
                        u ? u.push(r) : u = [r]
                    }
                    return a
                }
                var r = ["true", "false", "null", "undefined"],
                u = /^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,
                t = RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]", "g"),
                f = /[\])"'A-Za-z0-9_$]+$/,
                e = {
                    "in": 1,
                    "return": 1,
                    "typeof": 1
                },
                i = {};
                return {
                    ha: [],
                    V: i,
                    Wa: n,
                    ya: function(t, f) {
                        function e(n, t) {
                            var a, f;
                            if (!l) {
                                if (f = s.getBindingHandler(n), f && f.preprocess && !(t = f.preprocess(t, n, e))) return; (f = i[n]) && (a = t, 0 <= s.a.m(r, a) ? a = !1 : (f = a.match(u), a = null === f ? !1 : f[1] ? "Object(" + f[1] + ")" + f[2] : a), f = a),
                                f && o.push("'" + n + "':function(_z){" + a + "=_z}")
                            }
                            c && (t = "function(){return " + t + " }"),
                            h.push("'" + n + "':" + t)
                        }
                        f = f || {};
                        var h = [],
                        o = [],
                        c = f.valueAccessors,
                        l = f.bindingParams,
                        a = "string" == typeof t ? n(t) : t;
                        return s.a.u(a,
                        function(n) {
                            e(n.key || n.unknown, n.value)
                        }),
                        o.length && e("_ko_property_writers", "{" + o.join(",") + " }"),
                        h.join(",")
                    },
                    lc: function(n, t) {
                        for (var i = 0; i < n.length; i++) if (n[i].key == t) return ! 0;
                        return ! 1
                    },
                    pa: function(n, t, i, r, u) {
                        n && s.C(n) ? !s.Ra(n) || u && n.v() === r || n(r) : (n = t.get("_ko_property_writers")) && n[i] && n[i](r)
                    }
                }
            } (),
            s.b("expressionRewriting", s.h),
            s.b("expressionRewriting.bindingRewriteValidators", s.h.ha),
            s.b("expressionRewriting.parseObjectLiteral", s.h.Wa),
            s.b("expressionRewriting.preProcessBindings", s.h.ya),
            s.b("expressionRewriting._twoWayBindings", s.h.V),
            s.b("jsonExpressionRewriting", s.h),
            s.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson", s.h.ya),
            function() {
                function n(n) {
                    return 8 == n.nodeType && e.test(t ? n.text: n.nodeValue)
                }
                function i(n) {
                    return 8 == n.nodeType && o.test(t ? n.text: n.nodeValue)
                }
                function u(t, r) {
                    for (var u = t,
                    f = 1,
                    e = []; u = u.nextSibling;) {
                        if (i(u) && (f--, 0 === f)) return e;
                        e.push(u),
                        n(u) && f++
                    }
                    if (!r) throw Error("Cannot find closing comment tag to match: " + t.nodeValue);
                    return null
                }
                function f(n, t) {
                    var i = u(n, t);
                    return i ? 0 < i.length ? i[i.length - 1].nextSibling: n.nextSibling: null
                }
                var t = r && "<!--test-->" === r.createComment("test").text,
                e = t ? /^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/: /^\s*ko(?:\s+([\s\S]+))?\s*$/,
                o = t ? /^\x3c!--\s*\/ko\s*--\x3e$/: /^\s*\/ko\s*$/,
                h = {
                    ul: !0,
                    ol: !0
                };
                s.f = {
                    Q: {},
                    childNodes: function(t) {
                        return n(t) ? u(t) : t.childNodes
                    },
                    ja: function(t) {
                        if (n(t)) {
                            t = s.f.childNodes(t);
                            for (var i = 0,
                            r = t.length; i < r; i++) s.removeNode(t[i])
                        } else s.a.Ka(t)
                    },
                    T: function(t, i) {
                        if (n(t)) {
                            s.f.ja(t);
                            for (var u = t.nextSibling,
                            r = 0,
                            f = i.length; r < f; r++) u.parentNode.insertBefore(i[r], u)
                        } else s.a.T(t, i)
                    },
                    Hb: function(t, i) {
                        n(t) ? t.parentNode.insertBefore(i, t.nextSibling) : t.firstChild ? t.insertBefore(i, t.firstChild) : t.appendChild(i)
                    },
                    Bb: function(t, i, r) {
                        r ? n(t) ? t.parentNode.insertBefore(i, r.nextSibling) : r.nextSibling ? t.insertBefore(i, r.nextSibling) : t.appendChild(i) : s.f.Hb(t, i)
                    },
                    firstChild: function(t) {
                        return n(t) ? !t.nextSibling || i(t.nextSibling) ? null: t.nextSibling: t.firstChild
                    },
                    nextSibling: function(t) {
                        return n(t) && (t = f(t)),
                        t.nextSibling && i(t.nextSibling) ? null: t.nextSibling
                    },
                    gc: n,
                    xc: function(n) {
                        return (n = (t ? n.text: n.nodeValue).match(e)) ? n[1] : null
                    },
                    Fb: function(t) {
                        var o, r, u, e;
                        if (h[s.a.t(t)] && (o = t.firstChild, o)) do
                        if (1 === o.nodeType) {
                            if (r = o.firstChild, u = null, r) do u ? u.push(r) : n(r) ? (e = f(r, !0), e ? r = e: u = [r]) : i(r) && (u = [r]);
                            while (r = r.nextSibling);
                            if (r = u) for (u = o.nextSibling, e = 0; e < r.length; e++) u ? t.insertBefore(r[e], u) : t.appendChild(r[e])
                        }
                        while (o = o.nextSibling)
                    }
                }
            } (),
            s.b("virtualElements", s.f),
            s.b("virtualElements.allowedBindings", s.f.Q),
            s.b("virtualElements.emptyNode", s.f.ja),
            s.b("virtualElements.insertAfter", s.f.Bb),
            s.b("virtualElements.prepend", s.f.Hb),
            s.b("virtualElements.setDomNodeChildren", s.f.T),
            function() {
                s.J = function() {
                    this.Yb = {}
                },
                s.a.extend(s.J.prototype, {
                    nodeHasBindings: function(n) {
                        switch (n.nodeType) {
                        case 1:
                            return null != n.getAttribute("data-bind") || s.g.getComponentNameForNode(n);
                        case 8:
                            return s.f.gc(n);
                        default:
                            return ! 1
                        }
                    },
                    getBindings: function(n, t) {
                        var i = this.getBindingsString(n, t),
                        i = i ? this.parseBindingsString(i, t, n) : null;
                        return s.g.mb(i, n, t, !1)
                    },
                    getBindingAccessors: function(n, t) {
                        var i = this.getBindingsString(n, t),
                        i = i ? this.parseBindingsString(i, t, n, {
                            valueAccessors: !0
                        }) : null;
                        return s.g.mb(i, n, t, !0)
                    },
                    getBindingsString: function(n) {
                        switch (n.nodeType) {
                        case 1:
                            return n.getAttribute("data-bind");
                        case 8:
                            return s.f.xc(n);
                        default:
                            return null
                        }
                    },
                    parseBindingsString: function(n, t, i, r) {
                        var u, f, e, o, h;
                        try {
                            return u = this.Yb,
                            f = n + (r && r.valueAccessors || ""),
                            (e = u[f]) || (h = "with($context){with($data||{}){return{" + s.h.ya(n, r) + "}}}", o = new Function("$context", "$element", h), e = u[f] = o),
                            e(t, i)
                        } catch(c) {
                            throw c.message = "Unable to parse bindings.\nBindings value: " + n + "\nMessage: " + c.message,
                            c;
                        }
                    }
                }),
                s.J.instance = new s.J
            } (),
            s.b("bindingProvider", s.J),
            function() {
                function v(n) {
                    return function() {
                        return n
                    }
                }
                function u(n) {
                    return n()
                }
                function o(n) {
                    return s.a.na(s.k.B(n),
                    function(t, i) {
                        return function() {
                            return n()[i]
                        }
                    })
                }
                function y(n, t) {
                    return o(this.getBindings.bind(this, n, t))
                }
                function h(n, t, i) {
                    var r, u = s.f.firstChild(t),
                    f = s.J.instance,
                    e = f.preprocessNode;
                    if (e) {
                        for (; r = u;) u = s.f.nextSibling(r),
                        e.call(f, r);
                        u = s.f.firstChild(t)
                    }
                    for (; r = u;) u = s.f.nextSibling(r),
                    c(n, r, i)
                }
                function c(n, t, i) {
                    var u = !0,
                    r = 1 === t.nodeType;
                    r && s.f.Fb(t),
                    (r && i || s.J.instance.nodeHasBindings(t)) && (u = l(t, null, n, i).shouldBindDescendants),
                    u && !a[s.a.t(t)] && h(n, t, !r)
                }
                function p(n) {
                    var i = [],
                    r = {},
                    t = [];
                    return s.a.G(n,
                    function u(f) {
                        if (!r[f]) {
                            var e = s.getBindingHandler(f);
                            e && (e.after && (t.push(f), s.a.u(e.after,
                            function(i) {
                                if (n[i]) {
                                    if ( - 1 !== s.a.m(t, i)) throw Error("Cannot combine the following bindings, because they have a cyclic dependency: " + t.join(", "));
                                    u(i)
                                }
                            }), t.length--), i.push({
                                key: f,
                                zb: e
                            })),
                            r[f] = !0
                        }
                    }),
                    i
                }
                function l(t, i, r, e) {
                    var v = s.a.e.get(t, f),
                    o,
                    l,
                    a,
                    c;
                    if (!i) {
                        if (v) throw Error("You cannot apply bindings multiple times to the same element.");
                        s.a.e.set(t, f, !0)
                    }
                    if (!v && e && s.Ob(t, r), i && "function" != typeof i) o = i;
                    else {
                        var w = s.J.instance,
                        b = w.getBindingAccessors || y,
                        h = s.j(function() {
                            return (o = i ? i(r, t) : b.call(w, t, r)) && r.I && r.I(),
                            o
                        },
                        null, {
                            o: t
                        });
                        o && h.Z() || (h = null)
                    }
                    return o && (a = h ?
                    function(n) {
                        return function() {
                            return u(h()[n])
                        }
                    }: function(n) {
                        return o[n]
                    },
                    c = function() {
                        return s.a.na(h ? h() : o, u)
                    },
                    c.get = function(n) {
                        return o[n] && u(a(n))
                    },
                    c.has = function(n) {
                        return n in o
                    },
                    e = p(o), s.a.u(e,
                    function(i) {
                        var f = i.zb.init,
                        e = i.zb.update,
                        u = i.key;
                        if (8 === t.nodeType && !s.f.Q[u]) throw Error("The binding '" + u + "' cannot be used with virtual elements");
                        try {
                            "function" == typeof f && s.k.B(function() {
                                var i = f(t, a(u), c, r.$data, r);
                                if (i && i.controlsDescendantBindings) {
                                    if (l !== n) throw Error("Multiple bindings (" + l + " and " + u + ") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");
                                    l = u
                                }
                            }),
                            "function" == typeof e && s.j(function() {
                                e(t, a(u), c, r.$data, r)
                            },
                            null, {
                                o: t
                            })
                        } catch(h) {
                            throw h.message = 'Unable to process binding "' + u + ": " + o[u] + '"\nMessage: ' + h.message,
                            h;
                        }
                    })),
                    {
                        shouldBindDescendants: l === n
                    }
                }
                function r(n) {
                    return n && n instanceof s.N ? n: new s.N(n)
                }
                var a, f, e;
                s.d = {},
                a = {
                    script: !0
                },
                s.getBindingHandler = function(n) {
                    return s.d[n]
                },
                s.N = function(t, i, r, u) {
                    var f = this,
                    h = "function" == typeof t && !s.C(t),
                    o,
                    e = s.j(function() {
                        var o = h ? t() : t,
                        n = s.a.c(o);
                        return i ? (i.I && i.I(), s.a.extend(f, i), e && (f.I = e)) : (f.$parents = [], f.$root = n, f.ko = s),
                        f.$rawData = o,
                        f.$data = n,
                        r && (f[r] = n),
                        u && u(f, i, n),
                        f.$data
                    },
                    null, {
                        Ia: function() {
                            return o && !s.a.ob(o)
                        },
                        o: !0
                    });
                    e.Z() && (f.I = e, e.equalityComparer = null, o = [], e.Tb = function(t) {
                        o.push(t),
                        s.a.w.da(t,
                        function(t) {
                            s.a.ua(o, t),
                            o.length || (e.K(), f.I = e = n)
                        })
                    })
                },
                s.N.prototype.createChildContext = function(n, t, i) {
                    return new s.N(n, this, t,
                    function(n, t) {
                        n.$parentContext = t,
                        n.$parent = t.$data,
                        n.$parents = (t.$parents || []).slice(0),
                        n.$parents.unshift(n.$parent),
                        i && i(n)
                    })
                },
                s.N.prototype.extend = function(n) {
                    return new s.N(this.I || this.$data, this, null,
                    function(t, i) {
                        t.$rawData = i.$rawData,
                        s.a.extend(t, "function" == typeof n ? n() : n)
                    })
                },
                f = s.a.e.F(),
                e = s.a.e.F(),
                s.Ob = function(n, t) {
                    if (2 == arguments.length) s.a.e.set(n, e, t),
                    t.I && t.I.Tb(n);
                    else return s.a.e.get(n, e)
                },
                s.ra = function(n, t, i) {
                    return 1 === n.nodeType && s.f.Fb(n),
                    l(n, t, r(i), !0)
                },
                s.Wb = function(n, t, i) {
                    return i = r(i),
                    s.ra(n, "function" == typeof t ? o(t.bind(null, i, n)) : s.a.na(t, v), i)
                },
                s.Ca = function(n, t) {
                    1 !== t.nodeType && 8 !== t.nodeType || h(r(n), t, !0)
                },
                s.pb = function(n, u) {
                    if (!t && i.jQuery && (t = i.jQuery), u && 1 !== u.nodeType && 8 !== u.nodeType) throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");
                    u = u || i.document.body,
                    c(r(n), u, !0)
                },
                s.Ha = function(t) {
                    switch (t.nodeType) {
                    case 1:
                    case 8:
                        var i = s.Ob(t);
                        if (i) return i;
                        if (t.parentNode) return s.Ha(t.parentNode)
                    }
                    return n
                },
                s.$b = function(t) {
                    return (t = s.Ha(t)) ? t.$data: n
                },
                s.b("bindingHandlers", s.d),
                s.b("applyBindings", s.pb),
                s.b("applyBindingsToDescendants", s.Ca),
                s.b("applyBindingAccessorsToNode", s.ra),
                s.b("applyBindingsToNode", s.Wb),
                s.b("contextFor", s.Ha),
                s.b("dataFor", s.$b)
            } (),
            function(n) {
                function u(t, u) {
                    var e = i.hasOwnProperty(t) ? i[t] : n,
                    o;
                    e || (e = i[t] = new s.P, f(t,
                    function(n) {
                        r[t] = n,
                        delete i[t],
                        o ? e.notifySubscribers(n) : setTimeout(function() {
                            e.notifySubscribers(n)
                        },
                        0)
                    }), o = !0),
                    e.U(u)
                }
                function f(n, i) {
                    t("getConfig", [n],
                    function(r) {
                        r ? t("loadComponent", [n, r],
                        function(n) {
                            i(n)
                        }) : i(null)
                    })
                }
                function t(i, r, u, f) {
                    var e, o, h;
                    if (f || (f = s.g.loaders.slice(0)), e = f.shift(), e) if (o = e[i], o) {
                        if (h = !1, o.apply(e, r.concat(function(n) {
                            h ? u(null) : null !== n ? u(n) : t(i, r, u, f)
                        })) !== n && (h = !0, !e.suppressLoaderExceptions)) throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");
                    } else t(i, r, u, f);
                    else u(null)
                }
                var i = {},
                r = {};
                s.g = {
                    get: function(t, i) {
                        var f = r.hasOwnProperty(t) ? r[t] : n;
                        f ? setTimeout(function() {
                            i(f)
                        },
                        0) : u(t, i)
                    },
                    tb: function(n) {
                        delete r[n]
                    },
                    jb: t
                },
                s.g.loaders = [],
                s.b("components", s.g),
                s.b("components.get", s.g.get),
                s.b("components.clearCachedDefinition", s.g.tb)
            } (),
            function() {
                function l(n, i, r, f) {
                    function e() {
                        0 == --c && f(o)
                    }
                    var o = {},
                    c = 2,
                    h = r.template;
                    r = r.viewModel,
                    h ? u(i, h,
                    function(t) {
                        s.g.jb("loadTemplate", [n, t],
                        function(n) {
                            o.template = n,
                            e()
                        })
                    }) : e(),
                    r ? u(i, r,
                    function(i) {
                        s.g.jb("loadViewModel", [n, i],
                        function(n) {
                            o[t] = n,
                            e()
                        })
                    }) : e()
                }
                function e(n, i, r) {
                    if ("function" == typeof i) r(function(n) {
                        return new i(n)
                    });
                    else if ("function" == typeof i[t]) r(i[t]);
                    else if ("instance" in i) {
                        var u = i.instance;
                        r(function() {
                            return u
                        })
                    } else "viewModel" in i ? e(n, i.viewModel, r) : n("Unknown viewModel value: " + i)
                }
                function h(n) {
                    switch (s.a.t(n)) {
                    case "script":
                        return s.a.ba(n.text);
                    case "textarea":
                        return s.a.ba(n.value);
                    case "template":
                        if (c(n.content)) return s.a.ia(n.content.childNodes)
                    }
                    return s.a.ia(n.childNodes)
                }
                function c(n) {
                    return i.DocumentFragment ? n instanceof DocumentFragment: n && 11 === n.nodeType
                }
                function u(n, t, r) {
                    "string" == typeof t.require ? o || i.require ? (o || i.require)([t.require], r) : n("Uses require, but no AMD loader is present") : r(t)
                }
                function f(n) {
                    return function(t) {
                        throw Error("Component '" + n + "': " + t);
                    }
                }
                var n = {},
                t;
                s.g.tc = function(t, i) {
                    if (!i) throw Error("Invalid configuration for " + t);
                    if (s.g.Qa(t)) throw Error("Component " + t + " is already registered");
                    n[t] = i
                },
                s.g.Qa = function(t) {
                    return t in n
                },
                s.g.wc = function(t) {
                    delete n[t],
                    s.g.tb(t)
                },
                s.g.ub = {
                    getConfig: function(t, i) {
                        i(n.hasOwnProperty(t) ? n[t] : null)
                    },
                    loadComponent: function(n, t, i) {
                        var r = f(n);
                        u(r, t,
                        function(t) {
                            l(n, r, t, i)
                        })
                    },
                    loadTemplate: function(n, t, u) {
                        if (n = f(n), "string" == typeof t) u(s.a.ba(t));
                        else if (t instanceof Array) u(t);
                        else if (c(t)) u(s.a.S(t.childNodes));
                        else if (t.element) if (t = t.element, i.HTMLElement ? t instanceof HTMLElement: t && t.tagName && 1 === t.nodeType) u(h(t));
                        else if ("string" == typeof t) {
                            var e = r.getElementById(t);
                            e ? u(h(e)) : n("Cannot find element with ID " + t)
                        } else n("Unknown element type: " + t);
                        else n("Unknown template value: " + t)
                    },
                    loadViewModel: function(n, t, i) {
                        e(f(n), t, i)
                    }
                },
                t = "createViewModel",
                s.b("components.register", s.g.tc),
                s.b("components.isRegistered", s.g.Qa),
                s.b("components.unregister", s.g.wc),
                s.b("components.defaultLoader", s.g.ub),
                s.g.loaders.push(s.g.ub),
                s.g.Ub = n
            } (),
            function() {
                function n(n, i) {
                    var r = n.getAttribute("params");
                    if (r) {
                        var r = t.parseBindingsString(r, i, n, {
                            valueAccessors: !0,
                            bindingParams: !0
                        }),
                        r = s.a.na(r,
                        function(t) {
                            return s.s(t, null, {
                                o: n
                            })
                        }),
                        u = s.a.na(r,
                        function(t) {
                            return t.Z() ? s.s(function() {
                                return s.a.c(t())
                            },
                            null, {
                                o: n
                            }) : t.v()
                        });
                        return u.hasOwnProperty("$raw") || (u.$raw = r),
                        u
                    }
                    return {
                        $raw: {}
                    }
                }
                s.g.getComponentNameForNode = function(n) {
                    return n = s.a.t(n),
                    s.g.Qa(n) && n
                },
                s.g.mb = function(t, i, r, u) {
                    var f, e;
                    if (1 === i.nodeType && (f = s.g.getComponentNameForNode(i), f)) {
                        if (t = t || {},
                        t.component) throw Error('Cannot use the "component" binding on a custom element matching a component');
                        e = {
                            name: f,
                            params: n(i, r)
                        },
                        t.component = u ?
                        function() {
                            return e
                        }: e
                    }
                    return t
                };
                var t = new s.J;
                9 > s.a.L && (s.g.register = function(n) {
                    return function(t) {
                        return r.createElement(t),
                        n.apply(this, arguments)
                    }
                } (s.g.register), r.createDocumentFragment = function(n) {
                    return function() {
                        var r = n(),
                        i = s.g.Ub,
                        t;
                        for (t in i) i.hasOwnProperty(t) && r.createElement(t);
                        return r
                    }
                } (r.createDocumentFragment))
            } (),
            function() {
                var n = 0;
                s.d.component = {
                    init: function(t, i, r, u, f) {
                        function h() {
                            var n = e && e.dispose;
                            "function" == typeof n && n.call(e),
                            o = null
                        }
                        var e, o;
                        return s.a.w.da(t, h),
                        s.s(function() {
                            var u = s.a.c(i()),
                            r,
                            c,
                            l;
                            if ("string" == typeof u ? r = u: (r = s.a.c(u.name), c = s.a.c(u.params)), !r) throw Error("No component name specified");
                            l = o = ++n,
                            s.g.get(r,
                            function(n) {
                                var i, u;
                                if (o === l) {
                                    if (h(), !n) throw Error("Unknown component '" + r + "'");
                                    if (i = n.template, !i) throw Error("Component '" + r + "' has no template");
                                    i = s.a.ia(i),
                                    s.f.T(t, i),
                                    i = c,
                                    u = n.createViewModel,
                                    n = u ? u.call(n, i, {
                                        element: t
                                    }) : i,
                                    i = f.createChildContext(n),
                                    e = n,
                                    s.Ca(i, t)
                                }
                            })
                        },
                        null, {
                            o: t
                        }),
                        {
                            controlsDescendantBindings: !0
                        }
                    }
                },
                s.f.Q.component = !0
            } (),
            w = {
                "class": "className",
                "for": "htmlFor"
            },
            s.d.attr = {
                update: function(t, i) {
                    var r = s.a.c(i()) || {};
                    s.a.G(r,
                    function(i, r) {
                        r = s.a.c(r);
                        var u = !1 === r || null === r || r === n;
                        u && t.removeAttribute(i),
                        8 >= s.a.L && i in w ? (i = w[i], u ? t.removeAttribute(i) : t[i] = r) : u || t.setAttribute(i, r.toString()),
                        "name" === i && s.a.Mb(t, u ? "": r.toString())
                    })
                }
            },
            function() {
                s.d.checked = {
                    after: ["value", "attr"],
                    init: function(t, i, r) {
                        function c() {
                            var c = t.checked,
                            n = a ? u() : c,
                            o;
                            s.Y.ma() || f && !c || (o = s.k.B(i), e ? h !== n ? (c && (s.a.ea(o, n, !0), s.a.ea(o, h, !1)), h = n) : s.a.ea(o, n, c) : s.h.pa(o, r, "checked", n, !0))
                        }
                        function l() {
                            var n = s.a.c(i());
                            t.checked = e ? 0 <= s.a.m(n, u()) : o ? n: u() === n
                        }
                        var u = s.Ib(function() {
                            return r.has("checkedValue") ? s.a.c(r.get("checkedValue")) : r.has("value") ? s.a.c(r.get("value")) : t.value
                        }),
                        o = "checkbox" == t.type,
                        f = "radio" == t.type;
                        if (o || f) {
                            var e = o && s.a.c(i()) instanceof Array,
                            h = e ? u() : n,
                            a = f || e;
                            f && !t.name && s.d.uniqueName.init(t,
                            function() {
                                return ! 0
                            }),
                            s.s(c, null, {
                                o: t
                            }),
                            s.a.n(t, "click", c),
                            s.s(l, null, {
                                o: t
                            })
                        }
                    }
                },
                s.h.V.checked = !0,
                s.d.checkedValue = {
                    update: function(n, t) {
                        n.value = s.a.c(t())
                    }
                }
            } (),
            s.d.css = {
                update: function(n, t) {
                    var i = s.a.c(t());
                    "object" == typeof i ? s.a.G(i,
                    function(t, i) {
                        i = s.a.c(i),
                        s.a.Ba(n, t, i)
                    }) : (i = String(i || ""), s.a.Ba(n, n.__ko__cssValue, !1), n.__ko__cssValue = i, s.a.Ba(n, i, !0))
                }
            },
            s.d.enable = {
                update: function(n, t) {
                    var i = s.a.c(t());
                    i && n.disabled ? n.removeAttribute("disabled") : i || n.disabled || (n.disabled = !0)
                }
            },
            s.d.disable = {
                update: function(n, t) {
                    s.d.enable.update(n,
                    function() {
                        return ! s.a.c(t())
                    })
                }
            },
            s.d.event = {
                init: function(n, t, i, r, u) {
                    var f = t() || {};
                    s.a.G(f,
                    function(f) {
                        "string" == typeof f && s.a.n(n, f,
                        function(n) {
                            var o, h = t()[f],
                            e;
                            if (h) {
                                try {
                                    e = s.a.S(arguments),
                                    r = u.$data,
                                    e.unshift(r),
                                    o = h.apply(r, e)
                                } finally { ! 0 !== o && (n.preventDefault ? n.preventDefault() : n.returnValue = !1)
                                } ! 1 === i.get(f + "Bubble") && (n.cancelBubble = !0, n.stopPropagation && n.stopPropagation())
                            }
                        })
                    })
                }
            },
            s.d.foreach = {
                Eb: function(n) {
                    return function() {
                        var i = n(),
                        t = s.a.Xa(i);
                        return ! t || "number" == typeof t.length ? {
                            foreach: i,
                            templateEngine: s.O.Oa
                        }: (s.a.c(i), {
                            foreach: t.data,
                            as: t.as,
                            includeDestroyed: t.includeDestroyed,
                            afterAdd: t.afterAdd,
                            beforeRemove: t.beforeRemove,
                            afterRender: t.afterRender,
                            beforeMove: t.beforeMove,
                            afterMove: t.afterMove,
                            templateEngine: s.O.Oa
                        })
                    }
                },
                init: function(n, t) {
                    return s.d.template.init(n, s.d.foreach.Eb(t))
                },
                update: function(n, t, i, r, u) {
                    return s.d.template.update(n, s.d.foreach.Eb(t), i, r, u)
                }
            },
            s.h.ha.foreach = !1,
            s.f.Q.foreach = !0,
            s.d.hasfocus = {
                init: function(n, t, i) {
                    function r(r) {
                        var u, f;
                        if (n.__ko_hasfocusUpdating = !0, u = n.ownerDocument, "activeElement" in u) {
                            try {
                                f = u.activeElement
                            } catch(e) {
                                f = u.body
                            }
                            r = f === n
                        }
                        u = t(),
                        s.h.pa(u, i, "hasfocus", r, !0),
                        n.__ko_hasfocusLastValue = r,
                        n.__ko_hasfocusUpdating = !1
                    }
                    var u = r.bind(null, !0),
                    f = r.bind(null, !1);
                    s.a.n(n, "focus", u),
                    s.a.n(n, "focusin", u),
                    s.a.n(n, "blur", f),
                    s.a.n(n, "focusout", f)
                },
                update: function(n, t) {
                    var i = !!s.a.c(t());
                    n.__ko_hasfocusUpdating || n.__ko_hasfocusLastValue === i || (i ? n.focus() : n.blur(), s.k.B(s.a.oa, null, [n, i ? "focusin": "focusout"]))
                }
            },
            s.h.V.hasfocus = !0,
            s.d.hasFocus = s.d.hasfocus,
            s.h.V.hasFocus = !0,
            s.d.html = {
                init: function() {
                    return {
                        controlsDescendantBindings: !0
                    }
                },
                update: function(n, t) {
                    s.a.$a(n, t())
                }
            },
            p("if"),
            p("ifnot", !1, !0),
            p("with", !0, !1,
            function(n, t) {
                return n.createChildContext(t)
            }),
            v = {},
            s.d.options = {
                init: function(n) {
                    if ("select" !== s.a.t(n)) throw Error("options binding applies only to SELECT elements");
                    for (; 0 < n.length;) n.remove(0);
                    return {
                        controlsDescendantBindings: !0
                    }
                },
                update: function(t, i, r) {
                    function c() {
                        return s.a.ta(t.options,
                        function(n) {
                            return n.selected
                        })
                    }
                    function l(n, t, i) {
                        var r = typeof t;
                        return "function" == r ? t(n) : "string" == r ? n[t] : i
                    }
                    function a(n, i) {
                        if (f.length) {
                            var r = 0 <= s.a.m(f, s.i.q(i[0]));
                            s.a.Nb(i[0], r),
                            h && !r && s.k.B(s.a.oa, null, [t, "change"])
                        }
                    }
                    var e = 0 != t.length && t.multiple ? t.scrollTop: null,
                    u = s.a.c(i()),
                    y = r.get("optionsIncludeDestroyed"),
                    o,
                    f,
                    h;
                    i = {},
                    f = t.multiple ? s.a.Da(c(), s.i.q) : 0 <= t.selectedIndex ? [s.i.q(t.options[t.selectedIndex])] : [],
                    u && ("undefined" == typeof u.length && (u = [u]), o = s.a.ta(u,
                    function(t) {
                        return y || t === n || null === t || !s.a.c(t._destroy)
                    }), r.has("optionsCaption") && (u = s.a.c(r.get("optionsCaption")), null !== u && u !== n && o.unshift(v))),
                    h = !1,
                    i.beforeRemove = function(n) {
                        t.removeChild(n)
                    },
                    u = a,
                    r.has("optionsAfterRender") && (u = function(t, i) {
                        a(0, i),
                        s.k.B(r.get("optionsAfterRender"), null, [i[0], t !== v ? t: n])
                    }),
                    s.a.Za(t, o,
                    function(i, u, e) {
                        return e.length && (f = e[0].selected ? [s.i.q(e[0])] : [], h = !0),
                        u = t.ownerDocument.createElement("option"),
                        i === v ? (s.a.bb(u, r.get("optionsCaption")), s.i.ca(u, n)) : (e = l(i, r.get("optionsValue"), i), s.i.ca(u, s.a.c(e)), i = l(i, r.get("optionsText"), e), s.a.bb(u, i)),
                        [u]
                    },
                    i, u),
                    s.k.B(function() {
                        r.get("valueAllowUnset") && r.has("value") ? s.i.ca(t, s.a.c(r.get("value")), !0) : (t.multiple ? f.length && c().length < f.length: f.length && 0 <= t.selectedIndex ? s.i.q(t.options[t.selectedIndex]) !== f[0] : f.length || 0 <= t.selectedIndex) && s.a.oa(t, "change")
                    }),
                    s.a.dc(t),
                    e && 20 < Math.abs(e - t.scrollTop) && (t.scrollTop = e)
                }
            },
            s.d.options.Va = s.a.e.F(),
            s.d.selectedOptions = {
                after: ["options", "foreach"],
                init: function(n, t, i) {
                    s.a.n(n, "change",
                    function() {
                        var u = t(),
                        r = [];
                        s.a.u(n.getElementsByTagName("option"),
                        function(n) {
                            n.selected && r.push(s.i.q(n))
                        }),
                        s.h.pa(u, i, "selectedOptions", r)
                    })
                },
                update: function(n, t) {
                    if ("select" != s.a.t(n)) throw Error("values binding applies only to SELECT elements");
                    var i = s.a.c(t());
                    i && "number" == typeof i.length && s.a.u(n.getElementsByTagName("option"),
                    function(n) {
                        var t = 0 <= s.a.m(i, s.i.q(n));
                        s.a.Nb(n, t)
                    })
                }
            },
            s.h.V.selectedOptions = !0,
            s.d.style = {
                update: function(t, i) {
                    var r = s.a.c(i() || {});
                    s.a.G(r,
                    function(i, r) {
                        r = s.a.c(r),
                        (null === r || r === n || !1 === r) && (r = ""),
                        t.style[i] = r
                    })
                }
            },
            s.d.submit = {
                init: function(n, t, i, r, u) {
                    if ("function" != typeof t()) throw Error("The value for a submit binding must be a function");
                    s.a.n(n, "submit",
                    function(i) {
                        var r, f = t();
                        try {
                            r = f.call(u.$data, n)
                        } finally { ! 0 !== r && (i.preventDefault ? i.preventDefault() : i.returnValue = !1)
                        }
                    })
                }
            },
            s.d.text = {
                init: function() {
                    return {
                        controlsDescendantBindings: !0
                    }
                },
                update: function(n, t) {
                    s.a.bb(n, t())
                }
            },
            s.f.Q.text = !0,
            function() {
                if (i && i.navigator) var t = function(n) {
                    if (n) return parseFloat(n[1])
                },
                e = i.opera && i.opera.version && parseInt(i.opera.version()),
                r = i.navigator.userAgent,
                o = t(r.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),
                h = t(r.match(/Firefox\/([^ ]*)/));
                if (10 > s.a.L) var u = s.a.e.F(),
                f = s.a.e.F(),
                c = function(n) {
                    var t = this.activeElement; (t = t && s.a.e.get(t, f)) && t(n)
                },
                l = function(n, t) {
                    var i = n.ownerDocument;
                    s.a.e.get(i, u) || (s.a.e.set(i, u, !0), s.a.n(i, "selectionchange", c)),
                    s.a.e.set(n, f, t)
                };
                s.d.textInput = {
                    init: function(t, i, r) {
                        function u(n, i) {
                            s.a.n(t, n, i)
                        }
                        function p() {
                            var r = s.a.c(i()); (null === r || r === n) && (r = ""),
                            v !== n && r === v ? setTimeout(p, 4) : t.value !== r && (y = r, t.value = r)
                        }
                        function c() {
                            a || (v = t.value, a = setTimeout(f, 4))
                        }
                        function f() {
                            clearTimeout(a),
                            v = a = n;
                            var u = t.value;
                            y !== u && (y = u, s.h.pa(i(), r, "textInput", u))
                        }
                        var y = t.value,
                        a, v;
                        10 > s.a.L ? (u("propertychange",
                        function(n) {
                            "value" === n.propertyName && f()
                        }), 8 == s.a.L && (u("keyup", f), u("keydown", f)), 8 <= s.a.L && (l(t, f), u("dragend", c))) : (u("input", f), 5 > o && "textarea" === s.a.t(t) ? (u("keydown", c), u("paste", c), u("cut", c)) : 11 > e ? u("keydown", c) : 4 > h && (u("DOMAutoComplete", f), u("dragdrop", f), u("drop", f))),
                        u("change", f),
                        s.s(p, null, {
                            o: t
                        })
                    }
                },
                s.h.V.textInput = !0,
                s.d.textinput = {
                    preprocess: function(n, t, i) {
                        i("textInput", n)
                    }
                }
            } (),
            s.d.uniqueName = {
                init: function(n, t) {
                    if (t()) {
                        var i = "ko_unique_" + ++s.d.uniqueName.Zb;
                        s.a.Mb(n, i)
                    }
                }
            },
            s.d.uniqueName.Zb = 0,
            s.d.value = {
                after: ["options", "foreach"],
                init: function(n, t, i) {
                    var o, h;
                    if ("input" != n.tagName.toLowerCase() || "checkbox" != n.type && "radio" != n.type) {
                        var r = ["change"],
                        u = i.get("valueUpdate"),
                        f = !1,
                        e = null;
                        u && ("string" == typeof u && (u = [u]), s.a.ga(r, u), r = s.a.rb(r)),
                        o = function() {
                            e = null,
                            f = !1;
                            var r = t(),
                            u = s.i.q(n);
                            s.h.pa(r, i, "value", u)
                        },
                        !s.a.L || "input" != n.tagName.toLowerCase() || "text" != n.type || "off" == n.autocomplete || n.form && "off" == n.form.autocomplete || -1 != s.a.m(r, "propertychange") || (s.a.n(n, "propertychange",
                        function() {
                            f = !0
                        }), s.a.n(n, "focus",
                        function() {
                            f = !1
                        }), s.a.n(n, "blur",
                        function() {
                            f && o()
                        })),
                        s.a.u(r,
                        function(t) {
                            var i = o;
                            s.a.vc(t, "after") && (i = function() {
                                e = s.i.q(n),
                                setTimeout(o, 0)
                            },
                            t = t.substring(5)),
                            s.a.n(n, t, i)
                        }),
                        h = function() {
                            var r = s.a.c(t()),
                            u = s.i.q(n),
                            f;
                            null !== e && r === e ? setTimeout(h, 0) : r !== u && ("select" === s.a.t(n) ? (f = i.get("valueAllowUnset"), u = function() {
                                s.i.ca(n, r, f)
                            },
                            u(), f || r === s.i.q(n) ? setTimeout(u, 0) : s.k.B(s.a.oa, null, [n, "change"])) : s.i.ca(n, r))
                        },
                        s.s(h, null, {
                            o: n
                        })
                    } else s.ra(n, {
                        checkedValue: t
                    })
                },
                update: function() {}
            },
            s.h.V.value = !0,
            s.d.visible = {
                update: function(n, t) {
                    var i = s.a.c(t()),
                    r = "none" != n.style.display;
                    i && !r ? n.style.display = "": !i && r && (n.style.display = "none")
                }
            },
            function(n) {
                s.d[n] = {
                    init: function(t, i, r, u, f) {
                        return s.d.event.init.call(this, t,
                        function() {
                            var t = {};
                            return t[n] = i(),
                            t
                        },
                        r, u, f)
                    }
                }
            } ("click"),
            s.H = function() {},
            s.H.prototype.renderTemplateSource = function() {
                throw Error("Override renderTemplateSource");
            },
            s.H.prototype.createJavaScriptEvaluatorBlock = function() {
                throw Error("Override createJavaScriptEvaluatorBlock");
            },
            s.H.prototype.makeTemplateSource = function(n, t) {
                if ("string" == typeof n) {
                    t = t || r;
                    var i = t.getElementById(n);
                    if (!i) throw Error("Cannot find template with ID " + n);
                    return new s.r.l(i)
                }
                if (1 == n.nodeType || 8 == n.nodeType) return new s.r.fa(n);
                throw Error("Unknown template type: " + n);
            },
            s.H.prototype.renderTemplate = function(n, t, i, r) {
                return n = this.makeTemplateSource(n, r),
                this.renderTemplateSource(n, t, i)
            },
            s.H.prototype.isTemplateRewritten = function(n, t) {
                return ! 1 === this.allowTemplateRewriting ? !0 : this.makeTemplateSource(n, t).data("isRewritten")
            },
            s.H.prototype.rewriteTemplate = function(n, t, i) {
                n = this.makeTemplateSource(n, i),
                t = t(n.text()),
                n.text(t),
                n.data("isRewritten", !0)
            },
            s.b("templateEngine", s.H),
            s.fb = function() {
                function n(n, t, i, r) {
                    var o, f, u, e;
                    for (n = s.h.Wa(n), o = s.h.ha, f = 0; f < n.length; f++) if (u = n[f].key, o.hasOwnProperty(u)) if (e = o[u], "function" == typeof e) {
                        if (u = e(n[f].value)) throw Error(u);
                    } else if (!e) throw Error("This template engine does not support the '" + u + "' binding within its templates");
                    return i = "ko.__tr_ambtns(function($context,$element){return(function(){return{ " + s.h.ya(n, {
                        valueAccessors: !0
                    }) + " } })()},'" + i.toLowerCase() + "')",
                    r.createJavaScriptEvaluatorBlock(i) + t
                }
                var t = /(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,
                i = /\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;
                return {
                    ec: function(n, t, i) {
                        t.isTemplateRewritten(n, i) || t.rewriteTemplate(n,
                        function(n) {
                            return s.fb.nc(n, t)
                        },
                        i)
                    },
                    nc: function(r, u) {
                        return r.replace(t,
                        function(t, i, r, f, e) {
                            return n(e, i, r, u)
                        }).replace(i,
                        function(t, i) {
                            return n(i, "<!-- ko -->", "#comment", u)
                        })
                    },
                    Xb: function(n, t) {
                        return s.D.Ua(function(i, r) {
                            var u = i.nextSibling;
                            u && u.nodeName.toLowerCase() === t && s.ra(u, n, r)
                        })
                    }
                }
            } (),
            s.b("__tr_ambtns", s.fb.Xb),
            function() {
                var i, t;
                s.r = {},
                s.r.l = function(n) {
                    this.l = n
                },
                s.r.l.prototype.text = function() {
                    var n = s.a.t(this.l),
                    n = "script" === n ? "text": "textarea" === n ? "value": "innerHTML",
                    t;
                    if (0 == arguments.length) return this.l[n];
                    t = arguments[0],
                    "innerHTML" === n ? s.a.$a(this.l, t) : this.l[n] = t
                },
                i = s.a.e.F() + "_",
                s.r.l.prototype.data = function(n) {
                    if (1 === arguments.length) return s.a.e.get(this.l, i + n);
                    s.a.e.set(this.l, i + n, arguments[1])
                },
                t = s.a.e.F(),
                s.r.fa = function(n) {
                    this.l = n
                },
                s.r.fa.prototype = new s.r.l,
                s.r.fa.prototype.text = function() {
                    if (0 == arguments.length) {
                        var i = s.a.e.get(this.l, t) || {};
                        return i.gb === n && i.Ga && (i.gb = i.Ga.innerHTML),
                        i.gb
                    }
                    s.a.e.set(this.l, t, {
                        gb: arguments[0]
                    })
                },
                s.r.l.prototype.nodes = function() {
                    if (0 == arguments.length) return (s.a.e.get(this.l, t) || {}).Ga;
                    s.a.e.set(this.l, t, {
                        Ga: arguments[0]
                    })
                },
                s.b("templateSources", s.r),
                s.b("templateSources.domElement", s.r.l),
                s.b("templateSources.anonymousTemplate", s.r.fa)
            } (),
            function() {
                function t(n, t, i) {
                    var r;
                    for (t = s.f.nextSibling(t); n && (r = n) !== t;) n = s.f.nextSibling(r),
                    i(r, n)
                }
                function f(n, i) {
                    if (n.length) {
                        var r = n[0],
                        u = n[n.length - 1],
                        f = r.parentNode,
                        e = s.J.instance,
                        o = e.preprocessNode;
                        if (o) {
                            if (t(r, u,
                            function(n, t) {
                                var f = n.previousSibling,
                                i = o.call(e, n);
                                i && (n === r && (r = i[0] || t), n === u && (u = i[i.length - 1] || f))
                            }), n.length = 0, !r) return;
                            r === u ? n.push(r) : (n.push(r, u), s.a.ka(n, f))
                        }
                        t(r, u,
                        function(n) {
                            1 !== n.nodeType && 8 !== n.nodeType || s.pb(i, n)
                        }),
                        t(r, u,
                        function(n) {
                            1 !== n.nodeType && 8 !== n.nodeType || s.D.Sb(n, [i])
                        }),
                        s.a.ka(n, f)
                    }
                }
                function i(n) {
                    return n.nodeType ? n: 0 < n.length ? n[0] : null
                }
                function e(n, t, u, e, o) {
                    o = o || {};
                    var h = n && i(n),
                    h = h && h.ownerDocument,
                    c = o.templateEngine || r;
                    if (s.fb.ec(u, c, h), u = c.renderTemplate(u, e, o, h), "number" != typeof u.length || 0 < u.length && "number" != typeof u[0].nodeType) throw Error("Template engine must return an array of DOM nodes");
                    h = !1;
                    switch (t) {
                    case "replaceChildren":
                        s.f.T(n, u),
                        h = !0;
                        break;
                    case "replaceNode":
                        s.a.Lb(n, u),
                        h = !0;
                        break;
                    case "ignoreTargetNode":
                        break;
                    default:
                        throw Error("Unknown renderMode: " + t);
                    }
                    return h && (f(u, e), o.afterRender && s.k.B(o.afterRender, null, [u, e.$data])),
                    u
                }
                var r, u;
                s.ab = function(t) {
                    if (t != n && !(t instanceof s.H)) throw Error("templateEngine must inherit from ko.templateEngine");
                    r = t
                },
                s.Ya = function(t, u, f, o, h) {
                    if (f = f || {},
                    (f.templateEngine || r) == n) throw Error("Set a template engine before calling renderTemplate");
                    if (h = h || "replaceChildren", o) {
                        var c = i(o);
                        return s.j(function() {
                            var n = u && u instanceof s.N ? u: new s.N(s.a.c(u)),
                            r = s.C(t) ? t() : "function" == typeof t ? t(n.$data, n) : t,
                            n = e(o, h, r, n, f);
                            "replaceNode" == h && (o = n, c = i(o))
                        },
                        null, {
                            Ia: function() {
                                return ! c || !s.a.Ja(c)
                            },
                            o: c && "replaceNode" == h ? c.parentNode: c
                        })
                    }
                    return s.D.Ua(function(n) {
                        s.Ya(t, u, f, n, "replaceNode")
                    })
                },
                s.uc = function(t, i, r, u, o) {
                    function c(n, t) {
                        f(t, h),
                        r.afterRender && r.afterRender(t, n)
                    }
                    function l(n, i) {
                        h = o.createChildContext(n, r.as,
                        function(n) {
                            n.$index = i
                        });
                        var u = s.C(t) ? t() : "function" == typeof t ? t(n, h) : t;
                        return e(null, "ignoreTargetNode", u, h, r)
                    }
                    var h;
                    return s.j(function() {
                        var t = s.a.c(i) || [];
                        "undefined" == typeof t.length && (t = [t]),
                        t = s.a.ta(t,
                        function(t) {
                            return r.includeDestroyed || t === n || null === t || !s.a.c(t._destroy)
                        }),
                        s.k.B(s.a.Za, null, [u, t, l, r, c])
                    },
                    null, {
                        o: u
                    })
                },
                u = s.a.e.F(),
                s.d.template = {
                    init: function(n, t) {
                        var i = s.a.c(t());
                        return "string" == typeof i || i.name ? s.f.ja(n) : (i = s.f.childNodes(n), i = s.a.oc(i), new s.r.fa(n).nodes(i)),
                        {
                            controlsDescendantBindings: !0
                        }
                    },
                    update: function(t, i, r, f, e) {
                        var h = i(),
                        o;
                        i = s.a.c(h),
                        r = !0,
                        f = null,
                        "string" == typeof i ? i = {}: (h = i.name, "if" in i && (r = s.a.c(i["if"])), r && "ifnot" in i && (r = !s.a.c(i.ifnot)), o = s.a.c(i.data)),
                        "foreach" in i@f = s.uc(h || t, r && i.foreach || [], i, t, e) : r ? (e = "data" in i ? e.createChildContext(o, i.as) : e, f = s.Ya(h || t, e, i, t)) : s.f.ja(t),
                        e = f,
                        (o = s.a.e.get(t, u)) && "function" == typeof o.K && o.K(),
                        s.a.e.set(t, u, e && e.Z() ? e: n)
                    }
                },
                s.h.ha.template = function(n) {
                    return n = s.h.Wa(n),
                    1 == n.length && n[0].unknown || s.h.lc(n, "name") ? null: "This template engine does not support anonymous templates nested within its templates"
                },
                s.f.Q.template = !0
            } (),
            s.b("setTemplateEngine", s.ab),
            s.b("renderTemplate", s.Ya),
            s.a.wb = function(n, t, i) {
                if (n.length && t.length) for (var o, r, f, e, u = o = 0; (!i || u < i) && (f = n[o]); ++o) {
                    for (r = 0; e = t[r]; ++r) if (f.value === e.value) {
                        f.moved = e.index,
                        e.moved = f.index,
                        t.splice(r, 1),
                        u = r = 0;
                        break
                    }
                    u += r
                }
            },
            s.a.Fa = function() {
                function n(n, t, i, r, u) {
                    for (var o = Math.min,
                    y = Math.max,
                    l = [], c = n.length, f, h = t.length, a = h - c || 1, w = c + h + 1, v, p, b, e = 0; e <= c; e++) for (p = v, l.push(v = []), b = o(h, e + a), f = y(0, e - 1); f <= b; f++) v[f] = f ? e ? n[e - 1] === t[f - 1] ? p[f - 1] : o(p[f] || w, v[f - 1] || w) + 1 : f + 1 : e + 1;
                    for (o = [], y = [], a = [], e = c, f = h; e || f;) h = l[e][f] - 1,
                    f && h === l[e][f - 1] ? y.push(o[o.length] = {
                        status: i,
                        value: t[--f],
                        index: f
                    }) : e && h === l[e - 1][f] ? a.push(o[o.length] = {
                        status: r,
                        value: n[--e],
                        index: e
                    }) : (--f, --e, u.sparse || o.push({
                        status: "retained",
                        value: t[f]
                    }));
                    return s.a.wb(y, a, 10 * c),
                    o.reverse()
                }
                return function(t, i, r) {
                    return r = "boolean" == typeof r ? {
                        dontLimitMoves: r
                    }: r || {},
                    t = t || [],
                    i = i || [],
                    t.length <= i.length ? n(t, i, "added", "deleted", r) : n(i, t, "deleted", "added", r)
                }
            } (),
            s.b("utils.compareArrays", s.a.Fa),
            function() {
                function i(t, i, r, u, f) {
                    var e = [],
                    o = s.j(function() {
                        var n = i(r, f, s.a.ka(e, t)) || [];
                        0 < e.length && (s.a.Lb(e, n), u && s.k.B(u, null, [r, n, f])),
                        e.length = 0,
                        s.a.ga(e, n)
                    },
                    null, {
                        o: t,
                        Ia: function() {
                            return ! s.a.ob(e)
                        }
                    });
                    return {
                        $: e,
                        j: o.Z() ? o: n
                    }
                }
                var t = s.a.e.F();
                s.a.Za = function(r, u, f, e, o) {
                    function rt(n, t) {
                        h = it[t],
                        g !== t && (tt[n] = h),
                        h.Na(g++),
                        s.a.ka(h.$, r),
                        d.push(h),
                        p.push(h)
                    }
                    function w(n, t) {
                        if (n) for (var i = 0,
                        r = t.length; i < r; i++) t[i] && s.a.u(t[i].$,
                        function(r) {
                            n(r, i, t[i].sa)
                        })
                    }
                    var c, y, ut;
                    u = u || [],
                    e = e || {};
                    var y = s.a.e.get(r, t) === n,
                    it = s.a.e.get(r, t) || [],
                    k = s.a.Da(it,
                    function(n) {
                        return n.sa
                    }),
                    a = s.a.Fa(k, u, e.dontLimitMoves),
                    d = [],
                    l = 0,
                    g = 0,
                    nt = [],
                    p = [];
                    u = [];
                    for (var tt = [], k = [], h, c = 0, b, v; b = a[c]; c++) switch (v = b.moved, b.status) {
                    case "deleted":
                        v === n && (h = it[l], h.j && h.j.K(), nt.push.apply(nt, s.a.ka(h.$, r)), e.beforeRemove && (u[c] = h, p.push(h))),
                        l++;
                        break;
                    case "retained":
                        rt(c, l++);
                        break;
                    case "added":
                        v !== n ? rt(c, v) : (h = {
                            sa: b.value,
                            Na: s.p(g++)
                        },
                        d.push(h), p.push(h), y || (k[c] = h))
                    }
                    for (w(e.beforeMove, tt), s.a.u(nt, e.beforeRemove ? s.R: s.removeNode), c = 0, y = s.f.firstChild(r); h = p[c]; c++) {
                        for (h.$ || s.a.extend(h, i(r, f, h.sa, o, h.Na)), l = 0; a = h.$[l]; y = a.nextSibling, ut = a, l++) a !== y && s.f.Bb(r, a, ut); ! h.ic && o && (o(h.sa, h.$, h.Na), h.ic = !0)
                    }
                    w(e.beforeRemove, u),
                    w(e.afterMove, tt),
                    w(e.afterAdd, k),
                    s.a.e.set(r, t, d)
                }
            } (),
            s.b("utils.setDomNodeChildrenFromArrayMapping", s.a.Za),
            s.O = function() {
                this.allowTemplateRewriting = !1
            },
            s.O.prototype = new s.H,
            s.O.prototype.renderTemplateSource = function(n) {
                var t = (9 > s.a.L ? 0 : n.nodes) ? n.nodes() : null;
                return t ? s.a.S(t.cloneNode(!0).childNodes) : (n = n.text(), s.a.ba(n))
            },
            s.O.Oa = new s.O,
            s.ab(s.O.Oa),
            s.b("nativeTemplateEngine", s.O),
            function() {
                s.Sa = function() {
                    var n = this.kc = function() {
                        if (!t || !t.tmpl) return 0;
                        try {
                            if (0 <= t.tmpl.tag.tmpl.open.toString().indexOf("__")) return 2
                        } catch(n) {}
                        return 1
                    } ();
                    this.renderTemplateSource = function(i, u, f) {
                        if (f = f || {},
                        2 > n) throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");
                        var e = i.data("precompiled");
                        return e || (e = i.text() || "", e = t.template(null, "{{ko_with $item.koBindingContext}}" + e + "{{/ko_with}}"), i.data("precompiled", e)),
                        i = [u.$data],
                        u = t.extend({
                            koBindingContext: u
                        },
                        f.templateOptions),
                        u = t.tmpl(e, i, u),
                        u.appendTo(r.createElement("div")),
                        t.fragments = {},
                        u
                    },
                    this.createJavaScriptEvaluatorBlock = function(n) {
                        return "{{ko_code ((function() { return " + n + " })()) }}"
                    },
                    this.addTemplate = function(n, t) {
                        r.write("<script type='text/html' id='" + n + "'>" + t + "<\/script>")
                    },
                    0 < n && (t.tmpl.tag.ko_code = {
                        open: "__.push($1 || '');"
                    },
                    t.tmpl.tag.ko_with = {
                        open: "with($1) {",
                        close: "} "
                    })
                },
                s.Sa.prototype = new s.H;
                var n = new s.Sa;
                0 < n.kc && s.ab(n),
                s.b("jqueryTmplTemplateEngine", s.Sa)
            } ()
        })
    })()
} (),
function() {
    var c = this,
    rt = c._,
    r = Array.prototype,
    b = Object.prototype,
    ut = Function.prototype,
    w = r.push,
    t = r.slice,
    a = r.concat,
    f = b.toString,
    k = b.hasOwnProperty,
    ot = Array.isArray,
    p = Object.keys,
    l = ut.bind,
    n = function(t) {
        return t instanceof n ? t: this instanceof n ? void(this._wrapped = t) : new n(t)
    },
    i,
    v,
    s,
    u,
    o,
    e,
    nt,
    h;
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = n), exports._ = n) : c._ = n,
    n.VERSION = "1.7.0",
    i = function(n, t, i) {
        if (t === void 0) return n;
        switch (null == i ? 3 : i) {
        case 1:
            return function(i) {
                return n.call(t, i)
            };
        case 2:
            return function(i, r) {
                return n.call(t, i, r)
            };
        case 3:
            return function(i, r, u) {
                return n.call(t, i, r, u)
            };
        case 4:
            return function(i, r, u, f) {
                return n.call(t, i, r, u, f)
            }
        }
        return function() {
            return n.apply(t, arguments)
        }
    },
    n.iteratee = function(t, r, u) {
        return null == t ? n.identity: n.isFunction(t) ? i(t, r, u) : n.isObject(t) ? n.matches(t) : n.property(t)
    },
    n.each = n.forEach = function(t, r, u) {
        var f, e, o;
        if (null == t) return t;
        if (r = i(r, u), e = t.length, e === +e) for (f = 0; e > f; f++) r(t[f], f, t);
        else for (o = n.keys(t), f = 0, e = o.length; e > f; f++) r(t[o[f]], o[f], t);
        return t
    },
    n.map = n.collect = function(t, i, r) {
        if (null == t) return [];
        i = n.iteratee(i, r);
        for (var f, e = t.length !== +t.length && n.keys(t), o = (e || t).length, s = Array(o), u = 0; o > u; u++) f = e ? e[u] : u,
        s[u] = i(t[f], f, t);
        return s
    },
    v = "Reduce of empty array with no initial value",
    n.reduce = n.foldl = n.inject = function(t, r, u, f) {
        null == t && (t = []),
        r = i(r, f, 4);
        var s, o = t.length !== +t.length && n.keys(t),
        h = (o || t).length,
        e = 0;
        if (arguments.length < 3) {
            if (!h) throw new TypeError(v);
            u = t[o ? o[e++] : e++]
        }
        for (; h > e; e++) s = o ? o[e] : e,
        u = r(u, t[s], s, t);
        return u
    },
    n.reduceRight = n.foldr = function(t, r, u, f) {
        null == t && (t = []),
        r = i(r, f, 4);
        var s, o = t.length !== +t.length && n.keys(t),
        e = (o || t).length;
        if (arguments.length < 3) {
            if (!e) throw new TypeError(v);
            u = t[o ? o[--e] : --e]
        }
        for (; e--;) s = o ? o[e] : e,
        u = r(u, t[s], s, t);
        return u
    },
    n.find = n.detect = function(t, i, r) {
        var u;
        return i = n.iteratee(i, r),
        n.some(t,
        function(n, t, r) {
            if (i(n, t, r)) return u = n,
            !0
        }),
        u
    },
    n.filter = n.select = function(t, i, r) {
        var u = [];
        return null == t ? u: (i = n.iteratee(i, r), n.each(t,
        function(n, t, r) {
            i(n, t, r) && u.push(n)
        }), u)
    },
    n.reject = function(t, i, r) {
        return n.filter(t, n.negate(n.iteratee(i)), r)
    },
    n.every = n.all = function(t, i, r) {
        if (null == t) return ! 0;
        i = n.iteratee(i, r);
        for (var f, e = t.length !== +t.length && n.keys(t), o = (e || t).length, u = 0; o > u; u++) if (f = e ? e[u] : u, !i(t[f], f, t)) return ! 1;
        return ! 0
    },
    n.some = n.any = function(t, i, r) {
        if (null == t) return ! 1;
        i = n.iteratee(i, r);
        for (var f, e = t.length !== +t.length && n.keys(t), o = (e || t).length, u = 0; o > u; u++) if (f = e ? e[u] : u, i(t[f], f, t)) return ! 0;
        return ! 1
    },
    n.contains = n.include = function(t, i) {
        return null == t ? !1 : (t.length !== +t.length && (t = n.values(t)), n.indexOf(t, i) >= 0)
    },
    n.invoke = function(i, r) {
        var u = t.call(arguments, 2),
        f = n.isFunction(r);
        return n.map(i,
        function(n) {
            return (f ? r: n[r]).apply(n, u)
        })
    },
    n.pluck = function(t, i) {
        return n.map(t, n.property(i))
    },
    n.where = function(t, i) {
        return n.filter(t, n.matches(i))
    },
    n.findWhere = function(t, i) {
        return n.find(t, n.matches(i))
    },
    n.max = function(t, i, r) {
        var o, f, u = -1 / 0,
        s = -1 / 0,
        e, h;
        if (null == i && null != t) for (t = t.length === +t.length ? t: n.values(t), e = 0, h = t.length; h > e; e++) o = t[e],
        o > u && (u = o);
        else i = n.iteratee(i, r),
        n.each(t,
        function(n, t, r) {
            f = i(n, t, r),
            (f > s || f === -1 / 0 && u === -1 / 0) && (u = n, s = f)
        });
        return u
    },
    n.min = function(t, i, r) {
        var o, f, u = 1 / 0,
        s = 1 / 0,
        e, h;
        if (null == i && null != t) for (t = t.length === +t.length ? t: n.values(t), e = 0, h = t.length; h > e; e++) o = t[e],
        u > o && (u = o);
        else i = n.iteratee(i, r),
        n.each(t,
        function(n, t, r) {
            f = i(n, t, r),
            (s > f || 1 / 0 === f && 1 / 0 === u) && (u = n, s = f)
        });
        return u
    },
    n.shuffle = function(t) {
        for (var r, f = t && t.length === +t.length ? t: n.values(t), e = f.length, u = Array(e), i = 0; e > i; i++) r = n.random(0, i),
        r !== i && (u[i] = u[r]),
        u[r] = f[i];
        return u
    },
    n.sample = function(t, i, r) {
        return null == i || r ? (t.length !== +t.length && (t = n.values(t)), t[n.random(t.length - 1)]) : n.shuffle(t).slice(0, Math.max(0, i))
    },
    n.sortBy = function(t, i, r) {
        return i = n.iteratee(i, r),
        n.pluck(n.map(t,
        function(n, t, r) {
            return {
                value: n,
                index: t,
                criteria: i(n, t, r)
            }
        }).sort(function(n, t) {
            var i = n.criteria,
            r = t.criteria;
            if (i !== r) {
                if (i > r || i === void 0) return 1;
                if (r > i || r === void 0) return - 1
            }
            return n.index - t.index
        }), "value")
    },
    s = function(t) {
        return function(i, r, u) {
            var f = {};
            return r = n.iteratee(r, u),
            n.each(i,
            function(n, u) {
                var e = r(n, u, i);
                t(f, n, e)
            }),
            f
        }
    },
    n.groupBy = s(function(t, i, r) {
        n.has(t, r) ? t[r].push(i) : t[r] = [i]
    }),
    n.indexBy = s(function(n, t, i) {
        n[i] = t
    }),
    n.countBy = s(function(t, i, r) {
        n.has(t, r) ? t[r]++:t[r] = 1
    }),
    n.sortedIndex = function(t, i, r, u) {
        var e;
        r = n.iteratee(r, u, 1);
        for (var s = r(i), f = 0, o = t.length; o > f;) e = f + o >>> 1,
        r(t[e]) < s ? f = e + 1 : o = e;
        return f
    },
    n.toArray = function(i) {
        return i ? n.isArray(i) ? t.call(i) : i.length === +i.length ? n.map(i, n.identity) : n.values(i) : []
    },
    n.size = function(t) {
        return null == t ? 0 : t.length === +t.length ? t.length: n.keys(t).length
    },
    n.partition = function(t, i, r) {
        i = n.iteratee(i, r);
        var u = [],
        f = [];
        return n.each(t,
        function(n, t, r) { (i(n, t, r) ? u: f).push(n)
        }),
        [u, f]
    },
    n.first = n.head = n.take = function(n, i, r) {
        if (null != n) return null == i || r ? n[0] : 0 > i ? [] : t.call(n, 0, i)
    },
    n.initial = function(n, i, r) {
        return t.call(n, 0, Math.max(0, n.length - (null == i || r ? 1 : i)))
    },
    n.last = function(n, i, r) {
        if (null != n) return null == i || r ? n[n.length - 1] : t.call(n, Math.max(n.length - i, 0))
    },
    n.rest = n.tail = n.drop = function(n, i, r) {
        return t.call(n, null == i || r ? 1 : i)
    },
    n.compact = function(t) {
        return n.filter(t, n.identity)
    },
    u = function(t, i, r, f) {
        var o, s, e;
        if (i && n.every(t, n.isArray)) return a.apply(f, t);
        for (o = 0, s = t.length; s > o; o++) e = t[o],
        n.isArray(e) || n.isArguments(e) ? i ? w.apply(f, e) : u(e, i, r, f) : r || f.push(e);
        return f
    },
    n.flatten = function(n, t) {
        return u(n, t, !1, [])
    },
    n.without = function(i) {
        return n.difference(i, t.call(arguments, 1))
    },
    n.uniq = n.unique = function(t, i, r, u) {
        var f, h;
        if (null == t) return [];
        n.isBoolean(i) || (u = r, r = i, i = !1),
        null != r && (r = n.iteratee(r, u));
        for (var e = [], s = [], o = 0, c = t.length; c > o; o++) f = t[o],
        i ? (o && s === f || e.push(f), s = f) : r ? (h = r(f, o, t), n.indexOf(s, h) < 0 && (s.push(h), e.push(f))) : n.indexOf(e, f) < 0 && e.push(f);
        return e
    },
    n.union = function() {
        return n.uniq(u(arguments, !0, !0, []))
    },
    n.intersection = function(t) {
        var r, i;
        if (null == t) return [];
        for (var u = [], e = arguments.length, f = 0, o = t.length; o > f; f++) if (r = t[f], !n.contains(u, r)) {
            for (i = 1; e > i && n.contains(arguments[i], r); i++);
            i === e && u.push(r)
        }
        return u
    },
    n.difference = function(i) {
        var r = u(t.call(arguments, 1), !0, !0, []);
        return n.filter(i,
        function(t) {
            return ! n.contains(r, t)
        })
    },
    n.zip = function(t) {
        if (null == t) return [];
        for (var r = n.max(arguments, "length").length, u = Array(r), i = 0; r > i; i++) u[i] = n.pluck(arguments, i);
        return u
    },
    n.object = function(n, t) {
        if (null == n) return {};
        for (var r = {},
        i = 0,
        u = n.length; u > i; i++) t ? r[n[i]] = t[i] : r[n[i][0]] = n[i][1];
        return r
    },
    n.indexOf = function(t, i, r) {
        if (null == t) return - 1;
        var u = 0,
        f = t.length;
        if (r) {
            if ("number" != typeof r) return u = n.sortedIndex(t, i),
            t[u] === i ? u: -1;
            u = 0 > r ? Math.max(0, f + r) : r
        }
        for (; f > u; u++) if (t[u] === i) return u;
        return - 1
    },
    n.lastIndexOf = function(n, t, i) {
        if (null == n) return - 1;
        var r = n.length;
        for ("number" == typeof i && (r = 0 > i ? r + i + 1 : Math.min(r, i + 1)); --r >= 0;) if (n[r] === t) return r;
        return - 1
    },
    n.range = function(n, t, i) {
        arguments.length <= 1 && (t = n || 0, n = 0),
        i = i || 1;
        for (var u = Math.max(Math.ceil((t - n) / i), 0), f = Array(u), r = 0; u > r; r++, n += i) f[r] = n;
        return f
    },
    o = function() {},
    n.bind = function(i, r) {
        var u, f;
        if (l && i.bind === l) return l.apply(i, t.call(arguments, 1));
        if (!n.isFunction(i)) throw new TypeError("Bind must be called on a function");
        return u = t.call(arguments, 2),
        f = function() {
            var e, s;
            return this instanceof f ? (o.prototype = i.prototype, e = new o, o.prototype = null, s = i.apply(e, u.concat(t.call(arguments))), n.isObject(s) ? s: e) : i.apply(r, u.concat(t.call(arguments)))
        }
    },
    n.partial = function(i) {
        var r = t.call(arguments, 1);
        return function() {
            for (var f = 0,
            t = r.slice(), u = 0, e = t.length; e > u; u++) t[u] === n && (t[u] = arguments[f++]);
            for (; f < arguments.length;) t.push(arguments[f++]);
            return i.apply(this, t)
        }
    },
    n.bindAll = function(t) {
        var i, r, u = arguments.length;
        if (1 >= u) throw new Error("bindAll must be passed function names");
        for (i = 1; u > i; i++) r = arguments[i],
        t[r] = n.bind(t[r], t);
        return t
    },
    n.memoize = function(t, i) {
        var r = function(u) {
            var f = r.cache,
            e = i ? i.apply(this, arguments) : u;
            return n.has(f, e) || (f[e] = t.apply(this, arguments)),
            f[e]
        };
        return r.cache = {},
        r
    },
    n.delay = function(n, i) {
        var r = t.call(arguments, 2);
        return setTimeout(function() {
            return n.apply(null, r)
        },
        i)
    },
    n.defer = function(i) {
        return n.delay.apply(n, [i, 1].concat(t.call(arguments, 1)))
    },
    n.throttle = function(t, i, r) {
        var f, e, s, u = null,
        o = 0,
        h;
        return r || (r = {}),
        h = function() {
            o = r.leading === !1 ? 0 : n.now(),
            u = null,
            s = t.apply(f, e),
            u || (f = e = null)
        },
        function() {
            var l = n.now(),
            c;
            return o || r.leading !== !1 || (o = l),
            c = i - (l - o),
            f = this,
            e = arguments,
            0 >= c || c > i ? (clearTimeout(u), u = null, o = l, s = t.apply(f, e), u || (f = e = null)) : u || r.trailing === !1 || (u = setTimeout(h, c)),
            s
        }
    },
    n.debounce = function(t, i, r) {
        var u, f, e, s, o, h = function() {
            var c = n.now() - s;
            i > c && c > 0 ? u = setTimeout(h, i - c) : (u = null, r || (o = t.apply(e, f), u || (e = f = null)))
        };
        return function() {
            e = this,
            f = arguments,
            s = n.now();
            var c = r && !u;
            return u || (u = setTimeout(h, i)),
            c && (o = t.apply(e, f), e = f = null),
            o
        }
    },
    n.wrap = function(t, i) {
        return n.partial(i, t)
    },
    n.negate = function(n) {
        return function() {
            return ! n.apply(this, arguments)
        }
    },
    n.compose = function() {
        var n = arguments,
        t = n.length - 1;
        return function() {
            for (var r = t,
            i = n[t].apply(this, arguments); r--;) i = n[r].call(this, i);
            return i
        }
    },
    n.after = function(n, t) {
        return function() {
            if (--n < 1) return t.apply(this, arguments)
        }
    },
    n.before = function(n, t) {
        var i;
        return function() {
            return--n > 0 ? i = t.apply(this, arguments) : t = null,
            i
        }
    },
    n.once = n.partial(n.before, 2),
    n.keys = function(t) {
        var i, r;
        if (!n.isObject(t)) return [];
        if (p) return p(t);
        i = [];
        for (r in t) n.has(t, r) && i.push(r);
        return i
    },
    n.values = function(t) {
        for (var r = n.keys(t), u = r.length, f = Array(u), i = 0; u > i; i++) f[i] = t[r[i]];
        return f
    },
    n.pairs = function(t) {
        for (var r = n.keys(t), u = r.length, f = Array(u), i = 0; u > i; i++) f[i] = [r[i], t[r[i]]];
        return f
    },
    n.invert = function(t) {
        for (var u = {},
        r = n.keys(t), i = 0, f = r.length; f > i; i++) u[t[r[i]]] = r[i];
        return u
    },
    n.functions = n.methods = function(t) {
        var r = [],
        i;
        for (i in t) n.isFunction(t[i]) && r.push(i);
        return r.sort()
    },
    n.extend = function(t) {
        if (!n.isObject(t)) return t;
        for (var i, r, u = 1,
        f = arguments.length; f > u; u++) {
            i = arguments[u];
            for (r in i) k.call(i, r) && (t[r] = i[r])
        }
        return t
    },
    n.pick = function(r, u, f) {
        var e, o = {},
        h, c, s, l;
        if (null == r) return o;
        if (n.isFunction(u)) {
            u = i(u, f);
            for (e in r) h = r[e],
            u(h, e, r) && (o[e] = h)
        } else for (c = a.apply([], t.call(arguments, 1)), r = new Object(r), s = 0, l = c.length; l > s; s++) e = c[s],
        e in r && (o[e] = r[e]);
        return o
    },
    n.omit = function(i, r, u) {
        if (n.isFunction(r)) r = n.negate(r);
        else {
            var f = n.map(a.apply([], t.call(arguments, 1)), String);
            r = function(t, i) {
                return ! n.contains(f, i)
            }
        }
        return n.pick(i, r, u)

    },
    n.defaults = function(t) {
        var i, f, u, r;
        if (!n.isObject(t)) return t;
        for (i = 1, f = arguments.length; f > i; i++) {
            u = arguments[i];
            for (r in u) t[r] === void 0 && (t[r] = u[r])
        }
        return t
    },
    n.clone = function(t) {
        return n.isObject(t) ? n.isArray(t) ? t.slice() : n.extend({},
        t) : t
    },
    n.tap = function(n, t) {
        return t(n),
        n
    },
    e = function(t, i, r, u) {
        var l, a, s, h, o, c, v, y;
        if (t === i) return 0 !== t || 1 / t == 1 / i;
        if (null == t || null == i) return t === i;
        if (t instanceof n && (t = t._wrapped), i instanceof n && (i = i._wrapped), l = f.call(t), l !== f.call(i)) return ! 1;
        switch (l) {
        case "[object RegExp]":
        case "[object String]":
            return "" + t == "" + i;
        case "[object Number]":
            return + t != +t ? +i != +i: 0 == +t ? 1 / +t == 1 / i: +t == +i;
        case "[object Date]":
        case "[object Boolean]":
            return + t == +i
        }
        if ("object" != typeof t || "object" != typeof i) return ! 1;
        for (a = r.length; a--;) if (r[a] === t) return u[a] === i;
        if (s = t.constructor, h = i.constructor, s !== h && "constructor" in t && "constructor" in i && !(n.isFunction(s) && s instanceof s && n.isFunction(h) && h instanceof h)) return ! 1;
        if (r.push(t), u.push(i), "[object Array]" === l) {
            if (o = t.length, c = o === i.length) for (; o--&&(c = e(t[o], i[o], r, u)););
        } else if (y = n.keys(t), o = y.length, c = n.keys(i).length === o) for (; o--&&(v = y[o], c = n.has(i, v) && e(t[v], i[v], r, u)););
        return r.pop(),
        u.pop(),
        c
    },
    n.isEqual = function(n, t) {
        return e(n, t, [], [])
    },
    n.isEmpty = function(t) {
        if (null == t) return ! 0;
        if (n.isArray(t) || n.isString(t) || n.isArguments(t)) return 0 === t.length;
        for (var i in t) if (n.has(t, i)) return ! 1;
        return ! 0
    },
    n.isElement = function(n) {
        return ! (!n || 1 !== n.nodeType)
    },
    n.isArray = ot ||
    function(n) {
        return "[object Array]" === f.call(n)
    },
    n.isObject = function(n) {
        var t = typeof n;
        return "function" === t || "object" === t && !!n
    },
    n.each(["Arguments", "Function", "String", "Number", "Date", "RegExp"],
    function(t) {
        n["is" + t] = function(n) {
            return f.call(n) === "[object " + t + "]"
        }
    }),
    n.isArguments(arguments) || (n.isArguments = function(t) {
        return n.has(t, "callee")
    }),
    "function" != typeof / . / &&(n.isFunction = function(n) {
        return "function" == typeof n || !1
    }),
    n.isFinite = function(n) {
        return isFinite(n) && !isNaN(parseFloat(n))
    },
    n.isNaN = function(t) {
        return n.isNumber(t) && t !== +t
    },
    n.isBoolean = function(n) {
        return n === !0 || n === !1 || "[object Boolean]" === f.call(n)
    },
    n.isNull = function(n) {
        return null === n
    },
    n.isUndefined = function(n) {
        return n === void 0
    },
    n.has = function(n, t) {
        return null != n && k.call(n, t)
    },
    n.noConflict = function() {
        return c._ = rt,
        this
    },
    n.identity = function(n) {
        return n
    },
    n.constant = function(n) {
        return function() {
            return n
        }
    },
    n.noop = function() {},
    n.property = function(n) {
        return function(t) {
            return t[n]
        }
    },
    n.matches = function(t) {
        var i = n.pairs(t),
        r = i.length;
        return function(n) {
            var t, u, f;
            if (null == n) return ! r;
            for (n = new Object(n), t = 0; r > t; t++) if (u = i[t], f = u[0], u[1] !== n[f] || !(f in n)) return ! 1;
            return ! 0
        }
    },
    n.times = function(n, t, r) {
        var f = Array(Math.max(0, n)),
        u;
        for (t = i(t, r, 1), u = 0; n > u; u++) f[u] = t(u);
        return f
    },
    n.random = function(n, t) {
        return null == t && (t = n, n = 0),
        n + Math.floor(Math.random() * (t - n + 1))
    },
    n.now = Date.now ||
    function() {
        return + new Date
    };
    var d = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#x27;",
        "`": "&#x60;"
    },
    et = n.invert(d),
    g = function(t) {
        var r = function(n) {
            return t[n]
        },
        i = "(?:" + n.keys(t).join("|") + ")",
        u = RegExp(i),
        f = RegExp(i, "g");
        return function(n) {
            return n = null == n ? "": "" + n,
            u.test(n) ? n.replace(f, r) : n
        }
    };
    n.escape = g(d),
    n.unescape = g(et),
    n.result = function(t, i) {
        if (null == t) return void 0;
        var r = t[i];
        return n.isFunction(r) ? t[i]() : r
    },
    nt = 0,
    n.uniqueId = function(n) {
        var t = ++nt + "";
        return n ? n + t: t
    },
    n.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
    };
    var y = /(.)^/,
    it = {
        "'": "'",
        "\\": "\\",
        "\r": "r",
        "\n": "n",
        "\u2028": "u2028",
        "\u2029": "u2029"
    },
    tt = /\\|'|\r|\n|\u2028|\u2029/g,
    ft = function(n) {
        return "\\" + it[n]
    };
    n.template = function(t, i, r) {
        var o, f, s; ! i && r && (i = r),
        i = n.defaults({},
        i, n.templateSettings);
        var h = RegExp([(i.escape || y).source, (i.interpolate || y).source, (i.evaluate || y).source].join("|") + "|$", "g"),
        e = 0,
        u = "__p+='";
        t.replace(h,
        function(n, i, r, f, o) {
            return u += t.slice(e, o).replace(tt, ft),
            e = o + n.length,
            i ? u += "'+\n((__t=(" + i + "))==null?'':_.escape(__t))+\n'": r ? u += "'+\n((__t=(" + r + "))==null?'':__t)+\n'": f && (u += "';\n" + f + "\n__p+='"),
            n
        }),
        u += "';\n",
        i.variable || (u = "with(obj||{}){\n" + u + "}\n"),
        u = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + u + "return __p;\n";
        try {
            o = new Function(i.variable || "obj", "_", u)
        } catch(c) {
            throw c.source = u,
            c;
        }
        return f = function(t) {
            return o.call(this, t, n)
        },
        s = i.variable || "obj",
        f.source = "function(" + s + "){\n" + u + "}",
        f
    },
    n.chain = function(t) {
        var i = n(t);
        return i._chain = !0,
        i
    },
    h = function(t) {
        return this._chain ? n(t).chain() : t
    },
    n.mixin = function(t) {
        n.each(n.functions(t),
        function(i) {
            var r = n[i] = t[i];
            n.prototype[i] = function() {
                var t = [this._wrapped];
                return w.apply(t, arguments),
                h.call(this, r.apply(n, t))
            }
        })
    },
    n.mixin(n),
    n.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"],
    function(t) {
        var i = r[t];
        n.prototype[t] = function() {
            var n = this._wrapped;
            return i.apply(n, arguments),
            "shift" !== t && "splice" !== t || 0 !== n.length || delete n[0],
            h.call(this, n)
        }
    }),
    n.each(["concat", "join", "slice"],
    function(t) {
        var i = r[t];
        n.prototype[t] = function() {
            return h.call(this, i.apply(this._wrapped, arguments))
        }
    }),
    n.prototype.value = function() {
        return this._wrapped
    },
    "function" == typeof define && define.amd && define("underscore", [],
    function() {
        return n
    })
}.call(this), this.JSON || (this.JSON = {}),
function() {
    function i(n) {
        return n < 10 ? "0" + n: n
    }
    function o(n) {
        return e.lastIndex = 0,
        e.test(n) ? '"' + n.replace(e,
        function(n) {
            var t = s[n];
            return typeof t == "string" ? t: "\\u" + ("0000" + n.charCodeAt(0).toString(16)).slice( - 4)
        }) + '"': '"' + n + '"'
    }
    function u(i, f) {
        var c, l, s, a, v = n,
        h, e = f[i];
        e && typeof e == "object" && typeof e.toJSON == "function" && (e = e.toJSON(i)),
        typeof t == "function" && (e = t.call(f, i, e));
        switch (typeof e) {
        case "string":
            return o(e);
        case "number":
            return isFinite(e) ? String(e) : "null";
        case "boolean":
        case "null":
            return String(e);
        case "object":
            if (!e) return "null";
            if (n += r, h = [], Object.prototype.toString.apply(e) === "[object Array]") {
                for (a = e.length, c = 0; c < a; c += 1) h[c] = u(c, e) || "null";
                return s = h.length === 0 ? "[]": n ? "[\n" + n + h.join(",\n" + n) + "\n" + v + "]": "[" + h.join(",") + "]",
                n = v,
                s
            }
            if (t && typeof t == "object") for (a = t.length, c = 0; c < a; c += 1) l = t[c],
            typeof l == "string" && (s = u(l, e), s && h.push(o(l) + (n ? ": ": ":") + s));
            else for (l in e) Object.hasOwnProperty.call(e, l) && (s = u(l, e), s && h.push(o(l) + (n ? ": ": ":") + s));
            return s = h.length === 0 ? "{}": n ? "{\n" + n + h.join(",\n" + n) + "\n" + v + "}": "{" + h.join(",") + "}",
            n = v,
            s
        }
    }
    typeof Date.prototype.toJSON != "function" && (Date.prototype.toJSON = function() {
        return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + i(this.getUTCMonth() + 1) + "-" + i(this.getUTCDate()) + "T" + i(this.getUTCHours()) + ":" + i(this.getUTCMinutes()) + ":" + i(this.getUTCSeconds()) + "Z": null
    },
    String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function() {
        return this.valueOf()
    });
    var f = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
    e = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
    n, r, s = {
        "\b": "\\b",
        "\t": "\\t",
        "\n": "\\n",
        "\f": "\\f",
        "\r": "\\r",
        '"': '\\"',
        "\\": "\\\\"
    },
    t;
    typeof JSON.stringify != "function" && (JSON.stringify = function(i, f, e) {
        var o;
        if (n = "", r = "", typeof e == "number") for (o = 0; o < e; o += 1) r += " ";
        else typeof e == "string" && (r = e);
        if (t = f, f && typeof f != "function" && (typeof f != "object" || typeof f.length != "number")) throw new Error("JSON.stringify");
        return u("", {
            "": i
        })
    }),
    typeof JSON.parse != "function" && (JSON.parse = function(text, reviver) {
        function walk(n, t) {
            var r, u, i = n[t];
            if (i && typeof i == "object") for (r in i) Object.hasOwnProperty.call(i, r) && (u = walk(i, r), u !== undefined ? i[r] = u: delete i[r]);
            return reviver.call(n, t, i)
        }
        var j;
        if (text = String(text), f.lastIndex = 0, f.test(text) && (text = text.replace(f,
        function(n) {
            return "\\u" + ("0000" + n.charCodeAt(0).toString(16)).slice( - 4)
        })), /^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) return j = eval("(" + text + ")"),
        typeof reviver == "function" ? walk({
            "": j
        },
        "") : j;
        throw new SyntaxError("JSON.parse");
    })
} (),
function(n) {
    function t(t) {
        var i = this.form,
        r;
        i.clk = this,
        this.type == "image" && (t.offsetX != undefined ? (i.clk_x = t.offsetX, i.clk_y = t.offsetY) : typeof n.fn.offset == "function" ? (r = n(this).offset(), i.clk_x = t.pageX - r.left, i.clk_y = t.pageY - r.top) : (i.clk_x = t.pageX - this.offsetLeft, i.clk_y = t.pageY - this.offsetTop)),
        setTimeout(function() {
            i.clk = i.clk_x = i.clk_y = null
        },
        10)
    }
    function i() {
        var t = this.formPluginId,
        i = n.fn.ajaxForm.optionHash[t];
        return n(this).ajaxSubmit(i),
        !1
    }
    n.fn.ajaxSubmit = function(t) {
        function l() {
            function o() {
                var ok, data, doc, ta;
                if (!a++) {
                    f.detachEvent ? f.detachEvent("onload", o) : f.removeEventListener("load", o, !1),
                    ok = !0;
                    try {
                        if (c) throw "timeout";
                        doc = f.contentWindow ? f.contentWindow.document: f.contentDocument ? f.contentDocument: f.document,
                        u.responseText = doc.body ? doc.body.innerHTML: null,
                        u.responseXML = doc.XMLDocument ? doc.XMLDocument: doc,
                        r.dataType == "json" || r.dataType == "script" ? (ta = doc.getElementsByTagName("textarea")[0], data = ta ? ta.value: u.responseText, r.dataType == "json" ? eval("data = " + data) : n.globalEval(data)) : r.dataType == "xml" ? (data = u.responseXML, data || u.responseText == null || (data = y(u.responseText))) : data = u.responseText
                    } catch(e) {
                        ok = !1,
                        n.handleError(r, u, "error", e)
                    }
                    ok && (r.success(data, "success"), e && n.event.trigger("ajaxSuccess", [u, r])),
                    e && n.event.trigger("ajaxComplete", [u, r]),
                    e && !--n.active && n.event.trigger("ajaxStop"),
                    r.complete && r.complete(u, ok ? "success": "error"),
                    setTimeout(function() {
                        s.remove(),
                        u.responseXML = null
                    },
                    100)
                }
            }
            function y(n, t) {
                return window.ActiveXObject ? (t = new ActiveXObject("Microsoft.XMLDOM"), t.async = "false", t.loadXML(n)) : t = (new DOMParser).parseFromString(n, "text/xml"),
                t && t.documentElement && t.documentElement.tagName != "parsererror" ? t: null
            }
            var l = i[0],
            r = n.extend({},
            n.ajaxSettings, t),
            h = "jqFormIO" + n.fn.ajaxSubmit.counter++,
            s = n('<iframe id="' + h + '" name="' + h + '" />'),
            f = s[0],
            v = n.browser.opera && window.opera.version() < 9,
            u,
            e,
            a,
            c; (n.browser.msie || v) && (f.src = 'javascript:false;document.write("");'),
            s.css({
                position: "absolute",
                top: "-1000px",
                left: "-1000px"
            }),
            u = {
                responseText: null,
                responseXML: null,
                status: 0,
                statusText: "n/a",
                getAllResponseHeaders: function() {},
                getResponseHeader: function() {},
                setRequestHeader: function() {}
            },
            e = r.global,
            e && !n.active++&&n.event.trigger("ajaxStart"),
            e && n.event.trigger("ajaxSend", [u, r]),
            a = 0,
            c = 0,
            setTimeout(function() {
                s.appendTo("body"),
                f.attachEvent ? f.attachEvent("onload", o) : f.addEventListener("load", o, !1);
                var t = l.encoding ? "encoding": "enctype",
                n = i.attr("target");
                i.attr({
                    target: h,
                    method: "POST",
                    encAttr: "multipart/form-data",
                    action: r.url
                }),
                r.timeout && setTimeout(function() {
                    c = !0,
                    o()
                },
                r.timeout),
                l.submit(),
                i.attr("target", n)
            },
            10)
        }
        var u, e, o, i, r, c, s, h, f;
        if ((typeof t == "function" && (t = {
            success: t
        }), t = n.extend({
            url: this.attr("action") || window.location,
            type: this.attr("method") || "GET"
        },
        t || {}), u = this.formToArray(t.semantic), t.beforeSubmit && t.beforeSubmit(u, this, t) === !1) || (e = {},
        n.event.trigger("form.submit.validate", [u, this, t, e]), e.veto)) return this;
        for (o = n.param(u), t.type.toUpperCase() == "GET" ? (t.url += (t.url.indexOf("?") >= 0 ? "&": "?") + o, t.data = null) : t.data = o, i = this, r = [], t.resetForm && r.push(function() {
            i.resetForm()
        }), t.clearForm && r.push(function() {
            i.clearForm()
        }), !t.dataType && t.target ? (c = t.success, r.push(function(i) {
            n(t.target).attr("innerHTML", i).evalScripts().each(c, arguments)
        })) : t.success && r.push(t.success), t.success = function(n, t) {
            for (var u = 0,
            f = r.length; u < f; u++) r[u](n, t, i)
        },
        s = n("input:file", this).fieldValue(), h = !1, f = 0; f < s.length; f++) s[f] && (h = !0);
        return t.iframe || h ? l() : n.ajax(t),
        n.event.trigger("form.submit.notify", [this, t]),
        this
    },
    n.fn.ajaxSubmit.counter = 0,
    n.fn.ajaxForm = function(r) {
        return this.ajaxFormUnbind().submit(i).each(function() {
            this.formPluginId = n.fn.ajaxForm.counter++,
            n.fn.ajaxForm.optionHash[this.formPluginId] = r,
            n(":submit,input:image", this).click(t)
        })
    },
    n.fn.ajaxForm.counter = 1,
    n.fn.ajaxForm.optionHash = {},
    n.fn.ajaxFormUnbind = function() {
        return this.unbind("submit", i),
        this.each(function() {
            n(":submit,input:image", this).unbind("click", t)
        })
    },
    n.fn.formToArray = function(t) {
        var e = [],
        i,
        h,
        o,
        f,
        l,
        v,
        a,
        u,
        c,
        s,
        r;
        if (this.length == 0 || (i = this[0], h = t ? i.getElementsByTagName("*") : i.elements, !h)) return e;
        for (u = 0, c = h.length; u < c; u++) if (o = h[u], r = o.name, r) {
            if (t && i.clk && o.type == "image") {
                o.disabled || i.clk != o || e.push({
                    name: r + ".x",
                    value: i.clk_x
                },
                {
                    name: r + ".y",
                    value: i.clk_y
                });
                continue
            }
            if (f = n.fieldValue(o, !0), f && f.constructor == Array) for (l = 0, v = f.length; l < v; l++) e.push({
                name: r,
                value: f[l]
            });
            else f !== null && typeof f != "undefined" && e.push({
                name: r,
                value: f
            })
        }
        if (!t && i.clk) for (a = i.getElementsByTagName("input"), u = 0, c = a.length; u < c; u++) s = a[u],
        r = s.name,
        r && !s.disabled && s.type == "image" && i.clk == s && e.push({
            name: r + ".x",
            value: i.clk_x
        },
        {
            name: r + ".y",
            value: i.clk_y
        });
        return e
    },
    n.fn.formSerialize = function(t) {
        return n.param(this.formToArray(t))
    },
    n.fn.fieldSerialize = function(t) {
        var i = [];
        return this.each(function() {
            var f = this.name,
            r, u, e;
            if (f) if (r = n.fieldValue(this, t), r && r.constructor == Array) for (u = 0, e = r.length; u < e; u++) i.push({
                name: f,
                value: r[u]
            });
            else r !== null && typeof r != "undefined" && i.push({
                name: this.name,
                value: r
            })
        }),
        n.param(i)
    },
    n.fn.fieldValue = function(t) {
        for (var f, i, r = [], u = 0, e = this.length; u < e; u++)(f = this[u], i = n.fieldValue(f, t), i !== null && typeof i != "undefined" && (i.constructor != Array || i.length)) && (i.constructor == Array ? n.merge(r, i) : r.push(i));
        return r
    },
    n.fieldValue = function(t, i) {
        var a = t.name,
        r = t.type,
        h = t.tagName.toLowerCase(),
        f,
        e,
        u,
        s;
        if (typeof i == "undefined" && (i = !0), i && (!a || t.disabled || r == "reset" || r == "button" || (r == "checkbox" || r == "radio") && !t.checked || (r == "submit" || r == "image") && t.form && t.form.clk != t || h == "select" && t.selectedIndex == -1)) return null;
        if (h == "select") {
            if (f = t.selectedIndex, f < 0) return null;
            var c = [],
            l = t.options,
            o = r == "select-one",
            v = o ? f + 1 : l.length;
            for (e = o ? f: 0; e < v; e++) if (u = l[e], u.selected) {
                if (s = n.browser.msie && !u.attributes.value.specified ? u.text: u.value, o) return s;
                c.push(s)
            }
            return c
        }
        return t.value
    },
    n.fn.clearForm = function() {
        return this.each(function() {
            n("input,select,textarea", this).clearFields()
        })
    },
    n.fn.clearFields = n.fn.clearInputs = function() {
        return this.each(function() {
            var n = this.type,
            t = this.tagName.toLowerCase();
            n == "text" || n == "password" || t == "textarea" ? this.value = "": n == "checkbox" || n == "radio" ? this.checked = !1 : t == "select" && (this.selectedIndex = -1)
        })
    },
    n.fn.resetForm = function() {
        return this.each(function() {
            typeof this.reset != "function" && (typeof this.reset != "object" || this.reset.nodeType) || this.reset()
        })
    }
} (jQuery), ZeroClipboard = {
    version: "1.0.7",
    clients: {},
    moviePath: "../Scripts/KC/ZeroClipboard.swf",
    nextId: 1,
    $: function(n) {
        return typeof n == "string" && (n = document.getElementById(n)),
        n.addClass || (n.hide = function() {
            this.style.display = "none"
        },
        n.show = function() {
            this.style.display = ""
        },
        n.addClass = function(n) {
            this.removeClass(n),
            this.className += " " + n
        },
        n.removeClass = function(n) {
            for (var i = this.className.split(/\s+/), r = -1, t = 0; t < i.length; t++) i[t] == n && (r = t, t = i.length);
            return r > -1 && (i.splice(r, 1), this.className = i.join(" ")),
            this
        },
        n.hasClass = function(n) {
            return !! this.className.match(new RegExp("\\s*" + n + "\\s*"))
        }),
        n
    },
    setMoviePath: function(n) {
        this.moviePath = n
    },
    dispatch: function(n, t, i) {
        var r = this.clients[n];
        r && r.receiveEvent(t, i)
    },
    register: function(n, t) {
        this.clients[n] = t
    },
    getDOMObjectPosition: function(n, t) {
        for (var i = {
            left: 0,
            top: 0,
            width: n.width ? n.width: n.offsetWidth,
            height: n.height ? n.height: n.offsetHeight
        }; n && n != t;) i.left += n.offsetLeft,
        i.top += n.offsetTop,
        n = n.offsetParent;
        return i
    },
    Client: function(n, t) {
        this.handlers = {},
        this.id = t ? t: ZeroClipboard.nextId++,
        this.movieId = "ZeroClipboardMovie_" + this.id,
        ZeroClipboard.register(this.id, this),
        n && this.glue(n)
    },
    GetClient: function() {}
},
ZeroClipboard.Client.prototype = {
    id: 0,
    ready: !1,
    movie: null,
    clipText: "",
    handCursorEnabled: !0,
    cssEffects: !0,
    handlers: null,
    glue: function(n, t, i) {
        var f, u, r;
        if (this.domElement = ZeroClipboard.$(n), f = 1001, this.domElement.style.zIndex && (f = parseInt(this.domElement.style.zIndex, 10) + 1), typeof t == "string" ? t = ZeroClipboard.$(t) : typeof t == "undefined" && (t = document.getElementsByTagName("body")[0]), u = ZeroClipboard.getDOMObjectPosition(this.domElement, t), this.div = document.createElement("div"), r = this.div.style, r.position = "absolute", r.left = "" + u.left + "px", r.top = "" + u.top + "px", r.width = "" + u.width + "px", r.height = "" + u.height + "px", r.zIndex = f, typeof i == "object") for (addedStyle in i) r[addedStyle] = i[addedStyle];
        t.appendChild(this.div),
        this.div.innerHTML = this.getHTML(u.width, u.height)
    },
    getHTML: function(n, t) {
        var i = "",
        r = "id=" + this.id + "&width=" + n + "&height=" + t,
        u;
        return navigator.userAgent.match(/MSIE/) ? (u = location.href.match(/^https/i) ? "../../https@/": "http://", i += '<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="' + u + 'download.macromedia.com/source/plugin/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="' + n + '" height="' + t + '" id="' + this.movieId + '" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="' + ZeroClipboard.moviePath + '" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="' + r + '"/><param name="wmode" value="transparent"/></object>') : i += '<embed id="' + this.movieId + '" src="' + ZeroClipboard.moviePath + '" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="' + n + '" height="' + t + '" name="' + this.movieId + '" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="../../www.macromedia.com/go/getflashplayer" flashvars="' + r + '" wmode="transparent" />',
        i
    },
    hide: function() {
        this.div && (this.div.style.left = "-2000px")
    },
    show: function() {
        this.reposition()
    },
    destroyById: function() {
        var n = document.getElementById(this.movieId);
        n.parentElement.remove()
    },
    destroy: function() {
        if (this.domElement && this.div) {
            this.hide(),
            this.div.innerHTML = "";
            var n = document.getElementsByTagName("body")[0];
            try {
                n.removeChild(this.div)
            } catch(t) {}
            this.domElement = null,
            this.div = null
        }
    },
    reposition: function(n) {
        if (n && (this.domElement = ZeroClipboard.$(n), this.domElement || this.hide()), this.domElement && this.div) {
            var t = ZeroClipboard.getDOMObjectPosition(this.domElement),
            i = this.div.style;
            i.left = "" + t.left + "px",
            i.top = "" + t.top + "px"
        }
    },
    setText: function(n) {
        this.clipText = n,
        this.ready && this.movie.setText(n)
    },
    addEventListener: function(n, t) {
        n = n.toString().toLowerCase().replace(/^on/, ""),
        this.handlers[n] || (this.handlers[n] = []),
        this.handlers[n].push(t)
    },
    setHandCursor: function(n) {
        this.handCursorEnabled = n,
        this.ready && this.movie.setHandCursor(n)
    },
    setCSSEffects: function(n) {
        this.cssEffects = !!n
    },
    receiveEvent: function(n, t) {
        var r, u, f, i;
        n = n.toString().toLowerCase().replace(/^on/, "");
        switch (n) {
        case "load":
            if (this.movie = document.getElementById(this.movieId), !this.movie) {
                r = this,
                setTimeout(function() {
                    r.receiveEvent("load", null)
                },
                1);
                return
            }
            if (!this.ready && navigator.userAgent.match(/Firefox/) && navigator.userAgent.match(/Windows/)) {
                r = this,
                setTimeout(function() {
                    r.receiveEvent("load", null)
                },
                100),
                this.ready = !0;
                return
            }
            this.ready = !0,
            this.movie.setText(this.clipText),
            this.movie.setHandCursor(this.handCursorEnabled);
            break;
        case "mouseover":
            this.domElement && this.cssEffects && (this.domElement.addClass("hover"), this.recoverActive && this.domElement.addClass("active"));
            break;
        case "mouseout":
            this.domElement && this.cssEffects && (this.recoverActive = !1, this.domElement.hasClass("active") && (this.domElement.removeClass("active"), this.recoverActive = !0), this.domElement.removeClass("hover"));
            break;
        case "mousedown":
            this.domElement && this.cssEffects && this.domElement.addClass("active");
            break;
        case "mouseup":
            this.domElement && this.cssEffects && (this.domElement.removeClass("active"), this.recoverActive = !1)
        }
        if (this.handlers[n]) for (u = 0, f = this.handlers[n].length; u < f; u++) i = this.handlers[n][u],
        typeof i == "function" ? i(this, t) : typeof i == "object" && i.length == 2 ? i[0][i[1]](this, t) : typeof i == "string" && window[i](this, t)
    }
},
function(n, t) {
    "use strict";
    function h(t, r) {
        var u, f;
        if (n.isArray(t)) {
            for (u = t.length - 1; u >= 0; u--) f = t[u],
            n.type(t) === "object" || n.type(f) === "string" && i.transports[f] || (r.log("Invalid transport: " + f + ", removing it from the transports list."), t.splice(u, 1));
            t.length === 0 && (r.log("No transports remain within the specified transport array."), t = null)
        } else if (n.type(t) === "object" || i.transports[t] || t === "auto") {
            if (t === "auto" && i._.ieVersion <= 8) return ["longPolling"]
        } else r.log("Invalid transport: " + t.toString()),
        t = null;
        return t
    }
    function c(n) {
        return n === "http:" ? 80 : n === "https:" ? 443 : void 0
    }
    function e(n, t) {
        return t.match(/:\d+$/) ? t: t + ":" + c(n)
    }
    if (typeof n != "function") throw new Error("SignalR: jQuery not found. Please ensure jQuery is referenced before the SignalR.js file.");
    if (!t.JSON) throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");
    var i, o, s = t.document.readyState === "complete",
    f = n(t),
    r = {
        onStart: "onStart",
        onStarting: "onStarting",
        onReceived: "onReceived",
        onError: "onError",
        onConnectionSlow: "onConnectionSlow",
        onReconnecting: "onReconnecting",
        onReconnect: "onReconnect",
        onStateChanged: "onStateChanged",
        onDisconnect: "onDisconnect"
    },
    l = function(n, i) {
        if (i !== !1) {
            var r;
            typeof t.console != "undefined" && (r = "[" + (new Date).toTimeString() + "] SignalR: " + n, t.console.debug ? t.console.debug(r) : t.console.log && t.console.log(r))
        }
    },
    u = function(t, i, u) {
        return i === t.state ? (t.state = u, n(t).triggerHandler(r.onStateChanged, [{
            oldState: i,
            newState: u
        }]), !0) : !1
    },
    a = function(n) {
        return n.state === i.connectionState.disconnected
    },
    v = function(n) {
        var r, u;
        n._.configuredStopReconnectingTimeout || (u = function(n) {
            n.log("Couldn't reconnect within the configured timeout (" + n.disconnectTimeout + "ms), disconnecting."),
            n.stop(!1, !1)
        },
        n.reconnecting(function() {
            var n = this;
            n.state === i.connectionState.reconnecting && (r = t.setTimeout(function() {
                u(n)
            },
            n.disconnectTimeout))
        }), n.stateChanged(function(n) {
            n.oldState === i.connectionState.reconnecting && t.clearTimeout(r)
        }), n._.configuredStopReconnectingTimeout = !0)
    };
    i = function(n, t, r) {
        return new i.fn.init(n, t, r)
    },
    i._ = {
        defaultContentType: "application/x-www-form-urlencoded; charset=UTF-8",
        ieVersion: function() {
            var i, n;
            return t.navigator.appName === "Microsoft Internet Explorer" && (n = /MSIE ([0-9]+\.[0-9]+)/.exec(t.navigator.userAgent), n && (i = t.parseFloat(n[1]))),
            i
        } ()
    },
    i.events = r,
    i.changeState = u,
    i.isDisconnecting = a,
    i.connectionState = {
        connecting: 0,
        connected: 1,
        reconnecting: 2,
        disconnected: 4
    },
    i.hub = {
        start: function() {
            throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='../signalr/hubs'><\/script>.");
        }
    },
    f.load(function() {
        s = !0
    }),
    i.fn = i.prototype = {
        init: function(n, t, i) {
            this.url = n,
            this.qs = t,
            this._ = {},
            typeof i == "boolean" && (this.logging = i)
        },
        isCrossDomain: function(i, r) {
            var u;
            return (i = n.trim(i), i.indexOf("http") !== 0) ? !1 : (r = r || t.location, u = t.document.createElement("a"), u.href = i, u.protocol + e(u.protocol, u.host) !== r.protocol + e(r.protocol, r.host))
        },
        ajaxDataType: "json",
        contentType: "application/json; charset=UTF-8",
        logging: !1,
        state: i.connectionState.disconnected,
        keepAliveData: {},
        reconnectDelay: 2e3,
        disconnectTimeout: 3e4,
        keepAliveWarnAt: 2 / 3,
        start: function(e, o) {
            var c = this,
            l = {
                waitForPageLoad: !0,
                transport: "auto",
                jsonp: !1
            },
            w,
            a = c._deferral || n.Deferred(),
            y = t.document.createElement("a"),
            p;
            if (n.type(e) === "function" ? o = e: n.type(e) === "object" && (n.extend(l, e), n.type(l.callback) === "function" && (o = l.callback)), l.transport = h(l.transport, c), !l.transport) throw new Error("SignalR: Invalid transport(s) specified, aborting start.");
            return ! s && l.waitForPageLoad === !0 ? (f.load(function() {
                c._deferral = a,
                c.start(e, o)
            }), a.promise()) : (v(c), u(c, i.connectionState.disconnected, i.connectionState.connecting) === !1) ? (a.resolve(c), a.promise()) : (y.href = c.url, y.protocol && y.protocol !== ":" ? (c.protocol = y.protocol, c.host = y.host, c.baseUrl = y.protocol + "//" + y.host) : (c.protocol = t.document.location.protocol, c.host = t.document.location.host, c.baseUrl = c.protocol + "//" + c.host), c.wsProtocol = c.protocol === "https:" ? "wss:../..//": "ws://", l.transport === "auto" && l.jsonp === !0 && (l.transport = "longPolling"), this.isCrossDomain(c.url) && (c.log("Auto detected cross domain url."), l.transport === "auto" && (l.transport = ["webSockets", "longPolling"]), l.jsonp || (l.jsonp = !n.support.cors, l.jsonp && c.log("Using jsonp because this browser doesn't support CORS")), c.contentType = i._.defaultContentType), c.ajaxDataType = l.jsonp ? "jsonp": "json", n(c).bind(r.onStart,
            function() {
                n.type(o) === "function" && o.call(c),
                a.resolve(c)
            }), w = function(t, e) {
                if (e = e || 0, e >= t.length) {
                    c.transport || (n(c).triggerHandler(r.onError, ["SignalR: No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization."]), a.reject("SignalR: No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization."), c.stop());
                    return
                }
                var o = t[e],
                s = n.type(o) === "object" ? o: i.transports[o];
                if (o.indexOf("_") === 0) {
                    w(t, e + 1);
                    return
                }
                s.start(c,
                function() {
                    s.supportsKeepAlive && c.keepAliveData.activated && i.transports._logic.monitorKeepAlive(c),
                    c.transport = s,
                    u(c, i.connectionState.connecting, i.connectionState.connected),
                    n(c).triggerHandler(r.onStart),
                    f.unload(function() {
                        c.stop(!1)
                    })
                },
                function() {
                    w(t, e + 1)
                })
            },
            p = c.url + "/negotiate", p = i.transports._logic.addQs(p, c), c.log("Negotiating with '" + p + "'."), n.ajax({
                url: p,
                global: !1,
                cache: !1,
                type: "GET",
                contentType: c.contentType,
                data: {},
                dataType: c.ajaxDataType,
                error: function(t) {
                    n(c).triggerHandler(r.onError, [t.responseText]),
                    a.reject("SignalR: Error during negotiation request: " + t.responseText),
                    c.stop()
                },
                success: function(t) {
                    var u = c.keepAliveData,
                    f, e;
                    if (c.appRelativeUrl = t.Url, c.id = t.ConnectionId, c.token = t.ConnectionToken, c.webSocketServerUrl = t.WebSocketServerUrl, c.disconnectTimeout = t.DisconnectTimeout * 1e3, t.KeepAliveTimeout ? (u.activated = !0, u.timeout = t.KeepAliveTimeout * 1e3, u.timeoutWarning = u.timeout * c.keepAliveWarnAt, u.checkInterval = (u.timeout - u.timeoutWarning) / 3) : u.activated = !1, !t.ProtocolVersion || t.ProtocolVersion !== "1.2") {
                        n(c).triggerHandler(r.onError, ["You are using a version of the client that isn't compatible with the server. Client version 1.2, server version " + t.ProtocolVersion + "."]),
                        a.reject("You are using a version of the client that isn't compatible with the server. Client version 1.2, server version " + t.ProtocolVersion + ".");
                        return
                    }
                    n(c).triggerHandler(r.onStarting),
                    f = [],
                    e = [],
                    n.each(i.transports,
                    function(n) {
                        if (n === "webSockets" && !t.TryWebSockets) return ! 0;
                        e.push(n)
                    }),
                    n.isArray(l.transport) ? n.each(l.transport,
                    function() {
                        var t = this; (n.type(t) === "object" || n.type(t) === "string" && n.inArray("" + t, e) >= 0) && f.push(n.type(t) === "string" ? "" + t: t)
                    }) : n.type(l.transport) === "object" || n.inArray(l.transport, e) >= 0 ? f.push(l.transport) : f = e,
                    w(f)
                }
            }), a.promise())
        },
        starting: function(t) {
            var i = this;
            return n(i).bind(r.onStarting,
            function() {
                t.call(i)
            }),
            i
        },
        send: function(n) {
            var t = this;
            if (t.state === i.connectionState.disconnected) throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");
            if (t.state === i.connectionState.connecting) throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");
            return t.transport.send(t, n),
            t
        },
        received: function(t) {
            var i = this;
            return n(i).bind(r.onReceived,
            function(n, r) {
                t.call(i, r)
            }),
            i
        },
        stateChanged: function(t) {
            var i = this;
            return n(i).bind(r.onStateChanged,
            function(n, r) {
                t.call(i, r)
            }),
            i
        },
        error: function(t) {
            var i = this;
            return n(i).bind(r.onError,
            function(n, r) {
                t.call(i, r)
            }),
            i
        },
        disconnected: function(t) {
            var i = this;
            return n(i).bind(r.onDisconnect,
            function() {
                t.call(i)
            }),
            i
        },
        connectionSlow: function(t) {
            var i = this;
            return n(i).bind(r.onConnectionSlow,
            function() {
                t.call(i)
            }),
            i
        },
        reconnecting: function(t) {
            var i = this;
            return n(i).bind(r.onReconnecting,
            function() {
                t.call(i)
            }),
            i
        },
        reconnected: function(t) {
            var i = this;
            return n(i).bind(r.onReconnect,
            function() {
                t.call(i)
            }),
            i
        },
        stop: function(t, f) {
            var e = this;
            if (e.state !== i.connectionState.disconnected) {
                try {
                    e.transport && (f !== !1 && e.transport.abort(e, t), e.transport.supportsKeepAlive && e.keepAliveData.activated && i.transports._logic.stopMonitoringKeepAlive(e), e.transport.stop(e), e.transport = null),
                    n(e).triggerHandler(r.onDisconnect),
                    delete e.messageId,
                    delete e.groupsToken,
                    delete e.id,
                    delete e._deferral
                } finally {
                    u(e, e.state, i.connectionState.disconnected)
                }
                return e
            }
        },
        log: function(n) {
            l(n, this.logging)
        }
    },
    i.fn.init.prototype = i.fn,
    i.noConflict = function() {
        return n.connection === i && (n.connection = o),
        i
    },
    n.connection && (o = n.connection),
    n.connection = n.signalR = i
} (window.jQuery, window),
function(n, t) {
    "use strict";
    function u(f) {
        var e = f.keepAliveData,
        o, s;
        f.state === i.connectionState.connected && (o = new Date, o.setTime(o - e.lastKeepAlive), s = o.getTime(), s >= e.timeout ? (f.log("Keep alive timed out.  Notifying transport that connection has been lost."), f.transport.lostConnection(f)) : s >= e.timeoutWarning ? e.userNotified || (f.log("Keep alive has been missed, connection may be dead/slow."), n(f).triggerHandler(r.onConnectionSlow), e.userNotified = !0) : e.userNotified = !1),
        e.monitoring && t.setTimeout(function() {
            u(f)
        },
        e.checkInterval)
    }
    function f(n) {
        return n.state === i.connectionState.connected || n.state === i.connectionState.reconnecting
    }
    var i = n.signalR,
    r = n.signalR.events,
    e = n.signalR.changeState;
    i.transports = {},
    i.transports._logic = {
        pingServer: function(t, i) {
            var f = i === "webSockets" ? "": t.baseUrl,
            u = f + t.appRelativeUrl + "/ping",
            r = n.Deferred();
            return u = this.addQs(u, t),
            n.ajax({
                url: u,
                global: !1,
                cache: !1,
                type: "GET",
                contentType: t.contentType,
                data: {},
                dataType: t.ajaxDataType,
                success: function(n) {
                    n.Response === "pong" ? r.resolve() : r.reject("SignalR: Invalid ping response when pinging server: " + (n.responseText || n.statusText))
                },
                error: function(n) {
                    r.reject("SignalR: Error pinging server: " + (n.responseText || n.statusText))
                }
            }),
            r.promise()
        },
        addQs: function(t, i) {
            var r = t.indexOf("?") !== -1 ? "&": "?",
            u;
            if (!i.qs) return t;
            if (typeof i.qs == "object") return t + r + n.param(i.qs);
            if (typeof i.qs == "string") return u = i.qs.charAt(0),
            (u === "?" || u === "&") && (r = ""),
            t + r + i.qs;
            throw new Error("Connections query string property must be either a string or object.");
        },
        getUrl: function(n, i, r, u) {
            var o = i === "webSockets" ? "": n.baseUrl,
            f = o + n.appRelativeUrl,
            e = "transport=" + i + "&connectionToken=" + t.encodeURIComponent(n.token);
            return n.data && (e += "&connectionData=" + t.encodeURIComponent(n.data)),
            n.groupsToken && (e += "&groupsToken=" + t.encodeURIComponent(n.groupsToken)),
            r ? (f += u ? "/poll": "/reconnect", n.messageId && (e += "&messageId=" + t.encodeURIComponent(n.messageId))) : f += "/connect",
            f += "?" + e,
            f = this.addQs(f, n),
            f += "&tid=" + Math.floor(Math.random() * 11)
        },
        maximizePersistentResponse: function(n) {
            return {
                MessageId: n.C,
                Messages: n.M,
                Disconnect: typeof n.D != "undefined" ? !0 : !1,
                TimedOut: typeof n.T != "undefined" ? !0 : !1,
                LongPollDelay: n.L,
                GroupsToken: n.G
            }
        },
        updateGroups: function(n, t) {
            t && (n.groupsToken = t)
        },
        ajaxSend: function(u, f) {
            var e = u.url + "/send?transport=" + u.transport.name + "&connectionToken=" + t.encodeURIComponent(u.token);
            return e = this.addQs(e, u),
            n.ajax({
                url: e,
                global: !1,
                type: u.ajaxDataType === "jsonp" ? "GET": "POST",
                contentType: i._.defaultContentType,
                dataType: u.ajaxDataType,
                data: {
                    data: f
                },
                success: function(t) {
                    t && n(u).triggerHandler(r.onReceived, [t])
                },
                error: function(t, i) {
                    i !== "abort" && i !== "parsererror" && n(u).triggerHandler(r.onError, [t])
                }
            })
        },
        ajaxAbort: function(i, r) {
            if (typeof i.transport != "undefined") {
                r = typeof r == "undefined" ? !0 : r;
                var u = i.url + "/abort?transport=" + i.transport.name + "&connectionToken=" + t.encodeURIComponent(i.token);
                u = this.addQs(u, i),
                n.ajax({
                    url: u,
                    async: r,
                    timeout: 1e3,
                    global: !1,
                    type: "POST",
                    contentType: i.contentType,
                    dataType: i.ajaxDataType,
                    data: {}
                }),
                i.log("Fired ajax abort async = " + r)
            }
        },
        processMessages: function(t, i) {
            var u, f;
            if (t.transport) {
                if (f = n(t), t.transport.supportsKeepAlive && t.keepAliveData.activated && this.updateKeepAlive(t), !i) return;
                if (u = this.maximizePersistentResponse(i), u.Disconnect) {
                    t.log("Disconnect command received from server"),
                    t.stop(!1, !1);
                    return
                }
                this.updateGroups(t, u.GroupsToken),
                u.Messages && n.each(u.Messages,
                function(n, t) {
                    f.triggerHandler(r.onReceived, [t])
                }),
                u.MessageId && (t.messageId = u.MessageId)
            }
        },
        monitorKeepAlive: function(t) {
            var i = t.keepAliveData,
            f = this;
            i.monitoring ? t.log("Tried to monitor keep alive but it's already being monitored") : (i.monitoring = !0, f.updateKeepAlive(t), t.keepAliveData.reconnectKeepAliveUpdate = function() {
                f.updateKeepAlive(t)
            },
            n(t).bind(r.onReconnect, t.keepAliveData.reconnectKeepAliveUpdate), t.log("Now monitoring keep alive with a warning timeout of " + i.timeoutWarning + " and a connection lost timeout of " + i.timeout), u(t))
        },
        stopMonitoringKeepAlive: function(t) {
            var i = t.keepAliveData;
            i.monitoring && (i.monitoring = !1, n(t).unbind(r.onReconnect, t.keepAliveData.reconnectKeepAliveUpdate), t.keepAliveData = {},
            t.log("Stopping the monitoring of the keep alive"))
        },
        updateKeepAlive: function(n) {
            n.keepAliveData.lastKeepAlive = new Date
        },
        ensureReconnectingState: function(t) {
            return e(t, i.connectionState.connected, i.connectionState.reconnecting) === !0 && n(t).triggerHandler(r.onReconnecting),
            t.state === i.connectionState.reconnecting
        },
        clearReconnectTimeout: function(n) {
            n && n._.reconnectTimeout && (t.clearTimeout(n._.reconnectTimeout), delete n._.reconnectTimeout)
        },
        reconnect: function(n, r) {
            var u = i.transports[r],
            e = this;
            f(n) && !n._.reconnectTimeout && (n._.reconnectTimeout = t.setTimeout(function() {
                u.stop(n),
                e.ensureReconnectingState(n) && (n.log(r + " reconnecting"), u.start(n))
            },
            n.reconnectDelay))
        },
        foreverFrame: {
            count: 0,
            connections: {}
        }
    }
} (window.jQuery, window),
function(n, t) {
    "use strict";
    var r = n.signalR,
    u = n.signalR.events,
    f = n.signalR.changeState,
    i = r.transports._logic;
    r.transports.webSockets = {
        name: "webSockets",
        supportsKeepAlive: !0,
        send: function(n, t) {
            n.socket.send(t)
        },
        start: function(e, o, s) {
            var h, c = !1,
            l = this,
            a = !o,
            v = n(e);
            if (!t.WebSocket) {
                s();
                return
            }
            e.socket || (h = e.webSocketServerUrl ? e.webSocketServerUrl: e.wsProtocol + e.host, h += i.getUrl(e, this.name, a), e.log("Connecting to websocket endpoint '" + h + "'"), e.socket = new t.WebSocket(h), e.socket.onopen = function() {
                c = !0,
                e.log("Websocket opened"),
                i.clearReconnectTimeout(e),
                o ? o() : f(e, r.connectionState.reconnecting, r.connectionState.connected) === !0 && v.triggerHandler(u.onReconnect)
            },
            e.socket.onclose = function(t) {
                if (this === e.socket) {
                    if (c) typeof t.wasClean != "undefined" && t.wasClean === !1 ? (n(e).triggerHandler(u.onError, [t.reason]), e.log("Unclean disconnect from websocket." + t.reason)) : e.log("Websocket closed");
                    else {
                        s ? s() : a && l.reconnect(e);
                        return
                    }
                    l.reconnect(e)
                }
            },
            e.socket.onmessage = function(r) {
                var f = t.JSON.parse(r.data),
                o = n(e);
                f && (n.isEmptyObject(f) || f.M ? i.processMessages(e, f) : o.triggerHandler(u.onReceived, [f]))
            })
        },
        reconnect: function(n) {
            i.reconnect(n, this.name)
        },
        lostConnection: function(n) {
            this.reconnect(n)
        },
        stop: function(n) {
            i.clearReconnectTimeout(n),
            n.socket !== null && (n.log("Closing the Websocket"), n.socket.close(), n.socket = null)
        },
        abort: function() {}
    }
} (window.jQuery, window),
function(n, t) {
    "use strict";
    var r = n.signalR,
    u = n.signalR.events,
    f = n.signalR.changeState,
    i = r.transports._logic;
    r.transports.serverSentEvents = {
        name: "serverSentEvents",
        supportsKeepAlive: !0,
        timeOut: 3e3,
        start: function(e, o, s) {
            var h = this,
            c = !1,
            a = n(e),
            l = !o,
            v,
            y;
            if (e.eventSource && (e.log("The connection already has an event source. Stopping it."), e.stop()), !t.EventSource) {
                s && (e.log("This browser doesn't support SSE."), s());
                return
            }
            v = i.getUrl(e, this.name, l);
            try {
                e.log("Attempting to connect to SSE endpoint '" + v + "'"),
                e.eventSource = new t.EventSource(v)
            } catch(p) {
                e.log("EventSource failed trying to connect with error " + p.Message),
                s ? s() : (a.triggerHandler(u.onError, [p]), l && h.reconnect(e));
                return
            }
            y = t.setTimeout(function() {
                c === !1 && (e.log("EventSource timed out trying to connect"), e.log("EventSource readyState: " + e.eventSource.readyState), l || h.stop(e), l ? e.eventSource.readyState !== t.EventSource.CONNECTING && e.eventSource.readyState !== t.EventSource.OPEN && h.reconnect(e) : s && s())
            },
            h.timeOut),
            e.eventSource.addEventListener("open",
            function() {
                e.log("EventSource connected"),
                y && t.clearTimeout(y),
                i.clearReconnectTimeout(e),
                c === !1 && (c = !0, o ? o() : f(e, r.connectionState.reconnecting, r.connectionState.connected) === !0 && a.triggerHandler(u.onReconnect))
            },
            !1),
            e.eventSource.addEventListener("message",
            function(n) {
                n.data !== "initialized" && i.processMessages(e, t.JSON.parse(n.data))
            },
            !1),
            e.eventSource.addEventListener("error",
            function(n) {
                if (this === e.eventSource) {
                    if (!c) {
                        s && s();
                        return
                    }
                    e.log("EventSource readyState: " + e.eventSource.readyState),
                    n.eventPhase === t.EventSource.CLOSED ? (e.log("EventSource reconnecting due to the server connection ending"), h.reconnect(e)) : (e.log("EventSource error"), a.triggerHandler(u.onError))
                }
            },
            !1)
        },
        reconnect: function(n) {
            i.reconnect(n, this.name)
        },
        lostConnection: function(n) {
            this.reconnect(n)
        },
        send: function(n, t) {
            i.ajaxSend(n, t)
        },
        stop: function(n) {
            i.clearReconnectTimeout(n),
            n && n.eventSource && (n.log("EventSource calling close()"), n.eventSource.close(), n.eventSource = null, delete n.eventSource)
        },
        abort: function(n, t) {
            i.ajaxAbort(n, t)
        }
    }
} (window.jQuery, window),
function(n, t) {
    "use strict";
    var r = n.signalR,
    f = n.signalR.events,
    e = n.signalR.changeState,
    i = r.transports._logic,
    u = function() {
        var u = null,
        f = 1e3,
        i = 0;
        return {
            prevent: function() {
                r._.ieVersion <= 8 && (i === 0 && (u = t.setInterval(function() {
                    var t = n("<iframe style='position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;' src=''></iframe>");
                    n("body").append(t),
                    t.remove(),
                    t = null
                },
                f)), i++)
            },
            cancel: function() {
                i === 1 && t.clearInterval(u),
                i > 0 && i--
            }
        }
    } ();
    r.transports.foreverFrame = {
        name: "foreverFrame",
        supportsKeepAlive: !0,
        timeOut: 3e3,
        start: function(r, f, e) {
            var o = this,
            h = i.foreverFrame.count += 1,
            c, s = n("<iframe data-signalr-connection-id='" + r.id + "' style='position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;' src=''></iframe>");
            if (t.EventSource) {
                e && (r.log("This browser supports SSE, skipping Forever Frame."), e());
                return
            }
            u.prevent(),
            c = i.getUrl(r, this.name),
            c += "&frameId=" + h,
            n("body").append(s),
            s.prop("src", c),
            i.foreverFrame.connections[h] = r,
            r.log("Binding to iframe's readystatechange event."),
            s.bind("readystatechange",
            function() {
                n.inArray(this.readyState, ["loaded", "complete"]) >= 0 && (r.log("Forever frame iframe readyState changed to " + this.readyState + ", reconnecting"), o.reconnect(r))
            }),
            r.frame = s[0],
            r.frameId = h,
            f && (r.onSuccess = f),
            t.setTimeout(function() {
                r.onSuccess && (r.log("Failed to connect using forever frame source, it timed out after " + o.timeOut + "ms."), o.stop(r), e && e())
            },
            o.timeOut)
        },
        reconnect: function(n) {
            var r = this;
            t.setTimeout(function() {
                if (n.frame && i.ensureReconnectingState(n)) {
                    var u = n.frame,
                    t = i.getUrl(n, r.name, !0) + "&frameId=" + n.frameId;
                    n.log("Updating iframe src to '" + t + "'."),
                    u.src = t
                }
            },
            n.reconnectDelay)
        },
        lostConnection: function(n) {
            this.reconnect(n)
        },
        send: function(n, t) {
            i.ajaxSend(n, t)
        },
        receive: function(t, r) {
            var u;
            i.processMessages(t, r),
            t.frameMessageCount = (t.frameMessageCount || 0) + 1,
            t.frameMessageCount > 50 && (t.frameMessageCount = 0, u = t.frame.contentWindow || t.frame.contentDocument, u && u.document && n("body", u.document).empty())
        },
        stop: function(t) {
            var r = null;
            if (u.cancel(), t.frame) {
                if (t.frame.stop) t.frame.stop();
                else try {
                    r = t.frame.contentWindow || t.frame.contentDocument,
                    r.document && r.document.execCommand && r.document.execCommand("Stop")
                } catch(f) {
                    t.log("SignalR: Error occured when stopping foreverFrame transport. Message = " + f.message)
                }
                n(t.frame).remove(),
                delete i.foreverFrame.connections[t.frameId],
                t.frame = null,
                t.frameId = null,
                delete t.frame,
                delete t.frameId,
                t.log("Stopping forever frame")
            }
        },
        abort: function(n, t) {
            i.ajaxAbort(n, t)
        },
        getConnection: function(n) {
            return i.foreverFrame.connections[n]
        },
        started: function(t) {
            t.onSuccess ? (t.onSuccess(), t.onSuccess = null, delete t.onSuccess) : e(t, r.connectionState.reconnecting, r.connectionState.connected) === !0 && n(t).triggerHandler(f.onReconnect)
        }
    }
} (window.jQuery, window),
function(n, t) {
    "use strict";
    var r = n.signalR,
    f = n.signalR.events,
    e = n.signalR.changeState,
    u = n.signalR.isDisconnecting,
    i = r.transports._logic;
    r.transports.longPolling = {
        name: "longPolling",
        supportsKeepAlive: !1,
        reconnectDelay: 3e3,
        init: function(n, r) {
            var e = this,
            f, o = function(i) {
                u(n) === !1 && (n.log("SignalR: Server ping failed because '" + i + "', re-trying ping."), t.setTimeout(f, e.reconnectDelay))
            };
            n.log("SignalR: Initializing long polling connection with server."),
            f = function() {
                i.pingServer(n, e.name).done(r).fail(o)
            },
            f()
        },
        start: function(o, s) {
            var c = this,
            a = !1,
            v = function() {
                a || (a = !0, s(), o.log("Longpolling connected"))
            },
            l = 0,
            h = null,
            y = function(i) {
                t.clearTimeout(h),
                h = null,
                e(o, r.connectionState.reconnecting, r.connectionState.connected) === !0 && (o.log("Raising the reconnect event"), n(i).triggerHandler(f.onReconnect))
            },
            p = 36e5;
            o.pollXhr && (o.log("Polling xhr requests already exists, aborting."), o.stop()),
            c.init(o,
            function() {
                o.messageId = null,
                t.setTimeout(function() { (function e(s, a) {
                        var k = s.messageId,
                        d = k === null,
                        w = !d,
                        g = !a,
                        b = i.getUrl(s, c.name, w, g);
                        u(s) !== !0 && (o.log("Attempting to connect to '" + b + "' using longPolling."), s.pollXhr = n.ajax({
                            url: b,
                            global: !1,
                            cache: !1,
                            type: "GET",
                            dataType: o.ajaxDataType,
                            contentType: o.contentType,
                            success: function(r) {
                                var o = 0,
                                f; (l = 0, h !== null && y(), v(), r && (f = i.maximizePersistentResponse(r)), i.processMessages(s, r), f && n.type(f.LongPollDelay) === "number" && (o = f.LongPollDelay), f && f.Disconnect) || u(s) !== !0 && (o > 0 ? t.setTimeout(function() {
                                    e(s, !1)
                                },
                                o) : e(s, !1))
                            },
                            error: function(u, a) {
                                if (t.clearTimeout(h), h = null, a === "abort") {
                                    o.log("Aborted xhr requst.");
                                    return
                                }
                                l++,
                                o.state !== r.connectionState.reconnecting && (o.log("An error occurred using longPolling. Status = " + a + ". " + u.responseText), n(s).triggerHandler(f.onError, [u.responseText])),
                                i.ensureReconnectingState(s),
                                c.init(s,
                                function() {
                                    e(s, !0)
                                })
                            }
                        }), w && a === !0 && (h = t.setTimeout(function() {
                            y(s)
                        },
                        Math.min(1e3 * (Math.pow(2, l) - 1), p))))
                    })(o),
                    t.setTimeout(function() {
                        v()
                    },
                    250)
                },
                250)
            })
        },
        lostConnection: function() {
            throw new Error("Lost Connection not handled for LongPolling");
        },
        send: function(n, t) {
            i.ajaxSend(n, t)
        },
        stop: function(n) {
            n.pollXhr && (n.pollXhr.abort(), n.pollXhr = null, delete n.pollXhr)
        },
        abort: function(n, t) {
            i.ajaxAbort(n, t)
        }
    }
} (window.jQuery, window),
function(n, t) {
    "use strict";
    function u(n) {
        return n + c
    }
    function s(n, t, i) {
        for (var f = n.length,
        u = [], r = 0; r < f; r += 1) n.hasOwnProperty(r) && (u[r] = t.call(i, n[r], r, n));
        return u
    }
    function h(t) {
        return n.isFunction(t) ? null: n.type(t) === "undefined" ? null: t
    }
    function o(n) {
        for (var t in n) if (n.hasOwnProperty(t)) return ! 0;
        return ! 1
    }
    function r(n, t) {
        return new r.fn.init(n, t)
    }
    function i(t, r) {
        var u = {
            qs: null,
            logging: !1,
            useDefaultPath: !0
        };
        return n.extend(u, r),
        (!t || u.useDefaultPath) && (t = (t || "") + "/signalr"),
        new i.fn.init(t, u)
    }
    var e = 0,
    f = {},
    c = ".hubProxy";
    r.fn = r.prototype = {
        init: function(n, t) {
            this.state = {},
            this.connection = n,
            this.hubName = t,
            this._ = {
                callbackMap: {}
            }
        },
        hasSubscriptions: function() {
            return o(this._.callbackMap)
        },
        on: function(t, i) {
            var r = this,
            f = r._.callbackMap;
            return t = t.toLowerCase(),
            f[t] || (f[t] = {}),
            f[t][i] = function(n, t) {
                i.apply(r, t)
            },
            n(r).bind(u(t), f[t][i]),
            r
        },
        off: function(t, i) {
            var f = this,
            e = f._.callbackMap,
            r;
            return t = t.toLowerCase(),
            r = e[t],
            r && (r[i] ? (n(f).unbind(u(t), r[i]), delete r[i], o(r) || delete e[t]) : i || (n(f).unbind(u(t)), delete e[t])),
            f
        },
        invoke: function(i) {
            var r = this,
            c = n.makeArray(arguments).slice(1),
            l = s(c, h),
            o = {
                H: r.hubName,
                M: i,
                A: l,
                I: e
            },
            u = n.Deferred(),
            a = function(t) {
                var i = r._maximizeHubResponse(t);
                n.extend(r.state, i.State),
                i.Error ? (i.StackTrace && r.connection.log(i.Error + "\n" + i.StackTrace), u.rejectWith(r, [i.Error])) : u.resolveWith(r, [i.Result])
            };
            return f[e.toString()] = {
                scope: r,
                method: a
            },
            e += 1,
            n.isEmptyObject(r.state) || (o.S = r.state),
            r.connection.send(t.JSON.stringify(o)),
            u.promise()
        },
        _maximizeHubResponse: function(n) {
            return {
                State: n.S,
                Result: n.R,
                Id: n.I,
                Error: n.E,
                StackTrace: n.T
            }
        }
    },
    r.fn.init.prototype = r.fn,
    i.fn = i.prototype = n.connection(),
    i.fn.init = function(t, i) {
        var e = {
            qs: null,
            logging: !1,
            useDefaultPath: !0
        },
        r = this;
        n.extend(e, i),
        n.signalR.fn.init.call(r, t, e.qs, e.logging),
        r.proxies = {},
        r.received(function(t) {
            var i, s, e, o, h, c;
            t && (typeof t.I != "undefined" ? (e = t.I.toString(), o = f[e], o && (f[e] = null, delete f[e], o.method.call(o.scope, t))) : (i = this._maximizeClientHubInvocation(t), r.log("Triggering client hub event '" + i.Method + "' on hub '" + i.Hub + "'."), h = i.Hub.toLowerCase(), c = i.Method.toLowerCase(), s = this.proxies[h], n.extend(s.state, i.State), n(s).triggerHandler(u(c), [i.Args])))
        })
    },
    i.fn._maximizeClientHubInvocation = function(n) {
        return {
            Hub: n.H,
            Method: n.M,
            Args: n.A,
            State: n.S
        }
    },
    i.fn._registerSubscribedHubs = function() {
        this._subscribedToHubs || (this._subscribedToHubs = !0, this.starting(function() {
            var i = [];
            n.each(this.proxies,
            function(n) {
                this.hasSubscriptions() && i.push({
                    name: n
                })
            }),
            this.data = t.JSON.stringify(i)
        }))
    },
    i.fn.createHubProxy = function(n) {
        n = n.toLowerCase();
        var t = this.proxies[n];
        return t || (t = r(this, n), this.proxies[n] = t),
        this._registerSubscribedHubs(),
        t
    },
    i.fn.init.prototype = i.fn,
    n.hubConnection = i
} (window.jQuery, window),
function(n) {
    n.signalR.version = "1.1.2"
} (window.jQuery),
function(n, t, i) {
    function w(t, i) {
        var u, f;
        if (n.isArray(t)) {
            for (u = t.length - 1; u >= 0; u--) f = t[u],
            n.type(f) === "string" && r.transports[f] || (i.log("Invalid transport: " + f + ", removing it from the transports list."), t.splice(u, 1));
            t.length === 0 && (i.log("No transports remain within the specified transport array."), t = null)
        } else if (r.transports[t] || t === "auto") {
            if (t === "auto" && r._.ieVersion <= 8) return ["longPolling"]
        } else i.log("Invalid transport: " + t.toString() + "."),
        t = null;
        return t
    }
    function y(n) {
        return n === "http:" ? 80 : n === "https:" ? 443 : void 0
    }
    function l(n, t) {
        return t.match(/:\d+$/) ? t: t + ":" + y(n)
    }
    function v(t, i) {
        var u = this,
        r = [];
        u.tryBuffer = function(i) {
            return t.state === n.signalR.connectionState.connecting ? (r.push(i), !0) : !1
        },
        u.drain = function() {
            if (t.state === n.signalR.connectionState.connected) while (r.length > 0) i(r.shift())
        },
        u.clear = function() {
            r = []
        }
    }
    var f = {
        nojQuery: "jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",
        noTransportOnInit: "No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",
        errorOnNegotiate: "Error during negotiation request.",
        stoppedWhileLoading: "The connection was stopped during page load.",
        stoppedWhileNegotiating: "The connection was stopped during the negotiate request.",
        errorParsingNegotiateResponse: "Error parsing negotiate response.",
        errorDuringStartRequest: "Error during start request. Stopping the connection.",
        stoppedDuringStartRequest: "The connection was stopped during the start request.",
        errorParsingStartResponse: "Error parsing start response: '{0}'. Stopping the connection.",
        invalidStartResponse: "Invalid start response: '{0}'. Stopping the connection.",
        protocolIncompatible: "You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",
        sendFailed: "Send failed.",
        parseFailed: "Failed at parsing response: {0}",
        longPollFailed: "Long polling request failed.",
        eventSourceFailedToConnect: "EventSource failed to connect.",
        eventSourceError: "Error raised by EventSource",
        webSocketClosed: "WebSocket closed.",
        pingServerFailedInvalidResponse: "Invalid ping response when pinging server: '{0}'.",
        pingServerFailed: "Failed to ping server.",
        pingServerFailedStatusCode: "Failed to ping server.  Server responded with status code {0}, stopping the connection.",
        pingServerFailedParse: "Failed to parse ping server response, stopping the connection.",
        noConnectionTransport: "Connection is in an invalid state, there is no transport active.",
        webSocketsInvalidState: "The Web Socket transport is in an invalid state, transitioning into reconnecting.",
        reconnectTimeout: "Couldn't reconnect within the configured timeout of {0} ms, disconnecting.",
        reconnectWindowTimeout: "The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection."
    };
    if (typeof n != "function") throw new Error(f.nojQuery);
    var r, c, s = t.document.readyState === "complete",
    e = n(t),
    h = "__Negotiate Aborted__",
    u = {
        onStart: "onStart",
        onStarting: "onStarting",
        onReceived: "onReceived",
        onError: "onError",
        onConnectionSlow: "onConnectionSlow",
        onReconnecting: "onReconnecting",
        onReconnect: "onReconnect",
        onStateChanged: "onStateChanged",
        onDisconnect: "onDisconnect"
    },
    p = function(n, i) {
        if (i !== !1) {
            var r;
            typeof t.console != "undefined" && (r = "[" + (new Date).toTimeString() + "] SignalR: " + n, t.console.debug ? t.console.debug(r) : t.console.log && t.console.log(r))
        }
    },
    o = function(t, i, r) {
        return i === t.state ? (t.state = r, n(t).triggerHandler(u.onStateChanged, [{
            oldState: i,
            newState: r
        }]), !0) : !1
    },
    b = function(n) {
        return n.state === r.connectionState.disconnected
    },
    a = function(n) {
        return n._.keepAliveData.activated && n.transport.supportsKeepAlive(n)
    },
    k = function(i) {
        var f, e;
        i._.configuredStopReconnectingTimeout || (e = function(t) {
            var i = r._.format(r.resources.reconnectTimeout, t.disconnectTimeout);
            t.log(i),
            n(t).triggerHandler(u.onError, [r._.error(i, "TimeoutException")]),
            t.stop(!1, !1)
        },
        i.reconnecting(function() {
            var n = this;
            n.state === r.connectionState.reconnecting && (f = t.setTimeout(function() {
                e(n)
            },
            n.disconnectTimeout))
        }), i.stateChanged(function(n) {
            n.oldState === r.connectionState.reconnecting && t.clearTimeout(f)
        }), i._.configuredStopReconnectingTimeout = !0)
    };
    r = function(n, t, i) {
        return new r.fn.init(n, t, i)
    },
    r._ = {
        defaultContentType: "application/x-www-form-urlencoded; charset=UTF-8",
        ieVersion: function() {
            var i, n;
            return t.navigator.appName === "Microsoft Internet Explorer" && (n = /MSIE ([0-9]+\.[0-9]+)/.exec(t.navigator.userAgent), n && (i = t.parseFloat(n[1]))),
            i
        } (),
        error: function(n, t, i) {
            var r = new Error(n);
            return r.source = t,
            typeof i != "undefined" && (r.context = i),
            r
        },
        transportError: function(n, t, r, u) {
            var f = this.error(n, r, u);
            return f.transport = t ? t.name: i,
            f
        },
        format: function() {
            for (var t = arguments[0], n = 0; n < arguments.length - 1; n++) t = t.replace("{" + n + "}", arguments[n + 1]);
            return t
        },
        firefoxMajorVersion: function(n) {
            var t = n.match(/Firefox\/(\d+)/);
            return ! t || !t.length || t.length < 2 ? 0 : parseInt(t[1], 10)
        },
        configurePingInterval: function(i) {
            var f = i._.config,
            e = function(t) {
                n(i).triggerHandler(u.onError, [t])
            };
            f && !i._.pingIntervalId && f.pingInterval && (i._.pingIntervalId = t.setInterval(function() {
                r.transports._logic.pingServer(i).fail(e)
            },
            f.pingInterval))
        }
    },
    r.events = u,
    r.resources = f,
    r.ajaxDefaults = {
        processData: !0,
        timeout: null,
        async: !0,
        global: !1,
        cache: !1
    },
    r.changeState = o,
    r.isDisconnecting = b,
    r.connectionState = {
        connecting: 0,
        connected: 1,
        reconnecting: 2,
        disconnected: 4
    },
    r.hub = {
        start: function() {
            throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='../signalr/js'><\/script>.");
        }
    },
    e.load(function() {
        s = !0
    }),
    r.fn = r.prototype = {
        init: function(t, i, r) {
            var f = n(this);
            this.url = t,
            this.qs = i,
            this.lastError = null,
            this._ = {
                keepAliveData: {},
                connectingMessageBuffer: new v(this,
                function(n) {
                    f.triggerHandler(u.onReceived, [n])
                }),
                onFailedTimeoutHandle: null,
                lastMessageAt: +new Date,
                lastActiveAt: +new Date,
                beatInterval: 5e3,
                beatHandle: null,
                totalTransportConnectTimeout: 0
            },
            typeof r == "boolean" && (this.logging = r)
        },
        _parseResponse: function(n) {
            var t = this;
            return n ? typeof n == "string" ? t.json.parse(n) : n: n
        },
        _originalJson: t.JSON,
        json: t.JSON,
        isCrossDomain: function(i, r) {
            var u;
            return (i = n.trim(i), r = r || t.location, i.indexOf("http") !== 0) ? !1 : (u = t.document.createElement("a"), u.href = i, u.protocol + l(u.protocol, u.host) !== r.protocol + l(r.protocol, r.host))
        },
        ajaxDataType: "text",
        contentType: "application/json; charset=UTF-8",
        logging: !1,
        state: r.connectionState.disconnected,
        clientProtocol: "1.4",
        reconnectDelay: 2e3,
        transportConnectTimeout: 0,
        disconnectTimeout: 3e4,
        reconnectWindow: 3e4,
        keepAliveWarnAt: 2 / 3,
        start: function(i, c) {
            var l = this,
            v = {
                pingInterval: 3e5,
                waitForPageLoad: !0,
                transport: "auto",
                jsonp: !1
            },
            d,
            y = l._deferral || n.Deferred(),
            p = t.document.createElement("a"),
            b,
            g;
            if (l.lastError = null, l._deferral = y, !l.json) throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");
            if (n.type(i) === "function" ? c = i: n.type(i) === "object" && (n.extend(v, i), n.type(v.callback) === "function" && (c = v.callback)), v.transport = w(v.transport, l), !v.transport) throw new Error("SignalR: Invalid transport(s) specified, aborting start.");
            return (l._.config = v, !s && v.waitForPageLoad === !0) ? (l._.deferredStartHandler = function() {
                l.start(i, c)
            },
            e.bind("load", l._.deferredStartHandler), y.promise()) : l.state === r.connectionState.connecting ? y.promise() : o(l, r.connectionState.disconnected, r.connectionState.connecting) === !1 ? (y.resolve(l), y.promise()) : (k(l), p.href = l.url, p.protocol && p.protocol !== ":" ? (l.protocol = p.protocol, l.host = p.host) : (l.protocol = t.document.location.protocol, l.host = p.host || t.document.location.host), l.baseUrl = l.protocol + "//" + l.host, l.wsProtocol = l.protocol === "https:" ? "wss:../..//": "ws://", v.transport === "auto" && v.jsonp === !0 && (v.transport = "longPolling"), l.url.indexOf("//") === 0 && (l.url = t.location.protocol + l.url, l.log("Protocol relative URL detected, normalizing it to '" + l.url + "'.")), this.isCrossDomain(l.url) && (l.log("Auto detected cross domain url."), v.transport === "auto" && (v.transport = ["webSockets", "serverSentEvents", "longPolling"]), typeof v.withCredentials == "undefined" && (v.withCredentials = !0), v.jsonp || (v.jsonp = !n.support.cors, v.jsonp && l.log("Using jsonp because this browser doesn't support CORS.")), l.contentType = r._.defaultContentType), l.withCredentials = v.withCredentials, l.ajaxDataType = v.jsonp ? "jsonp": "text", n(l).bind(u.onStart,
            function() {
                n.type(c) === "function" && c.call(l),
                y.resolve(l)
            }), d = function(i, s) {
                var p = r._.error(f.noTransportOnInit);
                if (s = s || 0, s >= i.length) {
                    n(l).triggerHandler(u.onError, [p]),
                    y.reject(p),
                    l.stop();
                    return
                }
                if (l.state !== r.connectionState.disconnected) {
                    var w = i[s],
                    h = r.transports[w],
                    c = !1,
                    v = function() {
                        c || (c = !0, t.clearTimeout(l._.onFailedTimeoutHandle), h.stop(l), d(i, s + 1))
                    };
                    l.transport = h;
                    try {
                        l._.onFailedTimeoutHandle = t.setTimeout(function() {
                            l.log(h.name + " timed out when trying to connect."),
                            v()
                        },
                        l._.totalTransportConnectTimeout),
                        h.start(l,
                        function() {
                            var i = function() {
                                var i = r._.firefoxMajorVersion(t.navigator.userAgent) >= 11,
                                f = !!l.withCredentials && i;
                                l.log("The start request succeeded. Transitioning to the connected state."),
                                a(l) && r.transports._logic.monitorKeepAlive(l),
                                r.transports._logic.startHeartbeat(l),
                                r._.configurePingInterval(l),
                                o(l, r.connectionState.connecting, r.connectionState.connected) || l.log("WARNING! The connection was not in the connecting state."),
                                l._.connectingMessageBuffer.drain(),
                                n(l).triggerHandler(u.onStart),
                                e.bind("unload",
                                function() {
                                    l.log("Window unloading, stopping the connection."),
                                    l.stop(f)
                                }),
                                i && e.bind("beforeunload",
                                function() {
                                    t.setTimeout(function() {
                                        l.stop(f)
                                    },
                                    0)
                                })
                            };
                            if (!c) {
                                if (c = !0, t.clearTimeout(l._.onFailedTimeoutHandle), l.state === r.connectionState.disconnected) return;
                                l.log(h.name + " transport selected. Initiating start request."),
                                r.transports._logic.ajaxStart(l, i)
                            }
                        },
                        v)
                    } catch(b) {
                        l.log(h.name + " transport threw '" + b.message + "' when attempting to start."),
                        v()
                    }
                }
            },
            b = l.url + "/negotiate", g = function(t, i) {
                var e = r._.error(f.errorOnNegotiate, t, i._.negotiateRequest);
                n(i).triggerHandler(u.onError, e),
                y.reject(e),
                i.stop()
            },
            n(l).triggerHandler(u.onStarting), b = r.transports._logic.prepareQueryString(l, b), l.log("Negotiating with '" + b + "'."), l._.negotiateRequest = r.transports._logic.ajax(l, {
                url: b,
                error: function(n, t) {
                    t !== h ? g(n, l) : y.reject(r._.error(f.stoppedWhileNegotiating, null, l._.negotiateRequest))
                },
                success: function(t) {
                    var i, e, h, o = [],
                    s = [];
                    try {
                        i = l._parseResponse(t)
                    } catch(c) {
                        g(r._.error(f.errorParsingNegotiateResponse, c), l);
                        return
                    }
                    if (e = l._.keepAliveData, l.appRelativeUrl = i.Url, l.id = i.ConnectionId, l.token = i.ConnectionToken, l.webSocketServerUrl = i.WebSocketServerUrl, l._.pollTimeout = i.ConnectionTimeout * 1e3 + 1e4, l.disconnectTimeout = i.DisconnectTimeout * 1e3, l._.totalTransportConnectTimeout = l.transportConnectTimeout + i.TransportConnectTimeout * 1e3, i.KeepAliveTimeout ? (e.activated = !0, e.timeout = i.KeepAliveTimeout * 1e3, e.timeoutWarning = e.timeout * l.keepAliveWarnAt, l._.beatInterval = (e.timeout - e.timeoutWarning) / 3) : e.activated = !1, l.reconnectWindow = l.disconnectTimeout + (e.timeout || 0), !i.ProtocolVersion || i.ProtocolVersion !== l.clientProtocol) {
                        h = r._.error(r._.format(f.protocolIncompatible, l.clientProtocol, i.ProtocolVersion)),
                        n(l).triggerHandler(u.onError, [h]),
                        y.reject(h);
                        return
                    }
                    n.each(r.transports,
                    function(n) {
                        if (n.indexOf("_") === 0 || n === "webSockets" && !i.TryWebSockets) return ! 0;
                        s.push(n)
                    }),
                    n.isArray(v.transport) ? n.each(v.transport,
                    function(t, i) {
                        n.inArray(i, s) >= 0 && o.push(i)
                    }) : v.transport === "auto" ? o = s: n.inArray(v.transport, s) >= 0 && o.push(v.transport),
                    d(o)
                }
            }), y.promise())
        },
        starting: function(t) {
            var i = this;
            return n(i).bind(u.onStarting,
            function() {
                t.call(i)
            }),
            i
        },
        send: function(n) {
            var t = this;
            if (t.state === r.connectionState.disconnected) throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");
            if (t.state === r.connectionState.connecting) throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");
            return t.transport.send(t, n),
            t
        },
        received: function(t) {
            var i = this;
            return n(i).bind(u.onReceived,
            function(n, r) {
                t.call(i, r)
            }),
            i
        },
        stateChanged: function(t) {
            var i = this;
            return n(i).bind(u.onStateChanged,
            function(n, r) {
                t.call(i, r)
            }),
            i
        },
        error: function(t) {
            var i = this;
            return n(i).bind(u.onError,
            function(n, r, u) {
                i.lastError = r,
                t.call(i, r, u)
            }),
            i
        },
        disconnected: function(t) {
            var i = this;
            return n(i).bind(u.onDisconnect,
            function() {
                t.call(i)
            }),
            i
        },
        connectionSlow: function(t) {
            var i = this;
            return n(i).bind(u.onConnectionSlow,
            function() {
                t.call(i)
            }),
            i
        },
        reconnecting: function(t) {
            var i = this;
            return n(i).bind(u.onReconnecting,
            function() {
                t.call(i)
            }),
            i
        },
        reconnected: function(t) {
            var i = this;
            return n(i).bind(u.onReconnect,
            function() {
                t.call(i)
            }),
            i
        },
        stop: function(i, c) {
            var l = this,
            v = l._deferral;
            if (l._.deferredStartHandler && e.unbind("load", l._.deferredStartHandler), delete l._.config, delete l._.deferredStartHandler, !s && (!l._.config || l._.config.waitForPageLoad === !0)) {
                l.log("Stopping connection prior to negotiate."),
                v && v.reject(r._.error(f.stoppedWhileLoading));
                return
            }
            if (l.state !== r.connectionState.disconnected) return l.log("Stopping connection."),
            o(l, l.state, r.connectionState.disconnected),
            t.clearTimeout(l._.beatHandle),
            t.clearTimeout(l._.onFailedTimeoutHandle),
            t.clearInterval(l._.pingIntervalId),
            l.transport && (l.transport.stop(l), c !== !1 && l.transport.abort(l, i), a(l) && r.transports._logic.stopMonitoringKeepAlive(l), l.transport = null),
            l._.negotiateRequest && (l._.negotiateRequest.abort(h), delete l._.negotiateRequest),
            r.transports._logic.tryAbortStartRequest(l),
            n(l).triggerHandler(u.onDisconnect),
            delete l._deferral,
            delete l.messageId,
            delete l.groupsToken,
            delete l.id,
            delete l._.pingIntervalId,
            delete l._.lastMessageAt,
            delete l._.lastActiveAt,
            l._.connectingMessageBuffer.clear(),
            l
        },
        log: function(n) {
            p(n, this.logging)
        }
    },
    r.fn.init.prototype = r.fn,
    r.noConflict = function() {
        return n.connection === r && (n.connection = c),
        r
    },
    n.connection && (c = n.connection),
    n.connection = n.signalR = r
} (window.jQuery, window),
function(n, t) {
    function e(n) {
        n._.keepAliveData.monitoring && s(n),
        r.markActive(n) && (n._.beatHandle = t.setTimeout(function() {
            e(n)
        },
        n._.beatInterval))
    }
    function s(t) {
        var r = t._.keepAliveData,
        f;
        t.state === i.connectionState.connected && (f = +new Date - t._.lastMessageAt, f >= r.timeout ? (t.log("Keep alive timed out.  Notifying transport that connection has been lost."), t.transport.lostConnection(t)) : f >= r.timeoutWarning ? r.userNotified || (t.log("Keep alive has been missed, connection may be dead/slow."), n(t).triggerHandler(u.onConnectionSlow), r.userNotified = !0) : r.userNotified = !1)
    }
    function f(n, t) {
        var i = n.url + t;
        return n.transport && (i += "@transport=" + n.transport.name),
        r.prepareQueryString(n, i)
    }
    var i = n.signalR,
    u = n.signalR.events,
    h = n.signalR.changeState,
    o = "__Start Aborted__",
    r;
    i.transports = {},
    r = i.transports._logic = {
        ajax: function(t, i) {
            return n.ajax(n.extend(!0, {},
            n.signalR.ajaxDefaults, {
                type: "GET",
                data: {},
                xhrFields: {
                    withCredentials: t.withCredentials
                },
                contentType: t.contentType,
                dataType: t.ajaxDataType
            },
            i))
        },
        pingServer: function(t) {
            var e, f, u = n.Deferred();
            return t.transport ? (e = t.url + "/ping", e = r.addQs(e, t.qs), f = r.ajax(t, {
                url: e,
                success: function(n) {
                    var r;
                    try {
                        r = t._parseResponse(n)
                    } catch(e) {
                        u.reject(i._.transportError(i.resources.pingServerFailedParse, t.transport, e, f)),
                        t.stop();
                        return
                    }
                    r.Response === "pong" ? u.resolve() : u.reject(i._.transportError(i._.format(i.resources.pingServerFailedInvalidResponse, n), t.transport, null, f))
                },
                error: function(n) {
                    n.status === 401 || n.status === 403 ? (u.reject(i._.transportError(i._.format(i.resources.pingServerFailedStatusCode, n.status), t.transport, n, f)), t.stop()) : u.reject(i._.transportError(i.resources.pingServerFailed, t.transport, n, f))
                }
            })) : u.reject(i._.transportError(i.resources.noConnectionTransport, t.transport)),
            u.promise()
        },
        prepareQueryString: function(n, i) {
            var u;
            return u = r.addQs(i, "clientProtocol=" + n.clientProtocol),
            u = r.addQs(u, n.qs),
            n.token && (u += "&connectionToken=" + t.encodeURIComponent(n.token)),
            n.data && (u += "&connectionData=" + t.encodeURIComponent(n.data)),
            u
        },
        addQs: function(t, i) {
            var r = t.indexOf("?") !== -1 ? "&": "?",
            u;
            if (!i) return t;
            if (typeof i == "object") return t + r + n.param(i);
            if (typeof i == "string") return u = i.charAt(0),
            (u === "?" || u === "&") && (r = ""),
            t + r + i;
            throw new Error("Query string property must be either a string or object.");
        },
        getUrl: function(n, i, u, f) {
            var s = i === "webSockets" ? "": n.baseUrl,
            e = s + n.appRelativeUrl,
            o = "transport=" + i;
            return n.groupsToken && (o += "&groupsToken=" + t.encodeURIComponent(n.groupsToken)),
            u ? (e += f ? "../poll": "../reconnect", n.messageId && (o += "&messageId=" + t.encodeURIComponent(n.messageId))) : e += "../connect",
            e += "?" + o,
            e = r.prepareQueryString(n, e),
            e + ("&tid=" + Math.floor(Math.random() * 11))
        },
        maximizePersistentResponse: function(n) {
            return {
                MessageId: n.C,
                Messages: n.M,
                Initialized: typeof n.S != "undefined" ? !0 : !1,
                Disconnect: typeof n.D != "undefined" ? !0 : !1,
                ShouldReconnect: typeof n.T != "undefined" ? !0 : !1,
                LongPollDelay: n.L,
                GroupsToken: n.G
            }
        },
        updateGroups: function(n, t) {
            t && (n.groupsToken = t)
        },
        stringifySend: function(n, t) {
            return typeof t == "string" || typeof t == "undefined" || t === null ? t: n.json.stringify(t)
        },
        ajaxSend: function(t, e) {
            var h = r.stringifySend(t, e),
            c = f(t, "../send"),
            o,
            s = function(t, r) {
                n(r).triggerHandler(u.onError, [i._.transportError(i.resources.sendFailed, r.transport, t, o), e])
            };
            return o = r.ajax(t, {
                url: c,
                type: t.ajaxDataType === "jsonp" ? "GET": "POST",
                contentType: i._.defaultContentType,
                data: {
                    data: h
                },
                success: function(n) {
                    var i;
                    if (n) {
                        try {
                            i = t._parseResponse(n)
                        } catch(u) {
                            s(u, t),
                            t.stop();
                            return
                        }
                        r.triggerReceived(t, i)
                    }
                },
                error: function(n, i) {
                    i !== "abort" && i !== "parsererror" && s(n, t)
                }
            })
        },
        ajaxAbort: function(n, t) {
            if (typeof n.transport != "undefined") {
                t = typeof t == "undefined" ? !0 : t;
                var i = f(n, "../abort");
                r.ajax(n, {
                    url: i,
                    async: t,
                    timeout: 1e3,
                    type: "POST"
                }),
                n.log("Fired ajax abort async = " + t + ".")
            }
        },
        ajaxStart: function(t, e) {
            var h = function(n) {
                var i = t._deferral;
                i && i.reject(n)
            },
            s = function(i) {
                t.log("The start request failed. Stopping the connection."),
                n(t).triggerHandler(u.onError, [i]),
                h(i),
                t.stop()
            };
            t._.startRequest = r.ajax(t, {
                url: f(t, "../start"),
                success: function(n, r, u) {
                    var f;
                    try {
                        f = t._parseResponse(n)
                    } catch(o) {
                        s(i._.error(i._.format(i.resources.errorParsingStartResponse, n), o, u));
                        return
                    }
                    f.Response === "started" ? e() : s(i._.error(i._.format(i.resources.invalidStartResponse, n), null, u))
                },
                error: function(n, r, u) {
                    r !== o ? s(i._.error(i.resources.errorDuringStartRequest, u, n)) : (t.log("The start request aborted because connection.stop() was called."), h(i._.error(i.resources.stoppedDuringStartRequest, null, n)))
                }
            })
        },
        tryAbortStartRequest: function(n) {
            n._.startRequest && (n._.startRequest.abort(o), delete n._.startRequest)
        },
        tryInitialize: function(n, t) {
            n.Initialized && t()
        },
        triggerReceived: function(t, i) {
            t._.connectingMessageBuffer.tryBuffer(i) || n(t).triggerHandler(u.onReceived, [i])
        },
        processMessages: function(t, i, u) {
            var f;
            r.markLastMessage(t),
            i && (f = r.maximizePersistentResponse(i), r.updateGroups(t, f.GroupsToken), f.MessageId && (t.messageId = f.MessageId), f.Messages && (n.each(f.Messages,
            function(n, i) {
                r.triggerReceived(t, i)
            }), r.tryInitialize(f, u)))
        },
        monitorKeepAlive: function(t) {
            var i = t._.keepAliveData;
            i.monitoring ? t.log("Tried to monitor keep alive but it's already being monitored.") : (i.monitoring = !0, r.markLastMessage(t), t._.keepAliveData.reconnectKeepAliveUpdate = function() {
                r.markLastMessage(t)
            },
            n(t).bind(u.onReconnect, t._.keepAliveData.reconnectKeepAliveUpdate), t.log("Now monitoring keep alive with a warning timeout of " + i.timeoutWarning + " and a connection lost timeout of " + i.timeout + "."))
        },
        stopMonitoringKeepAlive: function(t) {
            var i = t._.keepAliveData;
            i.monitoring && (i.monitoring = !1, n(t).unbind(u.onReconnect, t._.keepAliveData.reconnectKeepAliveUpdate), t._.keepAliveData = {},
            t.log("Stopping the monitoring of the keep alive."))
        },
        startHeartbeat: function(n) {
            n._.lastActiveAt = +new Date,
            e(n)
        },
        markLastMessage: function(n) {
            n._.lastMessageAt = +new Date
        },
        markActive: function(n) {
            return r.verifyLastActive(n) ? (n._.lastActiveAt = +new Date, !0) : !1
        },
        isConnectedOrReconnecting: function(n) {
            return n.state === i.connectionState.connected || n.state === i.connectionState.reconnecting
        },
        ensureReconnectingState: function(t) {
            return h(t, i.connectionState.connected, i.connectionState.reconnecting) === !0 && n(t).triggerHandler(u.onReconnecting),
            t.state === i.connectionState.reconnecting
        },
        clearReconnectTimeout: function(n) {
            n && n._.reconnectTimeout && (t.clearTimeout(n._.reconnectTimeout), delete n._.reconnectTimeout)
        },
        verifyLastActive: function(t) {
            if ( + new Date - t._.lastActiveAt >= t.reconnectWindow) {
                var r = i._.format(i.resources.reconnectWindowTimeout, new Date(t._.lastActiveAt), t.reconnectWindow);
                return t.log(r),
                n(t).triggerHandler(u.onError, [i._.error(r, "TimeoutException")]),
                t.stop(!1, !1),
                !1
            }
            return ! 0
        },
        reconnect: function(n, u) {
            var f = i.transports[u];
            if (r.isConnectedOrReconnecting(n) && !n._.reconnectTimeout) {
                if (!r.verifyLastActive(n)) return;
                n._.reconnectTimeout = t.setTimeout(function() {
                    r.verifyLastActive(n) && (f.stop(n), r.ensureReconnectingState(n) && (n.log(u + " reconnecting."), f.start(n)))
                },
                n.reconnectDelay)
            }
        },
        handleParseFailure: function(t, r, f, e, o) {
            t.state === i.connectionState.connecting ? (t.log("Failed to parse server response while attempting to connect."), e()) : (n(t).triggerHandler(u.onError, [i._.transportError(i._.format(i.resources.parseFailed, r), t.transport, f, o)]), t.stop())
        },
        foreverFrame: {
            count: 0,
            connections: {}
        }
    }
} (window.jQuery, window),
function(n, t) {
    var r = n.signalR,
    u = n.signalR.events,
    f = n.signalR.changeState,
    i = r.transports._logic;
    r.transports.webSockets = {
        name: "webSockets",
        supportsKeepAlive: function() {
            return ! 0
        },
        send: function(t, f) {
            var e = i.stringifySend(t, f);
            try {
                t.socket.send(e)
            } catch(o) {
                n(t).triggerHandler(u.onError, [r._.transportError(r.resources.webSocketsInvalidState, t.transport, o, t.socket), f])
            }
        },
        start: function(e, o, s) {
            var h, c = !1,
            l = this,
            a = !o,
            v = n(e);
            if (!t.WebSocket) {
                s();
                return
            }
            e.socket || (h = e.webSocketServerUrl ? e.webSocketServerUrl: e.wsProtocol + e.host, h += i.getUrl(e, this.name, a), e.log("Connecting to websocket endpoint '" + h + "'."), e.socket = new t.WebSocket(h), e.socket.onopen = function() {
                c = !0,
                e.log("Websocket opened."),
                i.clearReconnectTimeout(e),
                f(e, r.connectionState.reconnecting, r.connectionState.connected) === !0 && v.triggerHandler(u.onReconnect)
            },
            e.socket.onclose = function(t) {
                if (this === e.socket) {
                    if (c) typeof t.wasClean != "undefined" && t.wasClean === !1 ? (n(e).triggerHandler(u.onError, [r._.transportError(r.resources.webSocketClosed, e.transport, t)]), e.log("Unclean disconnect from websocket: " + t.reason || "[no reason given].")) : e.log("Websocket closed.");
                    else {
                        s ? s() : a && l.reconnect(e);
                        return
                    }
                    l.reconnect(e)
                }
            },
            e.socket.onmessage = function(t) {
                var r;
                try {
                    r = e._parseResponse(t.data)
                } catch(u) {
                    i.handleParseFailure(e, t.data, u, s, t);
                    return
                }
                r && (n.isEmptyObject(r) || r.M ? i.processMessages(e, r, o) : i.triggerReceived(e, r))
            })
        },
        reconnect: function(n) {
            i.reconnect(n, this.name)
        },
        lostConnection: function(n) {
            this.reconnect(n)
        },
        stop: function(n) {
            i.clearReconnectTimeout(n),
            n.socket && (n.log("Closing the Websocket."), n.socket.close(), n.socket = null)
        },
        abort: function(n, t) {
            i.ajaxAbort(n, t)
        }
    }
} (window.jQuery, window),
function(n, t) {
    var i = n.signalR,
    u = n.signalR.events,
    e = n.signalR.changeState,
    r = i.transports._logic,
    f = function(n) {
        t.clearTimeout(n._.reconnectAttemptTimeoutHandle),
        delete n._.reconnectAttemptTimeoutHandle
    };
    i.transports.serverSentEvents = {
        name: "serverSentEvents",
        supportsKeepAlive: function() {
            return ! 0
        },
        timeOut: 3e3,
        start: function(o, s, h) {
            var c = this,
            l = !1,
            a = n(o),
            v = !s,
            y;
            if (o.eventSource && (o.log("The connection already has an event source. Stopping it."), o.stop()), !t.EventSource) {
                h && (o.log("This browser doesn't support SSE."), h());
                return
            }
            y = r.getUrl(o, this.name, v);
            try {
                o.log("Attempting to connect to SSE endpoint '" + y + "'."),
                o.eventSource = new t.EventSource(y, {
                    withCredentials: o.withCredentials
                })
            } catch(p) {
                o.log("EventSource failed trying to connect with error " + p.Message + "."),
                h ? h() : (a.triggerHandler(u.onError, [i._.transportError(i.resources.eventSourceFailedToConnect, o.transport, p)]), v && c.reconnect(o));
                return
            }
            v && (o._.reconnectAttemptTimeoutHandle = t.setTimeout(function() {
                l === !1 && o.eventSource.readyState !== t.EventSource.OPEN && c.reconnect(o)
            },
            c.timeOut)),
            o.eventSource.addEventListener("open",
            function() {
                o.log("EventSource connected."),
                f(o),
                r.clearReconnectTimeout(o),
                l === !1 && (l = !0, e(o, i.connectionState.reconnecting, i.connectionState.connected) === !0 && a.triggerHandler(u.onReconnect))
            },
            !1),
            o.eventSource.addEventListener("message",
            function(n) {
                var t;
                if (n.data !== "initialized") {
                    try {
                        t = o._parseResponse(n.data)
                    } catch(i) {
                        r.handleParseFailure(o, n.data, i, h, n);
                        return
                    }
                    r.processMessages(o, t, s)
                }
            },
            !1),
            o.eventSource.addEventListener("error",
            function(n) {
                if (this === o.eventSource) {
                    if (!l) {
                        h && h();
                        return
                    }
                    o.log("EventSource readyState: " + o.eventSource.readyState + "."),
                    n.eventPhase === t.EventSource.CLOSED ? (o.log("EventSource reconnecting due to the server connection ending."), c.reconnect(o)) : (o.log("EventSource error."), a.triggerHandler(u.onError, [i._.transportError(i.resources.eventSourceError, o.transport, n)]))
                }
            },
            !1)
        },
        reconnect: function(n) {
            r.reconnect(n, this.name)
        },
        lostConnection: function(n) {
            this.reconnect(n)
        },
        send: function(n, t) {
            r.ajaxSend(n, t)
        },
        stop: function(n) {
            f(n),
            r.clearReconnectTimeout(n),
            n && n.eventSource && (n.log("EventSource calling close()."), n.eventSource.close(), n.eventSource = null, delete n.eventSource)
        },
        abort: function(n, t) {
            r.ajaxAbort(n, t)
        }
    }
} (window.jQuery, window),
function(n, t) {
    var r = n.signalR,
    e = n.signalR.events,
    o = n.signalR.changeState,
    i = r.transports._logic,
    u = function() {
        var n = t.document.createElement("iframe");
        return n.setAttribute("style", "position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"),
        n
    },
    f = function() {
        var i = null,
        f = 1e3,
        n = 0;
        return {
            prevent: function() {
                r._.ieVersion <= 8 && (n === 0 && (i = t.setInterval(function() {
                    var n = u();
                    t.document.body.appendChild(n),
                    t.document.body.removeChild(n),
                    n = null
                },
                f)), n++)
            },
            cancel: function() {
                n === 1 && t.clearInterval(i),
                n > 0 && n--
            }
        }
    } ();
    r.transports.foreverFrame = {
        name: "foreverFrame",
        supportsKeepAlive: function() {
            return ! 0
        },
        iframeClearThreshold: 50,
        start: function(n, r, e) {
            var l = this,
            s = i.foreverFrame.count += 1,
            h, o = u(),
            c = function() {
                n.log("Forever frame iframe finished loading and is no longer receiving messages."),
                l.reconnect(n)
            };
            if (t.EventSource) {
                e && (n.log("This browser supports SSE, skipping Forever Frame."), e());
                return
            }
            o.setAttribute("data-signalr-connection-id", n.id),
            f.prevent(),
            h = i.getUrl(n, this.name),
            h += "&frameId=" + s,
            t.document.body.appendChild(o),
            n.log("Binding to iframe's load event."),
            o.addEventListener ? o.addEventListener("load", c, !1) : o.attachEvent && o.attachEvent("onload", c),
            o.src = h,
            i.foreverFrame.connections[s] = n,
            n.frame = o,
            n.frameId = s,
            r && (n.onSuccess = function() {
                n.log("Iframe transport started."),
                r()
            })
        },
        reconnect: function(n) {
            var r = this;
            i.isConnectedOrReconnecting(n) && i.verifyLastActive(n) && t.setTimeout(function() {
                if (i.verifyLastActive(n) && n.frame && i.ensureReconnectingState(n)) {
                    var u = n.frame,
                    t = i.getUrl(n, r.name, !0) + "&frameId=" + n.frameId;
                    n.log("Updating iframe src to '" + t + "'."),
                    u.src = t
                }
            },
            n.reconnectDelay)
        },
        lostConnection: function(n) {
            this.reconnect(n)
        },
        send: function(n, t) {
            i.ajaxSend(n, t)
        },
        receive: function(t, u) {
            var f, e, o;
            if (t.json !== t._originalJson && (u = t._originalJson.stringify(u)), o = t._parseResponse(u), i.processMessages(t, o, t.onSuccess), t.state === n.signalR.connectionState.connected && (t.frameMessageCount = (t.frameMessageCount || 0) + 1, t.frameMessageCount > r.transports.foreverFrame.iframeClearThreshold && (t.frameMessageCount = 0, f = t.frame.contentWindow || t.frame.contentDocument, f && f.document && f.document.body))) for (e = f.document.body; e.firstChild;) e.removeChild(e.firstChild)
        },
        stop: function(n) {
            var r = null;
            if (f.cancel(), n.frame) {
                if (n.frame.stop) n.frame.stop();
                else try {
                    r = n.frame.contentWindow || n.frame.contentDocument,
                    r.document && r.document.execCommand && r.document.execCommand("Stop")
                } catch(u) {
                    n.log("Error occured when stopping foreverFrame transport. Message = " + u.message + ".")
                }
                n.frame.parentNode === t.document.body && t.document.body.removeChild(n.frame),
                delete i.foreverFrame.connections[n.frameId],
                n.frame = null,
                n.frameId = null,
                delete n.frame,
                delete n.frameId,
                delete n.onSuccess,
                delete n.frameMessageCount,
                n.log("Stopping forever frame.")
            }
        },
        abort: function(n, t) {
            i.ajaxAbort(n, t)
        },
        getConnection: function(n) {
            return i.foreverFrame.connections[n]
        },
        started: function(t) {
            o(t, r.connectionState.reconnecting, r.connectionState.connected) === !0 && n(t).triggerHandler(e.onReconnect)
        }
    }
} (window.jQuery, window),
function(n, t) {
    var r = n.signalR,
    u = n.signalR.events,
    e = n.signalR.changeState,
    f = n.signalR.isDisconnecting,
    i = r.transports._logic;
    r.transports.longPolling = {
        name: "longPolling",
        supportsKeepAlive: function() {
            return ! 1
        },
        reconnectDelay: 3e3,
        start: function(o, s, h) {
            var a = this,
            v = function() {
                v = n.noop,
                h = null,
                o.log("LongPolling connected."),
                s()
            },
            y = function() {
                return h ? (h(), h = null, o.log("LongPolling failed to connect."), !0) : !1
            },
            c = o._,
            l = 0,
            p = function(i) {
                t.clearTimeout(c.reconnectTimeoutId),
                c.reconnectTimeoutId = null,
                e(i, r.connectionState.reconnecting, r.connectionState.connected) === !0 && (i.log("Raising the reconnect event"), n(i).triggerHandler(u.onReconnect))
            },
            w = 36e5;
            o.pollXhr && (o.log("Polling xhr requests already exists, aborting."), o.stop()),
            o.messageId = null,
            c.reconnectTimeoutId = null,
            c.pollTimeoutId = t.setTimeout(function() { (function e(s, h) {
                    var d = s.messageId,
                    g = d === null,
                    b = !g,
                    nt = !h,
                    k = i.getUrl(s, a.name, b, nt);
                    f(s) !== !0 && (o.log("Opening long polling request to '" + k + "'."), s.pollXhr = i.ajax(o, {
                        xhrFields: {
                            onprogress: function() {
                                i.markLastMessage(o)
                            }
                        },
                        url: k,
                        timeout: o._.pollTimeout,
                        success: function(r) {
                            var h, w = 0,
                            u, a;
                            o.log("Long poll complete."),
                            l = 0;
                            try {
                                h = o._parseResponse(r)
                            } catch(b) {
                                i.handleParseFailure(s, r, b, y, s.pollXhr);
                                return
                            } (c.reconnectTimeoutId !== null && p(s), h && (u = i.maximizePersistentResponse(h)), i.processMessages(s, h, v), u && n.type(u.LongPollDelay) === "number" && (w = u.LongPollDelay), u && u.Disconnect) || f(s) !== !0 && (a = u && u.ShouldReconnect, !a || i.ensureReconnectingState(s)) && (w > 0 ? c.pollTimeoutId = t.setTimeout(function() {
                                e(s, a)
                            },
                            w) : e(s, a))
                        },
                        error: function(f, h) {
                            if (t.clearTimeout(c.reconnectTimeoutId), c.reconnectTimeoutId = null, h === "abort") {
                                o.log("Aborted xhr request.");
                                return
                            }
                            if (!y()) {
                                if (l++, o.state !== r.connectionState.reconnecting && (o.log("An error occurred using longPolling. Status = " + h + ".  Response = " + f.responseText + "."), n(s).triggerHandler(u.onError, [r._.transportError(r.resources.longPollFailed, o.transport, f, s.pollXhr)])), (o.state === r.connectionState.connected || o.state === r.connectionState.reconnecting) && !i.verifyLastActive(o)) return;
                                if (!i.ensureReconnectingState(s)) return;
                                c.pollTimeoutId = t.setTimeout(function() {
                                    e(s, !0)
                                },
                                a.reconnectDelay)
                            }
                        }
                    }), b && h === !0 && (c.reconnectTimeoutId = t.setTimeout(function() {
                        p(s)
                    },
                    Math.min(1e3 * (Math.pow(2, l) - 1), w))))
                })(o)
            },
            250)
        },
        lostConnection: function(n) {
            n.pollXhr && n.pollXhr.abort("lostConnection")
        },
        send: function(n, t) {
            i.ajaxSend(n, t)
        },
        stop: function(n) {
            t.clearTimeout(n._.pollTimeoutId),
            t.clearTimeout(n._.reconnectTimeoutId),
            delete n._.pollTimeoutId,
            delete n._.reconnectTimeoutId,
            n.pollXhr && (n.pollXhr.abort(), n.pollXhr = null, delete n.pollXhr)
        },
        abort: function(n, t) {
            i.ajaxAbort(n, t)
        }
    }
} (window.jQuery, window),
function(n) {
    function r(n) {
        return n + s
    }
    function e(n, t, i) {
        for (var f = n.length,
        u = [], r = 0; r < f; r += 1) n.hasOwnProperty(r) && (u[r] = t.call(i, n[r], r, n));
        return u
    }
    function o(t) {
        return n.isFunction(t) ? null: n.type(t) === "undefined" ? null: t
    }
    function u(n) {
        for (var t in n) if (n.hasOwnProperty(t)) return ! 0;
        return ! 1
    }
    function f(n, t) {
        var i = n._.invocationCallbacks,
        r, f;
        u(i) && n.log("Clearing hub invocation callbacks with error: " + t + "."),
        n._.invocationCallbackId = 0,
        delete n._.invocationCallbacks,
        n._.invocationCallbacks = {};
        for (f in i) r = i[f],
        r.method.call(r.scope, {
            E: t
        })
    }
    function i(n, t) {
        return new i.fn.init(n, t)
    }
    function t(i, r) {
        var u = {
            qs: null,
            logging: !1,
            useDefaultPath: !0
        };
        return n.extend(u, r),
        (!i || u.useDefaultPath) && (i = (i || "") + "/signalr"),
        new t.fn.init(i, u)
    }
    var s = ".hubProxy",
    h = n.signalR;
    i.fn = i.prototype = {
        init: function(n, t) {
            this.state = {},
            this.connection = n,
            this.hubName = t,
            this._ = {
                callbackMap: {}
            }
        },
        constructor: i,
        hasSubscriptions: function() {
            return u(this._.callbackMap)
        },
        on: function(t, i) {
            var u = this,
            f = u._.callbackMap;
            return t = t.toLowerCase(),
            f[t] || (f[t] = {}),
            f[t][i] = function(n, t) {
                i.apply(u, t)
            },
            n(u).bind(r(t), f[t][i]),
            u
        },
        off: function(t, i) {
            var e = this,
            o = e._.callbackMap,
            f;
            return t = t.toLowerCase(),
            f = o[t],
            f && (f[i] ? (n(e).unbind(r(t), f[i]), delete f[i], u(f) || delete o[t]) : i || (n(e).unbind(r(t)), delete o[t])),
            e
        },
        invoke: function(t) {
            var i = this,
            r = i.connection,
            s = n.makeArray(arguments).slice(1),
            c = e(s, o),
            f = {
                H: i.hubName,
                M: t,
                A: c,
                I: r._.invocationCallbackId
            },
            u = n.Deferred(),
            l = function(f) {
                var e = i._maximizeHubResponse(f),
                s,
                o;
                n.extend(i.state, e.State),
                e.Progress ? u.notifyWith ? u.notifyWith(i, [e.Progress.Data]) : r._.progressjQueryVersionLogged || (r.log("A hub method invocation progress update was received but the version of jQuery in use (" + n.prototype.jquery + ") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications."), r._.progressjQueryVersionLogged = !0) : e.Error ? (e.StackTrace && r.log(e.Error + "\n" + e.StackTrace + "."), s = e.IsHubException ? "HubException": "Exception", o = h._.error(e.Error, s), o.data = e.ErrorData, r.log(i.hubName + "." + t + " failed to execute. Error: " + o.message), u.rejectWith(i, [o])) : (r.log("Invoked " + i.hubName + "." + t), u.resolveWith(i, [e.Result]))
            };
            return r._.invocationCallbacks[r._.invocationCallbackId.toString()] = {
                scope: i,
                method: l
            },
            r._.invocationCallbackId += 1,
            n.isEmptyObject(i.state) || (f.S = i.state),
            r.log("Invoking " + i.hubName + "." + t),
            r.send(f),
            u.promise()
        },
        _maximizeHubResponse: function(n) {
            return {
                State: n.S,
                Result: n.R,
                Progress: n.P ? {
                    Id: n.P.I,
                    Data: n.P.D
                }: null,
                Id: n.I,
                IsHubException: n.H,
                Error: n.E,
                StackTrace: n.T,
                ErrorData: n.D
            }
        }
    },
    i.fn.init.prototype = i.fn,
    t.fn = t.prototype = n.connection(),
    t.fn.init = function(t, i) {
        var e = {
            qs: null,
            logging: !1,
            useDefaultPath: !0
        },
        u = this;
        n.extend(e, i),
        n.signalR.fn.init.call(u, t, e.qs, e.logging),
        u.proxies = {},
        u._.invocationCallbackId = 0,
        u._.invocationCallbacks = {},
        u.received(function(t) {
            var f, o, e, i, s, h;
            t && (typeof t.P != "undefined" ? (e = t.P.I.toString(), i = u._.invocationCallbacks[e], i && i.method.call(i.scope, t)) : typeof t.I != "undefined" ? (e = t.I.toString(), i = u._.invocationCallbacks[e], i && (u._.invocationCallbacks[e] = null, delete u._.invocationCallbacks[e], i.method.call(i.scope, t))) : (f = this._maximizeClientHubInvocation(t), u.log("Triggering client hub event '" + f.Method + "' on hub '" + f.Hub + "'."), s = f.Hub.toLowerCase(), h = f.Method.toLowerCase(), o = this.proxies[s], n.extend(o.state, f.State), n(o).triggerHandler(r(h), [f.Args])))
        }),
        u.error(function(n, t) {
            var i, r;
            t && (i = t.I, r = u._.invocationCallbacks[i], r && (u._.invocationCallbacks[i] = null, delete u._.invocationCallbacks[i], r.method.call(r.scope, {
                E: n
            })))
        }),
        u.reconnecting(function() {
            u.transport && u.transport.name === "webSockets" && f(u, "Connection started reconnecting before invocation result was received.")
        }),
        u.disconnected(function() {
            f(u, "Connection was disconnected before invocation result was received.")
        })
    },
    t.fn._maximizeClientHubInvocation = function(n) {
        return {
            Hub: n.H,
            Method: n.M,
            Args: n.A,
            State: n.S
        }
    },
    t.fn._registerSubscribedHubs = function() {
        var t = this;
        t._subscribedToHubs || (t._subscribedToHubs = !0, t.starting(function() {
            var i = [];
            n.each(t.proxies,
            function(n) {
                this.hasSubscriptions() && (i.push({
                    name: n
                }), t.log("Client subscribed to hub '" + n + "'."))
            }),
            i.length === 0 && t.log("No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to."),
            t.data = t.json.stringify(i)
        }))
    },
    t.fn.createHubProxy = function(n) {
        n = n.toLowerCase();
        var t = this.proxies[n];
        return t || (t = i(this, n), this.proxies[n] = t),
        this._registerSubscribedHubs(),
        t
    },
    t.fn.init.prototype = t.fn,
    n.hubConnection = t
} (window.jQuery, window),
function(n) {
    n.signalR.version = "2.1.2"
} (window.jQuery),
function(n) {
    "use strict";
    function f(t, i) {
        return function() {
            i.apply(t, n.makeArray(arguments))
        }
    }
    function u(t, i) {
        var e, r, u, o, s;
        for (e in t) if (t.hasOwnProperty(e)) {
            if (r = t[e], !r.hubName) continue;
            s = i ? r.on: r.off;
            for (u in r.client) if (r.client.hasOwnProperty(u)) {
                if (o = r.client[u], !n.isFunction(o)) continue;
                s.call(r, u, f(r, o))
            }
        }
    }
    if (typeof n.signalR != "function") throw new Error("SignalR: SignalR is not loaded. Please ensure jquery.signalR-x.js is referenced before ~/signalr/js.");
    var r = n.signalR;
    n.hubConnection.prototype.createHubProxies = function() {
        var n = {};
        return this.starting(function() {
            u(n, !0),
            this._registerSubscribedHubs()
        }).disconnected(function() {
            u(n, !1)
        }),
        n.mainHub = this.createHubProxy("mainHub"),
        n.mainHub.client = {},
        n.mainHub.server = {},
        n
    },
    r.hub = n.hubConnection("../signalr", {
        useDefaultPath: !1
    }),
    n.extend(r, r.hub.createHubProxies())
} (window.jQuery, window),
function(n, t) {
    function p(n, t) {
        var i = n.createElement("p"),
        r = n.getElementsByTagName("head")[0] || n.documentElement;
        return i.innerHTML = "x<style>" + t + "</style>",
        r.insertBefore(i.lastChild, r.firstChild)
    }
    function a() {
        var n = r.elements;
        return "string" == typeof n ? n.split(" ") : n
    }
    function u(n) {
        var t = c[n[l]];
        return t || (t = {},
        e++, n[l] = e, c[e] = t),
        t
    }
    function s(n, r, f) {
        if (r || (r = t), i) return r.createElement(n);
        f || (f = u(r));
        var e;
        return e = f.cache[n] ? f.cache[n].cloneNode() : k.test(n) ? (f.cache[n] = f.createElem(n)).cloneNode() : f.createElem(n),
        e.canHaveChildren && !b.test(n) ? f.frag.appendChild(e) : e
    }
    function v(n, r) {
        if (n || (n = t), i) return n.createDocumentFragment();
        r = r || u(n);
        for (var e = r.frag.cloneNode(), f = 0, o = a(), s = o.length; s > f; f++) e.createElement(o[f]);
        return e
    }
    function y(n, t) {
        t.cache || (t.cache = {},
        t.createElem = n.createElement, t.createFrag = n.createDocumentFragment, t.frag = t.createFrag()),
        n.createElement = function(i) {
            return r.shivMethods ? s(i, n, t) : t.createElem(i)
        },
        n.createDocumentFragment = Function("h,f", "return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(" + a().join().replace(/\w+/g,
        function(n) {
            return t.createElem(n),
            t.frag.createElement(n),
            'c("' + n + '")'
        }) + ");return n}")(r, t.frag)
    }
    function h(n) {
        n || (n = t);
        var f = u(n);
        return ! r.shivCSS || o || f.hasCSS || (f.hasCSS = !!p(n, "article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),
        i || y(n, f),
        n
    }
    var o, i, w = "3.6.2pre",
    f = n.html5 || {},
    b = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
    k = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,
    l = "_html5shiv",
    e = 0,
    c = {},
    r; (function() {
        try {
            var n = t.createElement("a");
            n.innerHTML = "<xyz></xyz>",
            o = "hidden" in n,
            i = 1 == n.childNodes.length ||
            function() {
                t.createElement("a");
                var n = t.createDocumentFragment();
                return n.cloneNode === void 0 || n.createDocumentFragment === void 0 || n.createElement === void 0
            } ()
        } catch(r) {
            o = !0,
            i = !0
        }
    })(),
    r = {
        elements: f.elements || "abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video",
        version: w,
        shivCSS: f.shivCSS !== !1,
        supportsUnknownElements: i,
        shivMethods: f.shivMethods !== !1,
        type: "default",
        shivDocument: h,
        createElement: s,
        createDocumentFragment: v
    },
    n.html5 = r,
    h(t)
} (this, document),
function(n) {
    typeof define == "function" && define.amd ? define(["jquery"], n) : n(jQuery)
} (function(n) {
    function u(n) {
        return n
    }
    function f(n) {
        return decodeURIComponent(n.replace(r, " "))
    }
    function i(n) {
        n.indexOf('"') === 0 && (n = n.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\"));
        try {
            return t.json ? JSON.parse(n) : n
        } catch(i) {}
    }
    var r = /\+/g,
    t = n.cookie = function(r, e, o) {
        var l, h, s, y;
        if (e !== undefined) return o = n.extend({},
        t.defaults, o),
        typeof o.expires == "number" && (l = o.expires, h = o.expires = new Date, h.setDate(h.getDate() + l)),
        e = t.json ? JSON.stringify(e) : String(e),
        document.cookie = [t.raw ? r: encodeURIComponent(r), "=", t.raw ? e: encodeURIComponent(e), o.expires ? "; expires=" + o.expires.toUTCString() : "", o.path ? "; path=" + o.path: "", o.domain ? "; domain=" + o.domain: "", o.secure ? "; secure": ""].join("");
        var a = t.raw ? u: f,
        v = document.cookie.split("; "),
        c = r ? undefined: {};
        for (s = 0, y = v.length; s < y; s++) {
            var p = v[s].split("="),
            w = a(p.shift()),
            b = a(p.join("="));
            if (r && r === w) {
                c = i(b);
                break
            }
            r || (c[w] = i(b))
        }
        return c
    };
    t.defaults = {},
    n.removeCookie = function(t, i) {
        return n.cookie(t) !== undefined ? (n.cookie(t, "", n.extend({},
        i, {
            expires: -1
        })), !0) : !1
    }
}),
function(n) {
    function t(n) { (n.attr("title") || typeof n.attr("original-title") != "string") && n.attr("original-title", n.attr("title") || "").removeAttr("title")
    }
    function i(i, r) {
        this.$element = n(i),
        this.options = r,
        this.enabled = !0,
        t(this.$element)
    }
    i.prototype = {
        show: function() {
            var o = this.getTitle(),
            i;
            if (o && this.enabled) {
                i = this.tip(),
                i.find(".tipsy-inner")[this.options.html ? "html": "text"](o),
                i[0].className = "tipsy",
                i.remove().css({
                    top: 0,
                    left: 0,
                    visibility: "hidden",
                    display: "block"
                }).appendTo(document.body);
                var t = n.extend({},
                this.$element.offset(), {
                    width: this.$element[0].offsetWidth,
                    height: this.$element[0].offsetHeight
                }),
                u = i[0].offsetWidth,
                e = i[0].offsetHeight,
                f = typeof this.options.gravity == "function" ? this.options.gravity.call(this.$element[0]) : this.options.gravity,
                r;
                switch (f.charAt(0)) {
                case "n":
                    r = {
                        top: t.top + t.height + this.options.offset,
                        left: t.left + t.width / 2 - u / 2
                    };
                    break;
                case "s":
                    r = {
                        top: t.top - e - this.options.offset,
                        left: t.left + t.width / 2 - u / 2
                    };
                    break;
                case "e":
                    r = {
                        top: t.top + t.height / 2 - e / 2,
                        left: t.left - u - this.options.offset
                    };
                    break;
                case "w":
                    r = {
                        top: t.top + t.height / 2 - e / 2,
                        left: t.left + t.width + this.options.offset
                    }
                }
                f.length == 2 && (r.left = f.charAt(1) == "w" ? t.left + t.width / 2 - 15 : t.left + t.width / 2 - u + 15),
                i.css(r).addClass("tipsy-" + f),
                this.options.fade ? i.stop().css({
                    opacity: 0,
                    display: "block",
                    visibility: "visible"
                }).animate({
                    opacity: this.options.opacity
                }) : i.css({
                    visibility: "visible",
                    opacity: this.options.opacity
                })
            }
        },
        hide: function() {
            this.options.fade ? this.tip().stop().fadeOut(function() {
                n(this).remove()
            }) : this.tip().remove()
        },
        getTitle: function() {
            var r = this.$element,
            n = this.options,
            i;
            return t(r),
            n = this.options,
            typeof n.title == "string" ? i = r.attr(n.title == "title" ? "original-title": n.title) : typeof n.title == "function" && (i = n.title.call(r[0])),
            i = ("" + i).replace(/(^\s*|\s*$)/, ""),
            i || n.fallback
        },
        tip: function() {
            return this.$tip || (this.$tip = n('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"/></div>')),
            this.$tip
        },
        validate: function() {
            this.$element[0].parentNode || (this.hide(), this.$element = null, this.options = null)
        },
        enable: function() {
            this.enabled = !0
        },
        disable: function() {
            this.enabled = !1
        },
        toggleEnabled: function() {
            this.enabled = !this.enabled
        }
    },
    n.fn.tipsy = function(t) {
        function r(r) {
            var u = n.data(r, "tipsy");
            return u || (u = new i(r, n.fn.tipsy.elementOptions(r, t)), n.data(r, "tipsy", u)),
            u
        }
        function f() {
            var n = r(this);
            n.hoverState = "in",
            t.delayIn == 0 ? n.show() : setTimeout(function() {
                n.hoverState == "in" && n.show()
            },
            t.delayIn)
        }
        function e() {
            var n = r(this);
            n.hoverState = "out",
            t.delayOut == 0 ? n.hide() : setTimeout(function() {
                n.hoverState == "out" && n.hide()
            },
            t.delayOut)
        }
        if (t === !0) return this.data("tipsy");
        if (typeof t == "string") return this.data("tipsy")[t]();
        if (t = n.extend({},
        n.fn.tipsy.defaults, t), t.live || this.each(function() {
            r(this)
        }), t.trigger != "manual") {
            var u = t.on ? "on": "bind",
            o = t.trigger == "hover" ? "mouseenter": "focus",
            s = t.trigger == "hover" ? "mouseleave": "blur";
            this[u](o, f)[u](s, e)
        }
        return this
    },
    n.fn.tipsy.defaults = {
        delayIn: 0,
        delayOut: 0,
        fade: !1,
        fallback: "",
        gravity: "n",
        html: !1,
        live: !1,
        offset: 0,
        opacity: .8,
        title: "title",
        trigger: "hover"
    },
    n.fn.tipsy.elementOptions = function(t, i) {
        return n.metadata ? n.extend({},
        i, n(t).metadata()) : i
    },
    n.fn.tipsy.autoNS = function() {
        return n(this).offset().top > n(document).scrollTop() + n(window).height() / 2 ? "s": "n"
    },
    n.fn.tipsy.autoWE = function() {
        return n(this).offset().left > n(document).scrollLeft() + n(window).width() / 2 ? "e": "w"
    }
} (jQuery), !
function(n) {
    "function" == typeof define && define.amd ? define(["jquery"], n) : n("object" == typeof module && module.exports ? require("jquery") : jQuery)
} (function(n) {
    function a(t) {
        var i = {},
        r = /^jQuery\d+$/;
        return n.each(t.attributes,
        function(n, t) {
            t.specified && !r.test(t.name) && (i[t.name] = t.value)
        }),
        i
    }
    function u(i, r) {
        var f = this,
        u = n(f);
        if (f.value == u.attr("placeholder") && u.hasClass(t.customClass)) if (u.data("placeholder-password")) {
            if (u = u.hide().nextAll('input[type="password"]:first').show().attr("id", u.removeAttr("id").data("placeholder-id")), i === !0) return u[0].value = r;
            u.focus()
        } else f.value = "",
        u.removeClass(t.customClass),
        f == s() && f.select()
    }
    function e() {
        var r, f = this,
        i = n(f),
        e = this.id;
        if ("" === f.value) {
            if ("password" === f.type) {
                if (!i.data("placeholder-textinput")) {
                    try {
                        r = i.clone().prop({
                            type: "text"
                        })
                    } catch(o) {
                        r = n("<input>").attr(n.extend(a(this), {
                            type: "text"
                        }))
                    }
                    r.removeAttr("name").data({
                        "placeholder-password": i,
                        "placeholder-id": e
                    }).bind("focus.placeholder", u),
                    i.data({
                        "placeholder-textinput": r,
                        "placeholder-id": e
                    }).before(r)
                }
                i = i.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id", e).show()
            }
            i.addClass(t.customClass),
            i[0].value = i.attr("placeholder")
        } else i.removeClass(t.customClass)
    }
    function s() {
        try {
            return document.activeElement
        } catch(n) {}
    }
    var r, i, h = "[object OperaMini]" == Object.prototype.toString.call(window.operamini),
    f = "placeholder" in document.createElement("input") && !h,
    o = "placeholder" in document.createElement("textarea") && !h,
    c = n.valHooks,
    l = n.propHooks,
    t;
    f && o ? (i = n.fn.placeholder = function() {
        return this
    },
    i.input = i.textarea = !0) : (t = {},
    i = n.fn.placeholder = function(i) {
        var o = {
            customClass: "placeholder"
        },
        r;
        return t = n.extend({},
        o, i),
        r = this,
        r.filter((f ? "textarea": ":input") + "[placeholder]").not("." + t.customClass).bind({
            "focus.placeholder": u,
            "blur.placeholder": e
        }).data("placeholder-enabled", !0).trigger("blur.placeholder"),
        r
    },
    i.input = f, i.textarea = o, r = {
        get: function(i) {
            var r = n(i),
            u = r.data("placeholder-password");
            return u ? u[0].value: r.data("placeholder-enabled") && r.hasClass(t.customClass) ? "": i.value
        },
        set: function(i, r) {
            var f = n(i),
            o = f.data("placeholder-password");
            return o ? o[0].value = r: f.data("placeholder-enabled") ? ("" === r ? (i.value = r, i != s() && e.call(i)) : f.hasClass(t.customClass) ? u.call(i, !0, r) || (i.value = r) : i.value = r, f) : i.value = r
        }
    },
    f || (c.input = r, l.value = r), o || (c.textarea = r, l.value = r), n(function() {
        n(document).delegate("form", "submit.placeholder",
        function() {
            var i = n("." + t.customClass, this).each(u);
            setTimeout(function() {
                i.each(e)
            },
            10)
        })
    }), n(window).bind("beforeunload.placeholder",
    function() {
        n("." + t.customClass).each(function() {
            this.value = ""
        })
    }))
}),
function(n) {
    "function" == typeof define && define.amd ? define(["jquery"], n) : n(jQuery)
} (function(n) {
    n.cxCalendar = function() {
        for (var r, f, u, t = {
            dom: {},
            api: {}
        },
        e = function(n) {
            return n && ("function" == typeof HTMLElement || "object" == typeof HTMLElement) && n instanceof HTMLElement ? !0 : n && n.nodeType && 1 === n.nodeType ? !0 : !1
        },
        o = function(n) {
            return n && n.length && ("function" == typeof jQuery || "object" == typeof jQuery) && n instanceof jQuery ? !0 : !1
        },
        s = !+"\v1", h = /^(\d+)[-.](\d+)[-.](\d+)$/, c = /^\d+$/, i = 0, l = arguments.length; i < l; i++) o(arguments[i]) ? r = arguments[i] : e(arguments[i]) ? r = n(arguments[i]) : "function" == typeof arguments[i] ? u = arguments[i] : "object" == typeof arguments[i] && (f = arguments[i]);
        if (! (1 > r.length)) return t.init = function() {
            var t = this;
            t.dom.el = r,
            t.settings = n.extend({},
            n.cxCalendar.defaults, f, {
                startDate: t.dom.el.data("startDate"),
                endDate: t.dom.el.data("endDate"),
                type: t.dom.el.data("type"),
                wday: t.dom.el.data("wday"),
                position: t.dom.el.data("position"),
                baseClass: t.dom.el.data("baseClass"),
                language: t.dom.el.data("language")
            }),
            t.dom.el.val().length && (t.settings.date = s && h.test(t.dom.el.val()) ? t.dom.el.val().replace(/[\.\-]/g, "../default.htm") : t.dom.el.val()),
            t.setOptions(),
            t.build(!0),
            t.api = {
                show: function() {
                    t.show()
                },
                hide: function() {
                    t.hide()
                },
                getDate: function() {
                    return t.getDate.apply(t, arguments)
                },
                setDate: function() {
                    t.setDate.apply(t, arguments)
                },
                gotoDate: function() {
                    t.gotoDate.apply(t, arguments)
                },
                clearDate: function() {
                    t.clearDate()
                },
                setOptions: function() {
                    t.setOptions.apply(t, arguments),
                    t.build()
                }
            },
            "function" == typeof u && u(t.api)
        },
        t.getMonthDay = function(n) {
            return [31, 28 + (0 == n % 4 && 0 != n % 100 || 0 == n % 400 ? 1 : 0), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
        },
        t.formatDate = function(n, t) {
            if ("string" == typeof n && "undefined" !== t) {
                "string" == typeof t && (t = t.replace(/[\.-]/g, "../default.htm"));
                var i = new Date(t),
                f,
                e,
                r,
                o,
                u,
                s,
                h;
                if (!isNaN(i.getTime())) return f = i.getFullYear(),
                e = f.toString(10).slice( - 2),
                r = i.getMonth() + 1,
                o = 10 > r ? "0" + r: r,
                u = i.getDate(),
                s = 10 > u ? "0" + u: u,
                h = i.getTime(),
                i = i.toDateString(),
                n = n.replace(/STRING/g, i),
                n = n.replace(/TIME/g, h),
                n = n.replace(/YYYY/g, f),
                n = n.replace(/YY/g, e),
                n = n.replace(/MM/g, o),
                n = n.replace(/M/g, r),
                n = n.replace(/DD/g, s),
                n = n.replace(/D/g, u)
            }
        },
        t.getLanguage = function(t) {
            return "object" == typeof t ? t: ("string" == typeof t ? t = t.toLowerCase() : "string" == typeof navigator.language ? t = navigator.language.toLowerCase() : "string" == typeof navigator.browserLanguage && (t = navigator.browserLanguage.toLowerCase()), "string" == typeof t && "object" == typeof n.cxCalendar.languages[t] ? n.cxCalendar.languages[t] : n.cxCalendar.languages["default"])
        },
        t.setOptions = function(t) {
            var i;
            if ("object" == typeof t && n.extend(this.settings, t), t = "number" == typeof this.settings.startDate && 9999 >= this.settings.startDate ? new Date(this.settings.startDate, 0, 1) : new Date(this.settings.startDate), i = "number" == typeof this.settings.endDate && 9999 >= this.settings.endDate ? new Date(this.settings.endDate, 11, 31) : new Date(this.settings.endDate), (isNaN(t.getTime()) || isNaN(i.getTime()) || t.getFullYear() > i.getFullYear()) && (t = new Date(n.cxCalendar.defaults.startDate, 0, 1), i = new Date(n.cxCalendar.defaults.endDate, 11, 31)), this.minDate = {
                year: t.getFullYear(),
                month: t.getMonth() + 1,
                time: t.getTime()
            },
            this.maxDate = {
                year: i.getFullYear(),
                month: i.getMonth() + 1,
                time: i.getTime()
            },
            t = "number" == typeof this.settings.date && 9999 >= this.settings.date ? new Date(this.settings.date, 0, 1) : new Date(this.settings.date), isNaN(t.getTime()) && (t = new Date), this.defDate = t.getTime() < this.minDate.time ? n.extend({},
            this.minDate) : t.getTime() > this.maxDate.time ? n.extend({},
            this.maxDate) : {
                year: t.getFullYear(),
                month: t.getMonth() + 1,
                time: t.getTime()
            },
            this.settings.saturday = 6 - this.settings.wday, this.settings.sunday = 7 <= 7 - this.settings.wday ? 0 : 7 - this.settings.wday, this.language = this.getLanguage(this.settings.language), t = this.language.holiday, t = Array.isArray ? Array.isArray(t) : "[object Array]" === Object.prototype.toString.call(t), t && this.language.holiday.length) for (this.holiday = {},
            t = 0, i = this.language.holiday.length; t < i; t++) this.holiday[this.language.holiday[t].day] = this.language.holiday[t].name;
            else this.holiday = !1
        },
        t.build = function(t) {
            var r, i;
            for (!0 === t && (this.dom.pane = n("<div></div>", {
                "class": "cxcalendar"
            }), this.dom.paneHd = n("<div></div>", {
                "class": "cxcalendar_hd"
            }).appendTo(this.dom.pane), this.dom.paneBd = n("<div></div>", {
                "class": "cxcalendar_bd"
            }).appendTo(this.dom.pane), this.dom.paneHd.html('<a class="prev" href="javascript://" rel="prev"></a><a class="next" href="javascript://" rel="next"></a>'), this.dom.dateTxt = n("<div></div>", {
                "class": "intxt"
            }).appendTo(this.dom.paneHd), this.dom.dateSet = n("<div></div>", {
                "class": "inset"
            }).appendTo(this.dom.paneHd), this.dom.yearSet = n("<select></select>", {
                "class": "year"
            }).appendTo(this.dom.dateSet), this.dom.monthSet = n("<select></select>", {
                "class": "month"
            }).appendTo(this.dom.dateSet), this.dom.weekSet = n("<ul></ul>", {
                "class": "week"
            }).appendTo(this.dom.paneBd), this.dom.daySet = n("<ul></ul>", {
                "class": "days"
            }).appendTo(this.dom.paneBd)), r = "", i = this.minDate.year; i <= this.maxDate.year; i++) r += '<option value="' + i + '">' + i + "</option>";
            for (this.dom.yearSet.html(r).val(this.defDate.year), r = "", i = 0; 12 > i; i++) r += '<option value="' + (i + 1) + '">' + this.language.monthList[i] + "</option>";
            for (this.dom.monthSet.html(r).val(this.defDate.month), r = "", i = 0; 7 > i; i++) r += "<li",
            i === this.settings.saturday ? r += ' class="sat"': i === this.settings.sunday && (r += ' class="sun"'),
            r += ">",
            r += 7 > i + this.settings.wday ? this.language.weekList[i + this.settings.wday] : this.language.weekList[i + this.settings.wday - 7],
            r += "</li>";
            this.dom.weekSet.html(r),
            "string" == typeof this.settings.baseClass && (this.dom.pane.attr("class", "cxcalendar"), this.dom.pane.addClass(this.settings.baseClass)),
            this.gotoDate(this.defDate.year, this.defDate.month),
            !0 === t && (this.dom.pane.appendTo("body"), this.dom.blockBg = n("<div></div>", {
                "class": "cxcalendar_lock"
            }).appendTo("body"), this.bindEvents())
        },
        t.bindEvents = function() {
            var t = this;
            t.dom.el.on("click",
            function() {
                t.show()
            });
            t.dom.blockBg.on("click",
            function() {
                t.hide()
            });
            t.dom.dateTxt.on("click",
            function() {
                t.dom.dateTxt.hide(),
                t.dom.dateSet.show()
            });
            t.dom.yearSet.on("change",
            function() {
                t.gotoDate(parseInt(t.dom.yearSet.val(), 10), parseInt(t.dom.monthSet.val(), 10))
            });
            t.dom.monthSet.on("change",
            function() {
                t.gotoDate(parseInt(t.dom.yearSet.val(), 10), parseInt(t.dom.monthSet.val(), 10))
            });
            t.dom.pane.on("click", "a",
            function() {
                switch (this.rel) {
                case "prev":
                    return t.gotoDate(parseInt(t.dom.yearSet.val(), 10), parseInt(t.dom.monthSet.val(), 10) - 1),
                    !1;
                case "next":
                    return t.gotoDate(parseInt(t.dom.yearSet.val(), 10), parseInt(t.dom.monthSet.val(), 10) + 1),
                    !1
                }
            });
            t.dom.daySet.on("click", "li",
            function() {
                var i = n(this);
                i.hasClass("del") || t.setDate(i.data("year"), i.data("month"), i.data("day"))
            })
        },
        t.rebulidMonthSelect = function(n, t) {
            for (var u = t || 12,
            r = "",
            i = n || 1; i <= u; i++) r += '<option value="' + i + '">' + this.language.monthList[i - 1] + "</option>";
            this.dom.monthSet.html(r)
        },
        t.show = function() {
            var i = this.settings.position,
            c = document.body.clientWidth,
            h = document.body.clientHeight,
            e = this.dom.pane.outerWidth(),
            r = this.dom.pane.outerHeight(),
            n = this.dom.el.offset().top,
            t = this.dom.el.offset().left,
            s = this.dom.el.outerWidth(),
            u = this.dom.el.outerHeight(),
            f = n + r + u > h ? n - r: n + u,
            o = t + e > c ? t - e - s: t;
            if ("string" == typeof i && i.length) switch (i) {
            case "top":
                f = n - r;
                break;
            case "topLeft":
            case "topRight":
                f = n - r,
                o = "topLeft" === i ? t - e + s: t;
                break;
            case "bottom":
                f = n + u;
                break;
            case "bottomLeft":
            case "bottomRight":
                f = n + u,
                o = "bottomLeft" === i ? t - e + s: t;
                break;
            case "left":
            case "right":
                f = n + r + u > h ? n + u - r: n,
                o = "left" === i ? t - e: t + s;
                break;
            case "leftTop":
            case "leftBottom":
                f = "leftTop" === i ? n + u - r: n,
                o = t - e;
                break;
            case "rightTop":
            case "rightBottom":
                f = "rightTop" === i ? n + u - r: n,
                o = t + s
            }
            this.dom.dateTxt.html('<span class="y">' + this.dom.yearSet.val() + '</span><span class="m">' + this.language.monthList[this.dom.monthSet.val() - 1] + "</span>"),
            this.dom.pane.css({
                top: f,
                left: o
            }).show(),
            this.dom.blockBg.css({
                width: c,
                height: h
            }).show()
        },
        t.hide = function() {
            this.dom.pane.hide(),
            this.dom.blockBg.hide(),
            this.dom.dateSet.hide(),
            this.dom.dateTxt.show()
        },
        t.getDate = function(n) {
            var t = this.dom.el.val();
            return t.length && (t = "string" == typeof n ? this.formatDate(n, t) : this.formatDate(this.settings.type, t)),
            t
        },
        t.gotoDate = function(n, t) {
            var e, u, s;
            e = "number" == typeof n && 9999 >= n && "number" == typeof t ? new Date(n, t - 1, 1) : new Date(n),
            u = e.getFullYear(),
            s = e.getMonth() + 1,
            _theTime = e.getTime(),
            u < this.minDate.year || u <= this.minDate.year && s < this.minDate.month ? (u = this.minDate.year, s = this.minDate.month) : (u > this.maxDate.year || u >= this.maxDate.year && s > this.maxDate.month) && (u = this.maxDate.year, s = this.maxDate.month),
            u === this.minDate.year && u === this.maxDate.year ? this.rebulidMonthSelect(this.minDate.month, this.maxDate.month) : u === this.minDate.year ? this.rebulidMonthSelect(this.minDate.month, 12) : u === this.maxDate.year ? this.rebulidMonthSelect(1, this.maxDate.month) : this.rebulidMonthSelect(),
            e = s - 1;
            var y = this.getMonthDay(u),
            v = new Date(u, e, 1),
            b = new Date,
            tt = b.getFullYear(),
            nt = b.getMonth() + 1,
            b = b.getDate(),
            a = this.dom.el.val(),
            l,
            k,
            d,
            g;
            a.length && (c.test(a) && (a = parseInt(a, 10)), l = new Date(a), isNaN(l.getTime()) || (k = l.getFullYear(), d = l.getMonth() + 1, g = l.getDate())),
            v = v.getDay() - this.settings.wday,
            0 > v && (v += 7);
            for (var a = 7 * Math.ceil((y[e] + v) / 7), i, o, r, h, f, p = "", w = 0; w < a; w++) f = [],
            o = u,
            r = s,
            i = w - v + 1,
            0 >= i ? (f.push("other"), 1 >= r ? (o--, r = 12, i = y[11] + i) : (r--, i = y[e - 1] + i)) : i > y[e] && (f.push("other"), 12 <= r ? (o++, r = 1, i -= y[0]) : (r++, i -= y[e])),
            h = +new Date(o, r - 1, i),
            "object" == typeof l && o === k && r === d && i === g ? f.push("selected") : o === tt && r === nt && i === b && f.push("now"),
            w % 7 === this.settings.saturday ? f.push("sat") : w % 7 === this.settings.sunday && f.push("sun"),
            (h < this.minDate.time || h > this.maxDate.time) && f.push("del"),
            this.holiday ? "string" == typeof this.holiday["M" + r + "-" + i] ? (f.push("holiday"), h = this.holiday["M" + r + "-" + i]) : "string" == typeof this.holiday["D" + o + "-" + r + "-" + i] ? (f.push("holiday"), h = this.holiday["D" + o + "-" + r + "-" + i]) : h = o + "-" + r + "-" + i: h = o + "-" + r + "-" + i,
            p += "<li",
            f.length && (p += ' class="' + f.join(" ") + '"'),
            p += ' title="' + h + '"',
            p += ' data-year="' + o + '" data-month="' + r + '" data-day="' + i + '">' + i + "</li>";
            return this.dom.daySet.html(p),
            this.dom.dateTxt.html('<span class="y">' + u + '</span><span class="m">' + this.language.monthList[e] + "</span>"),
            this.dom.yearSet.val(u),
            this.dom.monthSet.val(s),
            this
        },
        t.setDate = function(n, t, i) {
            i = "number" == typeof n && 9999 >= n && "number" == typeof t && "number" == typeof i ? new Date(n, t - 1, i) : new Date(n),
            isNaN(i.getTime()) || (n = i.getFullYear(), t = i.getMonth() + 1, _todayTime = i.getTime(), i = this.formatDate(this.settings.type, _todayTime), this.dom.el.val(i).trigger("change"), this.hide(), this.gotoDate(n, t))
        },
        t.clearDate = function() {
            this.dom.el.val(""),
            this.hide()
        },
        t.init(),
        this
    },
    n.cxCalendar.defaults = {
        startDate: 1950,
        endDate: 2030,
        date: void 0,
        type: "YYYY-MM-DD",
        wday: 0,
        position: void 0,
        baseClass: void 0,
        language: void 0
    },
    n.cxCalendar.languages = {
        "default": {
            monthList: "1 2 3 4 5 6 7 8 9 10 11 12".split(" "),
            weekList: "日一二三四五六".split(""),
            holiday: []
        }
    },
    n.fn.cxCalendar = function(t, i) {
        return this.each(function() {
            n.cxCalendar(this, t, i)
        }),
        this
    }
}),
function(n) {
    n.fly = function(t, i) {
        var u = {
            version: "1.0.0",
            autoPlay: !0,
            vertex_Rtop: 20,
            speed: 1.2,
            start: {},
            end: {},
            onEnd: n.noop
        },
        r = n(t);
        this.init = function(n) {
            this.setOptions(n),
            this.settings.autoPlay && this.play()
        },
        this.setOptions = function(t) {
            var f, i, e;
            t = this.settings = n.extend(!0, {},
            u, t),
            f = t.start,
            i = t.end,
            r.css({
                marginTop: "0px",
                marginLeft: "0px",
                position: "fixed"
            }).appendTo("body"),
            null != i.width && null != i.height && n.extend(!0, f, {
                width: r.width(),
                height: r.height()
            }),
            e = Math.min(f.top, i.top) - Math.abs(f.left - i.left) / 3,
            e < t.vertex_Rtop && (e = Math.min(t.vertex_Rtop, Math.min(f.top, i.top)));
            var o = Math.sqrt(Math.pow(f.top - i.top, 2) + Math.pow(f.left - i.left, 2)),
            o = Math.ceil(Math.min(Math.max(Math.log(o) / .05 - 75, 30), 100) / t.speed),
            s = f.top == e ? 0 : -Math.sqrt((i.top - e) / (f.top - e)),
            f = (s * f.left - i.left) / (s - 1),
            i = i.left == f ? 0 : (i.top - e) / Math.pow(i.left - f, 2);
            n.extend(!0, t, {
                count: -1,
                steps: o,
                vertex_left: f,
                vertex_top: e,
                curvature: i
            })
        },
        this.play = function() {
            this.move()
        },
        this.move = function() {
            var t = this.settings,
            i = t.start,
            f = t.count,
            e = t.steps,
            u = t.end,
            s = i.left + (u.left - i.left) * f / e,
            c = 0 == t.curvature ? i.top + (u.top - i.top) * f / e: t.curvature * Math.pow(s - t.vertex_left, 2) + t.vertex_top;
            if (null != u.width && null != u.height) {
                var o = e / 2,
                h = u.width - (u.width - i.width) * Math.cos(f < o ? 0 : (f - o) / (e - o) * Math.PI / 2),
                i = u.height - (u.height - i.height) * Math.cos(f < o ? 0 : (f - o) / (e - o) * Math.PI / 2);
                r.css({
                    width: h + "px",
                    height: i + "px",
                    "font-size": Math.min(h, i) + "px"
                })
            }
            r.css({
                left: s + "px",
                top: c + "px"
            }),
            t.count++,
            s = window.requestAnimationFrame(n.proxy(this.move, this)),
            f == e && (window.cancelAnimationFrame(s), t.onEnd.apply(this))
        },
        this.destory = function() {
            r.remove()
        },
        this.init(i)
    },
    n.fn.fly = function(t) {
        return this.each(function() {
            void 0 == n(this).data("fly") && n(this).data("fly", new n.fly(this, t))
        })
    }
} (jQuery),
 (jQuery),
function(n) {
    n.fn.dragsort = function(t) {
        var r = n.extend({},
        n.fn.dragsort.defaults, t),
        u = [],
        i = null,
        f = null;
        return this.selector && n("head").append("<style type='text/css'>" + (this.selector.split(",").join(" " + r.dragSelector + ",") + " " + r.dragSelector) + " { cursor: pointer; }</style>"),
        this.each(function(t, e) {
            n(e).is("table") && n(e).children().size() == 1 && n(e).children().is("tbody") && (e = n(e).children().get(0));
            var o = {
                draggedItem: null,
                placeHolderItem: null,
                pos: null,
                offset: null,
                offsetLimit: null,
                scroll: null,
                container: e,
                init: function() {
                    n(this.container).attr("data-listIdx", t).mousedown(this.grabItem).find(r.dragSelector).css("cursor", "pointer"),
                    n(this.container).children(r.itemSelector).each(function(t) {
                        n(this).attr("data-itemIdx", t)
                    })
                },
                grabItem: function(t) {
                    var f, e, o;
                    if (! (t.which != 1 || n(t.target).is(r.dragSelectorExclude))) {
                        for (f = t.target; ! n(f).is("[data-listIdx='" + n(this).attr("data-listIdx") + "'] " + r.dragSelector);) {
                            if (f == this) return;
                            f = f.parentNode
                        }
                        return i != null && i.draggedItem != null && i.dropItem(),
                        n(t.target).css("cursor", "move"),
                        i = u[n(this).attr("data-listIdx")],
                        i.draggedItem = n(f).closest(r.itemSelector),
                        f = parseInt(i.draggedItem.css("marginTop")),
                        e = parseInt(i.draggedItem.css("marginLeft")),
                        i.offset = i.draggedItem.offset(),
                        i.offset.top = t.pageY - i.offset.top + (isNaN(f) ? 0 : f) - 1,
                        i.offset.left = t.pageX - i.offset.left + (isNaN(e) ? 0 : e) - 1,
                        r.dragBetween || (f = n(i.container).outerHeight() == 0 ? Math.max(1, Math.round(.5 + n(i.container).children(r.itemSelector).size() * i.draggedItem.outerWidth() / n(i.container).outerWidth())) * i.draggedItem.outerHeight() : n(i.container).outerHeight(), i.offsetLimit = n(i.container).offset(), i.offsetLimit.right = i.offsetLimit.left + n(i.container).outerWidth() - i.draggedItem.outerWidth(), i.offsetLimit.bottom = i.offsetLimit.top + f - i.draggedItem.outerHeight()),
                        f = i.draggedItem.height(),
                        e = i.draggedItem.width(),
                        o = i.draggedItem.attr("style"),
                        i.draggedItem.attr("data-origStyle", o ? o: ""),
                        r.itemSelector == "tr" ? (i.draggedItem.children().each(function() {
                            n(this).width(n(this).width())
                        }), i.placeHolderItem = i.draggedItem.clone().attr("data-placeHolder", !0), i.draggedItem.after(i.placeHolderItem), i.placeHolderItem.children().each(function() {
                            n(this).css({
                                borderWidth: 0,
                                width: n(this).width() + 1,
                                height: n(this).height() + 1
                            }).html("&nbsp;")
                        })) : (i.draggedItem.after(r.placeHolderTemplate), i.placeHolderItem = i.draggedItem.next().css({
                            height: f,
                            width: e
                        }).attr("data-placeHolder", !0)),
                        i.draggedItem.css({
                            position: "absolute",
                            opacity: .8,
                            "z-index": 999,
                            height: f,
                            width: e
                        }),
                        n(u).each(function(n, t) {
                            t.createDropTargets(),
                            t.buildPositionTable()
                        }),
                        i.scroll = {
                            moveX: 0,
                            moveY: 0,
                            maxX: n(document).width() - n(window).width(),
                            maxY: n(document).height() - n(window).height()
                        },
                        i.scroll.scrollY = window.setInterval(function() {
                            if (r.scrollContainer != window) n(r.scrollContainer).scrollTop(n(r.scrollContainer).scrollTop() + i.scroll.moveY);
                            else {
                                var t = n(r.scrollContainer).scrollTop(); (i.scroll.moveY > 0 && t_3Ci.scroll.maxY || i.scroll.moveY < 0 && t > 0) && (n(r.scrollContainer).scrollTop(t + i.scroll.moveY), i.draggedItem.css("top", i.draggedItem.offset().top + i.scroll.moveY + 1))
                            }
                        },
                        10),
                        i.scroll.scrollX = window.setInterval(function() {
                            if (r.scrollContainer != window) n(r.scrollContainer).scrollLeft(n(r.scrollContainer).scrollLeft() + i.scroll.moveX);
                            else {
                                var t = n(r.scrollContainer).scrollLeft(); (i.scroll.moveX > 0 && t_3Ci.scroll.maxX || i.scroll.moveX < 0 && t > 0) && (n(r.scrollContainer).scrollLeft(t + i.scroll.moveX), i.draggedItem.css("left", i.draggedItem.offset().left + i.scroll.moveX + 1))
                            }
                        },
                        10),
                        i.setPos(t.pageX, t.pageY),
                        n(document).bind("selectstart", i.stopBubble),
                        n(document).bind("mousemove", i.swapItems),
                        n(document).bind("mouseup", i.dropItem),
                        r.scrollContainer != window && n(window).bind("DOMMouseScroll mousewheel", i.wheel),
                        !1
                    }
                },
                setPos: function(t, u) {
                    var e = u - this.offset.top,
                    o = t - this.offset.left,
                    s, f;
                    r.dragBetween || (e = Math.min(this.offsetLimit.bottom, Math.max(e, this.offsetLimit.top)), o = Math.min(this.offsetLimit.right, Math.max(o, this.offsetLimit.left))),
                    this.draggedItem.parents().each(function() {
                        if (n(this).css("position") != "static" && (!n.browser.mozilla || n(this).css("display") != "table")) {
                            var t = n(this).offset();
                            return e -= t.top,
                            o -= t.left,
                            !1
                        }
                    }),
                    r.scrollContainer == window ? (u -= n(window).scrollTop(), t -= n(window).scrollLeft(), u = Math.max(0, u - n(window).height() + 5) + Math.min(0, u - 5), t = Math.max(0, t - n(window).width() + 5) + Math.min(0, t - 5)) : (s = n(r.scrollContainer), f = s.offset(), u = Math.max(0, u - s.height() - f.top) + Math.min(0, u - f.top), t = Math.max(0, t - s.width() - f.left) + Math.min(0, t - f.left)),
                    i.scroll.moveX = t == 0 ? 0 : t * r.scrollSpeed / Math.abs(t),
                    i.scroll.moveY = u == 0 ? 0 : u * r.scrollSpeed / Math.abs(u),
                    this.draggedItem.css({
                        top: e,
                        left: o
                    })
                },
                wheel: function(t) {
                    if ((n.browser.safari || n.browser.mozilla) && i && r.scrollContainer != window) {
                        var f = n(r.scrollContainer),
                        u = f.offset();
                        t.pageX > u.left && t.pageX_3Cu.left + f.width() && t.pageY > u.top && t.pageY < u.top + f.height() && (u = t.detail ? t.detail * 5 : t.wheelDelta / -2, f.scrollTop(f.scrollTop() + u), t.preventDefault())
                    }
                },
                buildPositionTable: function() {
                    var i = this.draggedItem == null ? null: this.draggedItem.get(0),
                    t = [];
                    n(this.container).children(r.itemSelector).each(function(r, u) {
                        if (u != i) {
                            var f = n(u).offset();
                            f.right = f.left + n(u).width(),
                            f.bottom = f.top + n(u).height(),
                            f.elm = u,
                            t.push(f)
                        }
                    }),
                    this.pos = t
                },
                dropItem: function() {
                    if (i.draggedItem != null) {
                        n(i.container).find(r.dragSelector).css("cursor", "pointer"),
                        i.placeHolderItem.before(i.draggedItem),
                        i.draggedItem.attr("style", i.draggedItem.attr("data-origStyle")).removeAttr("data-origStyle"),
                        i.placeHolderItem.remove(),
                        n("[data-dropTarget]").remove(),
                        window.clearInterval(i.scroll.scrollY),
                        window.clearInterval(i.scroll.scrollX);
                        var t = !1;
                        return n(u).each(function() {
                            n(this.container).children(r.itemSelector).each(function(i) {
                                parseInt(n(this).attr("data-itemIdx")) != i && (t = !0, n(this).attr("data-itemIdx", i))
                            })
                        }),
                        t && r.dragEnd.apply(i.draggedItem),
                        i.draggedItem = null,
                        n(document).unbind("selectstart", i.stopBubble),
                        n(document).unbind("mousemove", i.swapItems),
                        n(document).unbind("mouseup", i.dropItem),
                        r.scrollContainer != window && n(window).unbind("DOMMouseScroll mousewheel", i.wheel),
                        !1
                    }
                },
                stopBubble: function() {
                    return ! 1
                },
                swapItems: function(t) {
                    if (i.draggedItem == null) return ! 1;
                    i.setPos(t.pageX, t.pageY);
                    for (var e = i.findPos(t.pageX, t.pageY), o = i, s = 0; e == -1 && r.dragBetween && s < u.length; s++) e = u[s].findPos(t.pageX, t.pageY),
                    o = u[s];
                    return e == -1 || n(o.pos[e].elm).attr("data-placeHolder") ? !1 : (f == null || f.top > i.draggedItem.offset().top || f.left > i.draggedItem.offset().left ? n(o.pos[e].elm).before(i.placeHolderItem) : n(o.pos[e].elm).after(i.placeHolderItem), n(u).each(function(n, t) {
                        t.createDropTargets(),
                        t.buildPositionTable()
                    }), f = i.draggedItem.offset(), !1)
                },
                findPos: function(n, t) {
                    for (var i = 0; i < this.pos.length; i++) if (this.pos[i].left < n && this.pos[i].right > n && this.pos[i].top < t && this.pos[i].bottom > t) return i;
                    return - 1
                },
                createDropTargets: function() {
                    r.dragBetween && n(u).each(function() {
                        var r = n(this.container).find("[data-placeHolder]"),
                        t = n(this.container).find("[data-dropTarget]");
                        r.size() > 0 && t.size() > 0 ? t.remove() : r.size() == 0 && t.size() == 0 && n(this.container).append(i.placeHolderItem.clone().removeAttr("data-placeHolder").attr("data-dropTarget", !0))
                    })
                }
            };
            o.init(),
            u.push(o)
        }),
        this
    },
    n.fn.dragsort.defaults = {
        itemSelector: "li",
        dragSelector: "li",
        dragSelectorExclude: "input, textarea, a[href]",
        dragEnd: function() {},
        dragBetween: !1,
        placeHolderTemplate: "<li>&nbsp;</li>",
        scrollContainer: window,
        scrollSpeed: 5
    }
} (jQuery),
function(n) {
    var i = "tpui",
    t = "tp-ui",
    h = "icon-",
    r, u, f, e, o, s;
    n.tpUI = {
        _base: {},
        _vendors: ["ms", "moz", "webkit", "o"],
        _agent: function() {
            return r !== undefined ? r: r = navigator.userAgent.toLowerCase()
        },
        _device: function() {
            if (f !== undefined) return f;
            var t = this,
            n = t._agent();
            return $d = {},
            $d.u = n,
            $d.os = {
                name: null,
                version: null
            },
            $d.screenWidth = window.screen.width,
            $d.screenHeight = window.screen.height,
            $d.avaWidth = window.screen.availWidth,
            $d.avalHeight = window.screen.availHeight,
            $d.pageWidth = document.documentElement.clientWidth,
            $d.pageHeight = document.documentElement.clientHeight,
            $d.core = "",
            $d.mobile = t._isMobile(),
            $d.ios = n.indexOf("iphone os") > -1,
            $d.android = n.match(/(Android)/i),
            $d.iPhone = n.match(/(iPhone|ios)/i),
            $d.iPad = n.match(/(iPad|ios)/i),
            $d.webApp = n.indexOf("safari") == -1 || n.indexOf("mobile safari") == -1,
            f = $d
        },
        _isIE: function() {
            return e !== undefined ? e: e = this._agent().indexOf("msie") > -1 ? !0 : !1
        },
        _isMobile: function() {
            return o !== undefined ? o: o = navigator.userAgent.match(/(iPhone|iPod|Android|ios|SymbianOS)/i)
        },
        _isWebApp: function() {
            return s !== undefined ? s: s = this._agent().indexOf("webapp") > -1 ? !0 : !1
        },
        _obj: function(t, i) {
            var r = n.type(t) !== "object" ? n(t) : t;
            return i && i == !0 ? r[0] : r
        },
        _intRevise: function(n, t, i, r) {
            return n = parseFloat(n),
            t = t !== undefined ? parseFloat(t) : null,
            i = i !== undefined ? parseFloat(i) : null,
            r = r || !1,
            n = t !== null && n <= t ? r && i !== null ? i: t: n,
            n = i !== null && n >= i ? r && i !== null ? i: i: n
        },
        _valParse: function(n) {
            var t = {},
            n = n ? n.split(",") : [0],
            i = n.length;
            switch (i) {
            case 4:
                t = {
                    top: parseInt(n[0]),
                    right: parseInt(n[1]),
                    bottom: parseInt(n[2]),
                    left: parseInt(n[3])
                };
                break;
            case 3:
                t = {
                    top: parseInt(n[0]),
                    right: parseInt(n[1]),
                    bottom: parseInt(n[2]),
                    left: parseInt(n[1])
                };
                break;
            case 2:
                t = {
                    top: parseInt(n[0]),
                    right: parseInt(n[1]),
                    bottom: parseInt(n[0]),
                    left: parseInt(n[1])
                };
            default:
                t = {
                    top: parseInt(n[0]),
                    right: parseInt(n[0]),
                    bottom: parseInt(n[0]),
                    left: parseInt(n[0])
                }
            }
            return t
        },
        _decPlaces: function(n, t) {
            var n = n.toString().split("."),
            t = t || 0;
            return n[1] ? n[1].length: parseInt(t)
        },
        _interval: function(t, i, r) {
            return t = parseFloat(t),
            isNaN(t) && (t = 0),
            n.isNumeric(i) && t <= i && (t = i),
            n.isNumeric(r) && t >= r && (t = r),
            t
        },
        _dimensions: function(t) {
            var i = t[0];
            return i.nodeType === 9 ? {
                width: t.width(),
                height: t.height(),
                offset: {
                    top: 0,
                    left: 0
                }
            }: n.isWindow(i) ? {
                width: t.width(),
                height: t.height(),
                offset: {
                    top: t.scrollTop(),
                    left: t.scrollLeft()
                }
            }: i.preventDefault ? {
                width: 0,
                height: 0,
                offset: {
                    top: t.pageY,
                    left: t.pageX
                }
            }: {
                width: t.outerWidth(),
                height: t.outerHeight(),
                offset: t.offset()
            }
        },
        _scrollbarWidth: function() {
            if (u !== undefined) return u;
            var r = 0,
            i = 0,
            t = {};
            return t.base = n("<div>").css({
                display: "block",
                position: "absolute",
                width: "50px",
                height: "50px",
                overflow: "hidden"
            }).appendTo(n("body")),
            t.sub = n("<div>").css({
                width: "auto",
                height: "100px"
            }).appendTo(t.base),
            r = t.sub[0].offsetWidth,
            t.base.css("overflow", "scroll"),
            i = t.sub[0].offsetWidth,
            r === i && (i = t.base[0].clientWidth),
            t.base.remove(),
            u = r - i
        },
        _mousePoint: function(n, t) {
            var u = this,
            f = u._obj(n),
            n = u._obj(n, !0),
            i = f.width(),
            r = f.height(),
            e = (t.pageX - n.offsetLeft - i / 2) * (i > r ? r / i: 1),
            o = (t.pageY - n.offsetTop - r / 2) * (r > i ? i / r: 1);
            return Math.round((Math.atan2(o, e) * (180 / Math.PI) + 180) / 90 + 3) % 4
        },
        _event: function(n, t) {
            return n.originalEvent.touches ? (n = n.originalEvent, t !== undefined ? n.touches[t] || n.changedTouches[t] : n.touches) : n
        },
        _windowLock: function(t) {
            var u = this._scrollbarWidth(),
            i = n("body"),
            r = n("html"),
            f = n(window),
            t = t || !1,
            e = this._dimensions(f);
            t ? (i.css({
                overflow: "hidden"
            }), r.css({
                "margin-left": 0 - u,
                overflow: "hidden"
            })) : (i.css({
                overflow: "auto"
            }), r.css({
                "margin-left": 0,
                overflow: "auto"
            }))
        },
        _isInWindow: function(t, i) {
            var c = n(window),
            f = this._obj(t),
            u = this._dimensions(c),
            r = this._dimensions(f),
            l = !!(r.width || r.height) && f.css("display") !== "none";
            if (!l) return ! 1;
            var e = u.offset.left,
            o = u.offset.top,
            s = r.offset.left,
            h = r.offset.top;
            return i = n.extend({
                top: 0,
                left: 0
            },
            i),
            h + r.height >= o && h - i.top <= o + u.height && s + r.width >= e && s - i.left <= e + u.width
        },
        _animationFrame: function() {
            for (var i = 0,
            t = this._vendors,
            n = 0; n < t.length && !window.requestAnimationFrame; ++n) window.requestAnimationFrame = window[t[n] + "RequestAnimationFrame"],
            window.cancelAnimationFrame = window[t[n] + "CancelAnimationFrame"] || window[t[n] + "CancelRequestAnimationFrame"];
            window.requestAnimationFrame || (window.requestAnimationFrame = function(n) {
                var t = +new Date,
                r = Math.max(0, 16 - (t - i)),
                u = null;
                return i = t + r,
                window.setTimeout(function() {
                    n(i)
                },
                r)
            }),
            window.cancelAnimationFrame || (window.cancelAnimationFrame = function(n) {
                return clearTimeout(n)
            })
        },
        _uiItem: function() {
            return n("<div>").addClass(t + "-item")
        },
        _uiSub: function() {
            return n("<div>").addClass(t + "-sub")
        },
        _uiRefer: function() {
            return n("<div>").addClass(t + "-refer")
        },
        _uiHide: function() {
            return n("<div>").addClass(t + "-hide")
        },
        _uiMask: function() {
            return n("<div>").addClass(t + "-mask")
        },
        _uiClear: function() {
            return n("<div>").addClass(t + "-clear")
        },
        _uiForm: function() {
            return this._uiItem().addClass(t + "-forminput")
        },
        _uiIcon: function() {
            return n("<div>").addClass(t + "-icon").append("<i>&nbsp;</i>")
        },
        _uiHandle: function(i) {
            return n("<div>").addClass(t + "-sub " + t + "-handle").append("<span><em>" + i || "</em></span>")
        },
        _uiHandleLink: function(i) {
            return n("<div>").addClass(t + "-sub " + t + "-handle-link").append('<a href="javascript:void(0);"><em>' + i + "</em></a>")
        },
        _uiHandleButton: function(i) {
            return n("<div>").addClass(t + "-sub " + t + "-handle-button").append('<button type="button"><em>' + i + "</em></button>")
        },
        _uiImage: function(n, t) {
            return '<img src="' + n + '" alt="' + (t || "") + '" />'
        },
        _icon: function(i, r) {
            var u = this;
            r = r || i,
            n.each([null, "before", "after"],
            function(n, f) {
                var o = f ? "data-icon-": "data-icon",
                e = f ? f: "",
                s = i.attr(o + e) || null,
                h = i.attr(o + e + "-patch") || null,
                f = f || "base"; (s || h) && ($thisIcon = u._iconSet(f, s, h), e == "before" ? r.before($thisIcon).addClass(t + "-iconat-" + f) : r.after($thisIcon).addClass(t + "-iconat-" + f))
            })
        },
        _iconSet: function(n, i, r) {
            var u = this._uiIcon().addClass(t + "-icon-" + n);
            return i && u.addClass(h + i),
            r && u.empty().append(this._uiImage(r, n)),
            u
        },
        _gadgets: function(t, r, u) {
            var f = i + t,
            o = this,
            u = {},
            e = {};
            if (!n.isFunction(n[f])) {
                n.error("$." + f + "() 不存在!");
                return
            }
            u = u ? n[f].prototype: n[f],
            e = u._option || {},
            n.fn[f] = function(t, i) {
                var o = typeof t == "string",
                u = o ? n.extend({},
                e) : n.extend({},
                e, t);
                return this.each(function(e, s) {
                    if (n(s).get(0)) {
                        var c = n(s),
                        h = n.data(this, f);
                        o ? (h || (h = n.data(this, f, new r(c, u))), h._init && h._init(e), h.$this.trigger(t, i)) : (h ? h._optionSet ? n.data(this, f, h._optionSet(u)) : "": n.data(this, f, new r(c, u)), h = n.data(this, f), h._init && h._init(e))
                    }
                })
            }
        }
    },
    n.tpUI._animationFrame(),
    n.tpuiBacktop = function(t, i) {
        return this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(t),
        this.$document = n("html,body"),
        this.options = i,
        this.name = "backtop",
        this._uiEvent(),
        this
    },
    n.tpuiBacktop.prototype = {
        _option: {
            speed: 600,
            easing: "swing",
            onBacktop: n.noop,
            version: "1.0"
        },
        _uiEvent: function() {
            var n = this;
            this.$this.on({
                "click.backtop": function(t) {
                    t.preventDefault(),
                    n._run()
                }
            })
        },
        _run: function() {
            var t = this,
            n = this.options,
            i = n.speed,
            r = n.easing,
            u = n.onBacktop;
            this.$document.stop(!0, !0).animate({
                scrollTop: 0
            },
            i, r,
            function() {
                u.apply(t)
            })
        }
    },
    n.tpUI._gadgets("Backtop", n.tpuiBacktop, n.tpuiBacktop.prototype),
    n.tpuiAnimation = {
        _animateEnd: "webkitAnimationEnd mozAnimationEnd MSAnimationEnd oAnimationEnd animationEnd",
        _item: {
            animate: null,
            callback: n.noop
        }
    },
    n.fn[i + "Animation"] = function(t, i) {
        var f = this,
        r = n.tpuiAnimation,
        u = n.extend(!0, {},
        r._item, {
            animate: t,
            callback: i
        });
        return this.each(function() {
            var i = n(this),
            t = u.animate,
            f = u.callback;
            i.removeClass(t).addClass(t).one(r._animateEnd,
            function() {
                i.removeClass(t),
                f.apply(this)
            })
        })
    },
    n.tpuiPosition = function(i, r) {
        return this.$ui = this._ui,
        this.$this = this.$ui._obj(i),
        this.thisClass = t + "-" + this._name,
        this.typeClass = this.$this.attr("data-type") || "base",
        this.options = r,
        this.$this = this.$ui._obj(i),
        this.$refer = this.options.of ? this.$ui._obj(this.options.of) : n(window),
        this._uiEvent(),
        this
    },
    n.tpuiPosition.prototype = {
        _ui: n.tpUI || {},
        _name: "position",
        _dataName: i + "Position",
        _option: {
            of: null,
            my: "left,top",
            at: "left,top",
            offset: null,
            speed: 600,
            easing: "swing",
            flip: "none",
            onFlip: n.noop,
            onRever: n.noop,
            onMoveEnd: n.noop,
            version: "2.0"
        },
        _init: function() {
            this._position()
        },
        _uiEvent: function() {
            var t = this;
            this.$this.on({
                _to: function(n, i) {
                    var u = {},
                    r = i ? i.split(",").slice(0, 2) : null;
                    r && (u.x = r[0], u.y = r[1]),
                    t._slideTo()
                },
                _update: function() {
                    t._position()
                }
            })
        },
        _position: function() {
            this.thisSize = this.$ui._dimensions(this.$this),
            this.referSize = this.$ui._dimensions(this.$refer),
            this.offSet = this.$ui._valParse(this.options.offset || 0),
            this._operation(),
            this._moveTo()
        },
        _operation: function() {
            var n = this,
            r = this.options,
            t = r.at.split(/[^a-z]/).slice(0, 2),
            i = r.my.split(/[^a-z]/).slice(0, 2);
            t[0] = t[0] || "left",
            t[1] = t[1] || "top",
            i[0] = i[0] || "left",
            i[1] = i[1] || "top";
            switch (i[0]) {
            case "center":
                n.thisMyLeft = n.thisSize.width / 2;
                break;
            case "right":
                n.thisMyLeft = n.thisSize.width;
                break;
            case "left":
            default:
                n.thisMyLeft = 0
            }
            switch (i[1]) {
            case "middle":
                n.thisMyTop = n.thisSize.height / 2;
                break;
            case "bottom":
                n.thisMyTop = n.thisSize.height;
                break;
            case "top":
            default:
                n.thisMyTop = 0
            }
            switch (t[0]) {
            case "center":
                n.thisAtLeft = n.referSize.width / 2,
                n.thisAtLeft -= n.thisMyLeft,
                n.thisAtLeft += n.referSize.offset.left;
                break;
            case "right":
                n.thisAtLeft = n.referSize.width,
                n.thisAtLeft += n.thisMyLeft,
                n.thisAtLeft += n.referSize.offset.left;
                break;
            case "left":
            default:
                n.thisAtLeft = n.referSize.width,
                n.thisAtLeft -= n.thisMyLeft,
                n.thisAtLeft += n.referSize.offset.left
            }
            switch (t[1]) {
            case "middle":
                n.thisAtTop = n.referSize.height / 2,
                n.thisAtTop -= n.thisMyTop,
                n.thisAtTop += n.referSize.offset.top;
                break;
            case "bottom":
                n.thisAtTop = n.referSize.height,
                n.thisAtTop += n.thisMyTop,
                n.thisAtTop += n.referSize.offset.top;
                break;
            case "top":
            default:
                n.thisAtTop = n.referSize.height,
                n.thisAtTop -= n.thisMyTop,
                n.thisAtTop += n.referSize.offset.top
            }
        },
        _moveTo: function() {
            this.$this.css({
                position: "absolute",
                left: this.thisAtLeft,
                top: this.thisAtTop
            })
        },
        _slideTo: function() {
            var t = this;
            this.$this.css({
                position: "absolute"
            }).stop(!0, !1).animate({
                left: this.thisAtLeft,
                top: this.thisAtTop
            },
            this.options.speed, this.options.easing,
            function() {
                this.options.onMoveEnd(t)
            })
        },
        _referArea: function() {
            var s = this,
            t = {},
            o = thisData.option,
            i = o.my.split(",").slice(0, 2),
            r = parseInt(thisData.baseSize.width),
            u = parseInt(thisData.baseSize.height),
            f = parseInt(thisData.referSize.width),
            e = parseInt(thisData.referSize.height);
            return t.flipArea = {},
            t.flipArea.minX = 0,
            t.flipArea.maxX = f - r,
            t.flipArea.minY = 0,
            t.flipArea.maxY = e - u,
            i[0] == "center" ? (t.flipArea.minX = Math.floor(r / 2), t.flipArea.maxX = parseInt(f + t.flipArea.minX)) : i[0] == "right" && (t.flipArea.minX -= r),
            i[1] == "middle" ? (t.flipArea.minY = Math.floor(u / 2), t.flipArea.maxY = parseInt(e + t.flipArea.minY)) : i[0] == "bottom" && (t.flipArea.minY -= u),
            n.extend(thisData, t)
        }
    },
    n.tpUI._gadgets("Position", n.tpuiPosition, n.tpuiPosition.prototype),
    n.tpuiDrag = function(i, r) {
        return this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i),
        this.options = r,
        this.name = "drag",
        this.$uiHandle = this.options.handle ? this.$this.find(this.options.handle).eq(0) : this.$this,
        this.thisClass = t + "-" + this.name,
        this.canDrag = !1,
        this._uiEvent(),
        this
    },
    n.tpuiDrag.prototype = {
        _option: {
            delay: 0,
            axis: "both",
            contain: "document",
            helper: "original",
            grid: !1,
            opacity: !1,
            handle: null,
            cancel: null,
            revert: !1,
            revertDuration: 0,
            snap: !1,
            snapMode: "both",
            snapTolerance: 20,
            zIndex: !1,
            onStart: n.noop,
            onMove: n.noop,
            onEnd: n.noop,
            version: "1.0"
        },
        _uiEvent: function() {
            var i = this,
            r = this.$ui,
            u = n(document);
            this.$uiHandle.on({
                "mousedown.dragStart touchstart.dragStart": function(n) {
                    n.preventDefault(),
                    n = r._event(n, 0),
                    i.canDrag = !0,
                    i.objSize = r._dimensions(i.$this),
                    i.$this.css({
                        position: "absolute"
                    }),
                    i.startMousePos = {
                        x: n.pageX,
                        y: n.pageY
                    },
                    i.startObjPos = {
                        x: i.startMousePos.x - i.objSize.offset.left,
                        y: i.startMousePos.y - i.objSize.offset.top
                    };
                    i.options.onStart(i);
                    u.on({
                        "mousemove.dragMove touchmove.dragMove": function(n) {
                            if (n = r._event(n, 0), i.canDrag) {
                                i.moveMousePos = {
                                    x: n.pageX,
                                    y: n.pageY
                                },
                                i.moveObjPos = {
                                    x: i.moveMousePos.x - i.startObjPos.x,
                                    y: i.moveMousePos.y - i.startObjPos.y
                                },
                                i._moveTo();
                                i.options.onMove(i)
                            }
                        },
                        "mouseup.dragEnd mouseleave.dragEnd touchend.dragEnd touchcancel.dragEnd": function(n) {
                            n = r._event(n, 0),
                            i.canDrag = !1,
                            i.endMousePos = {
                                x: n.pageX,
                                y: n.pageY
                            },
                            i.dragDistance = {
                                x: i.startMousePos.x - i.endMousePos.x,
                                y: i.startMousePos.y - i.endMousePos.y
                            },
                            i.options.revert,
                            u.off("mousemove.dragMove touchmove.dragMove mouseup.dragEnd mouseleave.dragEnd touchend.dragEnd touchcancel.dragEnd");
                            i.options.onEnd(i)
                        }
                    })
                }
            })
        },
        _revert: function() {},
        _moveTo: function() {
            var n = this;
            switch (n.options.axis) {
            case "x":
                n.$this.css({
                    left:
                    n.moveObjPos.x
                });
                break;
            case "y":
                n.$this.css({
                    top:
                    n.moveObjPos.y
                });
                break;
            case "both":
            default:
                n.$this.css({
                    left:
                    n.moveObjPos.x,
                    top: n.moveObjPos.y
                })
            }
        }
    },
    n.tpUI._gadgets("Drag", n.tpuiDrag, n.tpuiDrag.prototype),
    n.tpuiLoading = function(i, r) {
        return this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i),
        this.$win = n(window),
        this.options = r,
        this.name = "loading",
        this.thisClass = t + "-" + this.name,
        this.typeClass = this.options.typeClass,
        this.isShow = !1,
        this.delayOut = null,
        this.isBody = this.$this[0].tagName == "BODY" ? !0 : !1,
        this._create(),
        this
    },
    n.tpuiLoading.prototype = {
        _option: {
            autoOpen: !1,
            outMode: "hide",
            delay: 0,
            escape: !0,
            image: !0,
            imagePath: null,
            imageName: null,
            info: !1,
            infoSet: null,
            inner: !1,
            innerSet: null,
            mask: !1,
            maskStyle: "base",
            referBox: null,
            speed: 600,
            title: !0,
            titleSet: "加载中",
            typeClass: "base",
            onCreate: n.noop,
            onShow: n.noop,
            onHide: n.noop,
            width: null,
            height: null,
            version: "2.0"
        },
        _init: function() {
            this.options.autoOpen && this._show()
        },
        _create: function() {
            var i = this.thisClass,
            t = this.options;
            this.isBody && (this.$loadWrap = n("<div>").css({
                position: "fixed",
                width: "100%",
                left: 0,
                top: 0,
                "z-index": 999
            }).appendTo(n("body"))),
            this.$uiThis = this.$ui._uiItem().addClass(i + " " + i + "-" + this.typeClass),
            this.$uiContent = this.$ui._uiSub().addClass(i + "-content").appendTo(this.$uiThis),
            this.$uiContentInner = this.$ui._uiSub().addClass(i + "-content-inner").appendTo(this.$uiContent),
            t.image && (this.$uiImage = this.$ui._uiSub().addClass(i + "-image " + i + "-image-base").appendTo(this.$uiContentInner), t.imageName && this.$uiImage.removeClass(i + "-image-base").addClass(t.imageName), t.imagePath && this.$uiImage.removeClass(i + "-image-base").append('<img src="' + t.imagePath + '" alt="" />')),
            t.title && (this.$uiTitle = this.$ui._uiSub().addClass(i + "-title").append("<h2><span>" + t.titleSet + "</span></h2>").appendTo(this.$uiContentInner)),
            t.info && (this.$uiTitle = this.$ui._uiSub().addClass(i + "-info").append("<p>" + t.infoSet + "</p>").appendTo(this.$uiContentInner)),
            t.refer && (this.$uiTitle = this.$ui._uiSub().addClass(this.thisClass + "-refer").append(t.referInner).appendTo(this.$uiContentInner)),
            t.mask && (this.$uiMask = this.$ui._uiMask().addClass(this.thisClass + "-" + t.maskStyle).appendTo(this.$uiThis)),
            this.$uiThis.appendTo(this.$loadWrap),
            this._uiEvent(),
            this._runInit();
            t.onCreate(this)
        },
        _uiEvent: function() {
            var n = this;
            this.$this.on({
                "_show.loading": function() {
                    n._show()
                },
                "_hide.loading": function() {
                    n._hide()
                },
                "_remove.loading": function() {
                    n._remove()
                }
            })
        },
        _docBind: function() {
            var n = this,
            t = this.options;
            this.$win.on({
                "resize.loading": function() {
                    n._runInit()
                },
                "keyup.loading": function(i) {
                    i.preventDefault(),
                    t.escape && i.keyCode == 27 && n._hide()
                }
            })
        },
        _docUnBind: function() {
            var n = this;
            this.$win.off("resize.loading keyup.loading")
        },
        _runInit: function() {
            var t = this,
            n = this.options;
            this.$uiThis.show(),
            this.isBody ? (this.thisSize = this.$ui._dimensions(this.$win), this.$uiThis.css({
                position: "absolute",
                left: 0,
                top: 0
            })) : this.thisSize = this.$ui._dimensions(this.$this),
            n.width && (this.thisSize.width = Math.abs(parseInt(n.width))),
            n.height && (this.thisSize.height = Math.abs(parseInt(n.height))),
            this.cntentSize || (this.cntentSize = this.$ui._dimensions(this.$uiContent)),
            this.$this.css("position") || this.$this.css("position", "relative"),
            this.$uiThis.css({
                width: this.thisSize.width,
                height: this.thisSize.height
            }),
            this.$uiContent.css({
                position: "absolute",
                top: "50%",
                left: "50%",
                "margin-top": 0 - t.cntentSize.height / 2,
                "margin-left": 0 - t.cntentSize.width / 2
            }),
            this.autoOpen || this.$uiThis.hide()
        },
        _show: function() {
            var n = this,
            t = this.options;
            this.isShow || (this.isShow = !0, n._docBind(), n.delayOut = clearTimeout(n.delayOut), this.$uiThis.stop(!0, !0).fadeIn(t.speed,
            function() {
                t.onShow(n);
                t.delay && t.delay > 0 && (n.delayOut = setTimeout(function() {
                    n._hide()
                },
                t.delay))
            }), this.isBody && this.$ui._windowLock(!0))
        },
        _hide: function() {
            var n = this,
            t = this.options;
            if (t.outMode == "remove") {
                n._remove();
                return
            }
            this.isShow && (this.isShow = !1, n._docUnBind(), n.delayOut = clearTimeout(n.delayOut), this.$uiThis.stop(!0, !0).fadeOut(t.speed,
            function() {
                t.onHide(n)
            }), this.isBody && this.$ui._windowLock(!1))
        },
        _remove: function() {
            var n = this,
            t = this.options;
            this.isShow && (this.isShow = !1, n._docUnBind(), n.delayOut = clearTimeout(n.delayOut), this.$uiThis.stop(!0, !1).fadeOut(t.speed,
            function() {
                n.$uiThis.remove(),
                n.$this.removeData(i + "Loading")
            }), this.isBody && this.$ui._windowLock(!1))
        }
    },
    n.tpUI._gadgets("Loading", n.tpuiLoading, n.tpuiLoading.prototype),
    n.tpuiMedia = function(i) {
        return this.$ui = n.tpUI || {},
        this.options = n.extend({},
        this._option, i),
        this.type = this.options.type,
        this.isVideo = this.type == "video" ? !0 : !1,
        this.info = {
            mediaType: this.mediaSuffix
        },
        this.struct = {},
        this.thisClass = t + "-media",
        this.mediaObj = this.isVideo ? this._video() : this._audio(),
        this.media = this.mediaObj.get(0),
        this.media.controls = "controls",
        this._create(),
        this
    },
    n.tpuiMedia.prototype = {
        _option: {
            type: "audio",
            box: null,
            autoPlay: !1,
            loop: 0,
            volume: 100,
            poster: null,
            width: null,
            height: null,
            onCreate: n.noop,
            tipsMode: n.noop,
            errorMode: n.noop,
            version: "1.0"
        },
        _isSupport: function() {},
        _create: function() {
            var t = this.$ui,
            u = this.options,
            i = this.thisClass,
            r = this.struct;
            this.$mediaBox = u.box ? t._obj(u.box) : n("body"),
            r.$uiThis = t._uiItem().addClass(i + " " + i + "-" + this.type).appendTo(this.$mediaBox),
            r.$uiPlayer = t._uiSub().addClass(i + "-player").append(this.mediaObj).appendTo(r.$uiThis),
            this._controlsEvent(),
            this._callBack("onCreate")
        },
        _controlsEvent: function() {
            var n = this,
            i = this.options,
            t = this.info;
            this.mediaObj.on({
                play: function() {
                    n._play()
                },
                pushe: function() {
                    n._pushe()
                },
                stop: function() {
                    n._stop()
                },
                ended: function() {
                    n.media.ended && n._callBack("onEnd")
                },
                waiting: function() {
                    n._tips("播放源进度加载中...")
                },
                progress: function() {
                    n._tips("媒体资源加载中...")
                },
                playing: function() {
                    n._tips("媒体资源加载成功，开始播放")
                },
                seeking: function() {
                    n._tips("正在调整到指定位置,请稍后")
                },
                seeked: function() {
                    n._tips("已从指定位置开始播放")
                },
                stalled: function() {},
                abort: function() {},
                suspend: function() {},
                volumechange: function() {
                    n._tips("音量已更改,当前音量：" + n.media.volume)
                },
                loadstart: function() {
                    n.loadStartTime = new Date,
                    n._callBack("onLoadStart")
                },
                loadedmetadata: function() {
                    n.loadEndTime = new Date,
                    n.loadTime = n.loadEndTime - n.loadStartTime,
                    n._infoRead(),
                    n._autoPlay(i.autoPlay),
                    n._callBack("onLoadEnd")
                },
                timeupdate: function() {
                    t.currentTime = n.media.currentTime,
                    t.currentTimes = n._times(t.duration - t.currentTime)
                },
                error: function() {
                    var i = n.media.error.code;
                    switch (i) {
                    case 1:
                        n._error("取回过程被用户中止");
                        break;
                    case 2:
                        n._error("资源文件加载错误");
                        break;
                    case 3:
                        n._error("错误的播放源编码，请确保您播放的是对应格式的播放源");
                        break;
                    case 4:
                        n._error("文件不存在，或不支持的文件格式");
                        break;
                    default:
                        n._error("播放器出现未知错误")
                    }
                    return
                }
            })
        },
        _infoRead: function() {
            var n = this.media,
            t = this.info;
            t.file = n.currentSrc,
            t.readyState = n.readyState,
            t.networkState = n.networkState,
            t.playbackRate = n.playbackRate,
            t.muted = n.muted,
            t.volume = n.volume,
            t.duration = n.duration,
            t.durations = this._times(n.duration),
            t.currentTime = n.currentTime,
            t.currentTimes = this._times(n.currentTime)
        },
        _autoPlay: function(n) {
            this.media.autoplay = n
        },
        _audio: function() {
            return n("<audio>")
        },
        _video: function() {
            return n("<video>")
        },
        _load: function(n) {
            this.media.src = n,
            this.media.load()
        },
        _play: function(n) {
            n && this._load(n),
            this.media.play(),
            this._callBack("onPlay")
        },
        _stop: function() {
            this.media.pause(),
            this.media.currentTime = 0,
            this.isStoped = !0,
            this._callBack("onStop")
        },
        _pushe: function() {
            this.media.pause(),
            this._callBack("onPushed")
        },
        _volume: function(n) {
            this.media.volume = (parseInt(n) / 100).toFixed(1)
        },
        _muteToggle: function(n) {
            this.media.muted = n || !this.media.muted ? !0 : !1
        },
        _loop: function(n) {
            var t = this,
            n = parseInt(n);
            if (n >= 0) if (n == 0) this._play();
            else {
                this.playIndex = 0;
                this.mediaObj.on("ended",
                function() {
                    setTimeout(function() {
                        t.playIndex <= n && (t._play(), t.playIndex++)
                    },
                    t.media.duration)
                })
            } else this.media.loop = !0,
            this._play()
        },
        _poster: function(n) {
            this.isVideo && (this.media.poster = n || this.options.poster || "")
        },
        _times: function(n, t) {
            var f = "",
            n = parseInt(n),
            u = n,
            i = 0,
            r = 0;
            return n >= 60 && (i = parseInt(n / 60), i = i < 10 ? "0" + i: i, u = parseInt(n % 60), u = u < 10 ? "0" + u: u, i > 60 && (r = parseInt(i / 60), r = r < 10 ? "0" + r: r, i = parseInt(i % 60), i = i < 10 ? "0" + i: i)),
            t ? f = r + ":" + i + ":" + u: (f += r ? r + ":": "", f += i ? i + ":": "", f += u),
            f
        },
        _callBack: function(n) {
            this.options[n] && this.options[n](this)
        },
        _tips: function(n) {
            this.options.tipsMode(n)
        },
        _error: function(n) {
            this.options.errorMode(n)
        }
    },
    n.tpuiFormItem = {
        _version: "2.1.2",
        _baseEvent: function() {
            var n = this,
            i = n.struct,
            r = t + "-form-";
            this.$this.on({
                "disable.formDisable": function() {
                    n.isDisabled = !0,
                    i.$uiThis.addClass(r + "disabled"),
                    n._attribute("disabled", "disabled")
                },
                "enable.formEnble": function() {
                    n.isDisabled = !1,
                    i.$uiThis.removeClass(r + "disabled"),
                    n._attribute("disabled", !1)
                },
                "readonly.formReadonly": function() {
                    n.isReadonly = !0,
                    i.$uiThis.addClass(r + "readonly"),
                    n._attribute("readonly", !1)
                },
                "writable.formWritable": function() {
                    n.isReadonly = !1,
                    i.$uiThis.removeClass(r + "readonly"),
                    n._attribute("readonly", "readonly")
                }
            })
        },
        _initState: function() {
            this.isDisabled && this.$this.trigger("disable.formDisable"),
            this.isReadonly && this.$this.trigger("readonly.formReadonly")
        },
        _attribute: function(n, t) {
            t ? this.$this.attr(n, t).prop(n, !0) : this.$this.removeAttr(n).prop(n, !1)
        },
        _checked: function(n, i, r) {
            i ? (r.addClass(t + "-active"), this._attribute("checked", "checked")) : (r.removeClass(t + "-active"), this._attribute("checked", null))
        },
        _numerInit: function(n, t) {
            return parseFloat(this.$this.attr(n)) || t
        },
        _isDisable: function() {
            return this.$this[0].disabled
        },
        _isReadonly: function() {
            return this.$this[0].readonly
        }
    },
    n.tpuiButton = function(i) {
        if (this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i), this.$this[0].tagName === "A" || this.$this[0].tagName === "BUTTON" || this.$this[0].type === "submit" || this.$this[0].type === "reset" || this.$this[0].type === "button") return this.name = "button",
        this.thisClass = t + "-" + this.name,
        this.typeClass = this.$this.attr("data-type") || "default",
        this._create(),
        this
    },
    n.tpuiButton.prototype = n.extend({},
    n.tpuiFormItem, {
        _init: function() {
            this.isDisabled = this._isDisable(),
            this.isReadonly = this._isReadonly(),
            this._baseEvent(),
            this._initState()
        },
        _create: function() {
            var t = this.thisClass,
            n = this.struct = {};
            n.$uiThis = this.$ui._uiForm().addClass(t + "-noselect " + t + " " + t + "-" + this.typeClass),
            this.$this.before(n.$uiThis),
            n.$uiBase = this.$ui._uiSub().addClass(t + "-base").append(this.$this).appendTo(n.$uiThis),
            this.$ui._icon(this.$this, n.$uiBase)
        }
    }),
    n.tpUI._gadgets("Button", n.tpuiButton, n.tpuiButton.prototype),
    n.tpuiText = function(i) {
        if (this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i), this.$this[0].type === "text" || this.$this[0].type === "password" || this.$this[0].tagName === "INPUT") return this.name = "text",
        this.thisClass = t + "-" + this.name,
        this.typeClass = this.$this.attr("data-type") || "base",
        this._create(),
        this
    },
    n.tpuiText.prototype = n.extend({},
    n.tpuiFormItem, {
        _init: function() {
            this.isDisabled = this._isDisable(),
            this.isReadonly = this._isReadonly(),
            this._baseEvent(),
            this._initState()
        },
        _create: function() {
            var t = this.thisClass,
            n = this.struct = {};
            n.$uiThis = this.$ui._uiForm().addClass(t + " " + t + "-" + this.typeClass),
            this.$this.before(n.$uiThis),
            n.$uiBase = this.$ui._uiSub().addClass(t + "-base").append(this.$this).appendTo(n.$uiThis),
            this.$ui._icon(this.$this, n.$uiBase)
        }
    }),
    n.tpUI._gadgets("Text", n.tpuiText, n.tpuiText.prototype),
    n.tpuiTextarea = function(i) {
        if (this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i), this.$this[0].tagName === "TEXTAREA") return this.name = "textarea",
        this.thisClass = t + "-" + this.name,
        this.typeClass = this.$this.attr("data-type") || "base",
        this._create(),
        this
    },
    n.tpuiTextarea.prototype = n.extend({},
    n.tpuiFormItem, {
        _init: function() {
            this.isDisabled = this._isDisable(),
            this.isReadonly = this._isReadonly(),
            this._baseEvent(),
            this._initState()
        },
        _create: function() {
            var t = this.thisClass,
            n = this.struct = {};
            n.$uiThis = this.$ui._uiForm().addClass(t + " " + t + "-" + this.typeClass),
            this.$this.before(n.$uiThis),
            n.$uiBase = this.$ui._uiSub().addClass(t + "-base").append(this.$this).appendTo(n.$uiThis)
        }
    }),
    n.tpUI._gadgets("Textarea", n.tpuiTextarea, n.tpuiTextarea.prototype),
    n.tpuiRadio = function(i, r) {
        if (this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i), this.$this[0].tagName === "INPUT" || this.$this[0].type === "radio") return this.options = r,
        this.name = "radio",
        this.struct = {},
        this.thisClass = t + "-" + this.name,
        this._create(),
        this
    },
    n.tpuiRadio.prototype = n.extend({},
    n.tpuiFormItem, {
        _init: function() {
            this.isDisabled = this._isDisable(),
            this.isReadonly = this._isReadonly(),
            this._baseEvent(),
            this._initState(),
            this._checked(this.$this, this.$this.is(":checked"), this.struct.$uiThis)
        },
        _create: function() {
            var t = this.thisClass,
            n = this.struct || {};
            n.$uiThis = this.$ui._uiForm().addClass(t),
            n.$uiBase = this.$ui._uiSub().addClass(t + "-base").appendTo(n.$uiThis),
            n.$uiHandle = this.$ui._uiHandleLink("&nbsp;").addClass(t + "-handle").appendTo(n.$uiThis),
            this.$this.before(n.$uiThis).appendTo(n.$uiBase),
            this._uiEvent()
        },
        _uiEvent: function() {
            var t = this,
            i = this.struct;
            this.nameAttr = this.$this.attr("name") || null,
            this.radioGroup = this.nameAttr ? n("input[name='" + this.nameAttr + "']") : this.$this;
            this.$this.on({
                "click.radioClick": function(n) {
                    n.preventDefault(),
                    i.$uiHandle.triggerHandler("click"),
                    n.stopPropagation()
                },
                "change.radioChange": function() {
                    t.isDisabled || t.isReadonly || t._radioEach()
                },
                "changeToggle.radioChangeToggle": function(r, u) {
                    t._checked(n(this), u, i.$uiThis)
                }
            });
            i.$uiHandle.on({
                "click.radioToggle touchstart.radioToggle": function() {
                    t.isDisabled || t.isReadonly || (t.$this.is(":checked") || t._checked(t.$this, !0, i.$uiThis), t.$this.triggerHandler("change"))
                }
            })
        },
        _radioEach: function() {
            n.each(this.radioGroup,
            function(t, i) {
                n(i).trigger("changeToggle", n(i)[0].checked)
            })
        }
    }),
    n.tpUI._gadgets("Radio", n.tpuiRadio, n.tpuiRadio.prototype),
    n.tpuiCheckbox = function(i, r) {
        if (this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i), this.$this[0].tagName === "INPUT" || this.$this[0].type === "checkbox") return this.options = r,
        this.name = "checkbox",
        this.thisClass = t + "-" + this.name,
        this._create(),
        this
    },
    n.tpuiCheckbox.prototype = n.extend({},
    n.tpuiFormItem, {
        _init: function() {
            this.isDisabled = this._isDisable(),
            this.isReadonly = this._isReadonly(),
            this._baseEvent(),
            this._initState(),
            this._checked(this.$this, this.$this.is(":checked"), this.struct.$uiThis)
        },
        _create: function() {
            var t = this.thisClass,
            n = this.struct = {};
            n.$uiThis = this.$ui._uiForm().addClass(t),
            n.$uiBase = this.$ui._uiSub().addClass(t + "-base").appendTo(n.$uiThis),
            n.$uiHandle = this.$ui._uiHandleLink("&nbsp;").addClass(t + "-handle").appendTo(n.$uiThis),
            this.$this.before(n.$uiThis).appendTo(n.$uiBase),
            this._uiEvent()
        },
        _uiEvent: function() {
            var n = this,
            t = this.struct;
            this.$this.on({
                "click.checkboxClick": function(n) {
                    n.preventDefault(),
                    t.$uiHandle.triggerHandler("click"),
                    n.stopPropagation()
                },
                "change.checkboxChange": function() {
                    n.isDisabled || n.isReadonly || n._checked(n.$this, n.$this.is(":checked"), n.struct.$uiThis)
                }
            });
            t.$uiHandle.on({
                "click.checkboxToggle touchcancel.checkboxToggle": function() {
                    n.isDisabled || n.isReadonly || (n.$this.is(":checked") ? n._checked(n.$this, !1, t.$uiThis) : n._checked(n.$this, !0, t.$uiThis), n.$this.trigger("change"))
                }
            })
        }
    }),
    n.tpUI._gadgets("Checkbox", n.tpuiCheckbox, n.tpuiCheckbox.prototype),
    n.tpuiSwitch = function(i, r) {
        if (this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i), this.$this[0].tagName === "INPUT" || this.$this[0].type === "checkbox") return this.name = "switch",
        this.options = r,
        this.thisClass = t + "-" + this.name,
        this._create(),
        this
    },
    n.tpuiSwitch.prototype = n.extend({},
    n.tpuiFormItem, {
        _option: {
            onTitle: "开",
            offTitle: "关",
            version: "2.0"
        },
        _init: function() {
            this.isDisabled = this._isDisable(),
            this.isReadonly = this._isReadonly(),
            this._baseEvent(),
            this._initState(),
            this._checked(this.$this, this.$this.is(":checked"), this.struct.$uiThis)
        },
        _create: function() {
            var t = this.thisClass,
            i = this.options,
            n = this.struct = {};
            n.$uiThis = this.$ui._uiForm().addClass(t),
            n.$uiBase = this.$ui._uiSub().addClass(t + "-base").appendTo(n.$uiThis),
            n.$uiRefer = this.$ui._uiSub().addClass(t + "-refer").append('<span class="' + t + '-color-on">&nbsp;</span>').append('<span class="' + t + '-color-off">&nbsp;</span>').append('<em class="' + t + '-text-on"><i>' + i.onTitle + "<i></em>").append('<em class="' + t + '-text-off"><i>' + i.offTitle + "<i></em>").appendTo(n.$uiThis),
            n.$uiHandle = this.$ui._uiHandleLink("&nbsp;").addClass(t + "-handle").appendTo(n.$uiThis),
            this.$this.before(n.$uiThis).appendTo(n.$uiBase),
            this._uiEvent()
        },
        _uiEvent: function() {
            var t = this,
            i = this.struct;
            this.$this.on({
                "click.switchClick": function(n) {
                    n.preventDefault(),
                    i.$uiHandle.triggerHandler("click"),
                    n.stopPropagation()
                },
                "change.switchChange": function() {
                    t.isDisabled || t.isReadonly || t._checked(n(this), n(this).is(":checked"), i.$uiThis)
                }
            });
            i.$uiHandle.on({
                "click.switchToggle touchcancel.switchToggle": function(n) { (n.preventDefault(), t.isDisabled || t.isReadonly) || (t.$this.is(":checked") ? t._checked(t.$this, !1, i.$uiThis) : t._checked(t.$this, !0, i.$uiThis), t.$this.trigger("change"))
                }
            })
        }
    }),
    n.tpUI._gadgets("Switch", n.tpuiSwitch, n.tpuiSwitch.prototype),
    n.tpuiFile = function(i, r) {
        if (this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i), this.$this[0].tagName === "INPUT" || this.$this[0].type === "file") return this.name = "file",
        this.options = r,
        this.thisClass = t + "-" + this.name,
        this.value = this.$this.val(),
        this._create(),
        this
    },
    n.tpuiFile.prototype = n.extend({},
    n.tpuiFormItem, {
        _init: function() {
            this.isDisabled = this._isDisable(),
            this.isReadonly = this._isReadonly(),
            this._baseEvent(),
            this._initState()
        },
        _create: function() {
            var i = this.thisClass,
            t = this.struct = {};
            t.$uiThis = this.$ui._uiForm().addClass(i),
            t.$uiBase = this.$ui._uiSub().addClass(i + "-base").appendTo(t.$uiThis),
            t.$uiRefer = this.$ui._uiSub().addClass(i + "-refer").appendTo(t.$uiThis),
            t.$uiReferInput = n("<input>").attr({
                type: "text",
                placeholder: this.$this.attr("placeholder") || "请选择文件"
            }).appendTo(t.$uiRefer).tpuiText(),
            t.$uiHandle = this.$ui._uiSub().addClass(i + "-handle").appendTo(t.$uiThis),
            t.$uiHandleBtn = n('<button type="button">选择文件</button>').appendTo(t.$uiHandle).tpuiButton(),
            this.$this.before(t.$uiThis).appendTo(t.$uiBase),
            this._uiEvent()
        },
        _uiEvent: function() {
            var t = this,
            i = this.struct;
            this.$this.on({
                "click.fileToggle touchcancel.fileToggle": function() {
                    t.isDisabled || t.isReadonly
                },
                "change.fileChange": function() {
                    t.isDisabled || t.isReadonly || t._fileSet(n(this).val(), i.$uiReferInput)
                }
            });
            i.$uiHandleBtn.add(i.$uiReferInput).on({
                "click.fileToggle touchcancel.fileToggle": function() {
                    t.isDisabled || t.isReadonly || t.$this.trigger("click")
                }
            });
            i.$uiReferInput.on({
                "keyup.fileInput": function() {
                    t.isDisabled || t.isReadonly || t._fileSet(n(this).val(), i.$uiReferInput)
                }
            })
        },
        _fileSet: function(n, t) {
            this.value = n,
            this.value !== "" && t.val(this.value)
        }
    }),
    n.tpUI._gadgets("File", n.tpuiFile, n.tpuiFile.prototype),
    n.tpuiNumber = function(i, r) {
        if (this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i), this.$this[0].type === "number" || this.$this[0].type === "text" || this.$this[0].tagName === "INPUT") return this.name = "number",
        this.thisClass = t + "-" + this.name,
        this.options = r,
        this.$window = n(window),
        this._create(),
        this
    },
    n.tpuiNumber.prototype = n.extend({},
    n.tpuiFormItem, {
        _option: {
            type: "base",
            addtoTitle: "+",
            reduceTitle: "-",
            width: null,
            height: null,
            version: "2.0.1"
        },
        _init: function() {
            this.min = this.$this.attr("min") !== undefined ? parseFloat(this.$this.attr("min")) : null,
            this.max = this.$this.attr("max") !== undefined ? parseFloat(this.$this.attr("max")) : null,
            this.step = this.$this.attr("step") !== undefined ? parseFloat(this.$this.attr("step")) : 1,
            this.fixed = this.$ui._decPlaces(this.step),
            this.startInt = (this.min !== null ? this.min: 0).toFixed(this.fixed),
            this.offsetInt = (this.min !== null ? this.min: 0) + this.step,
            this.isDisabled = this._isDisable(),
            this.isReadonly = this._isReadonly(),
            this._baseEvent(),
            this._initState(),
            this.value = parseFloat(this.$this.val()),
            this._operation("init")
        },
        _create: function() {
            var t = this.thisClass,
            i = this.options,
            n = this.struct = {};
            n.$uiThis = this.$ui._uiForm().addClass(t + " " + t + "-" + i.type),
            n.$uiBase = this.$ui._uiSub().addClass(t + "-refer").appendTo(n.$uiThis),
            n.$uiAddto = this.$ui._uiHandleButton(i.addtoTitle).addClass(t + "-option " + t + "-addto").appendTo(n.$uiThis),
            n.$uiReduce = this.$ui._uiHandleButton(i.reduceTitle).addClass(t + "-option " + t + "-reduce").appendTo(n.$uiThis),
            this.$this.before(n.$uiThis).appendTo(n.$uiBase),
            this._uiEvent()
        },
        _uiEvent: function() {
            var t = this,
            i = this.struct,
            r = n(window);
            this.$this.on({
                "focus.numberFocus": function() {
                    t._keyAdjust(!0)
                },
                "blur.numberBlur": function() {
                    t._keyAdjust(!1)
                },
                "keyup.numberInputEnd": function() {},
                "change.numberChange": function() {
                    t._operation("change", !1)
                }
            });
            i.$uiAddto.on({
                "click.numberAddto touchstart.numberAddto": function(n) {
                    n.preventDefault(),
                    t._addto()
                }
            });
            i.$uiReduce.on({
                "click.numberReduce touchstart.numberReduce": function(n) {
                    n.preventDefault(),
                    t._reduce()
                }
            })
        },
        _keyAdjust: function(n) {
            var t = this,
            i = "keydown.numberChange";
            if (n) this.$window.on(i,
            function(n) {
                return n.keyCode == 38 || n.keyCode == 39 ? (n.preventDefault(), t._addto(), !1) : n.keyCode == 37 || n.keyCode == 40 ? (n.preventDefault(), t._reduce(), !1) : void 0
            });
            else this.$window.off(i)
        },
        _addto: function() {
            this._operation("addto", !0)
        },
        _reduce: function() {
            this._operation("reduce", !0)
        },
        _operation: function(n, t) {
            if (!this.isDisabled && !this.isReadonly) {
                this.value = this.$this.val() ? parseFloat(this.$this.val()) : 0;
                switch (n) {
                case "addto":
                    this.value += this.step;
                    break;
                case "reduce":
                    this.value -= this.step;
                    break;
                case "init":
                case "change":
                default:
                    this.value = this.value
                }
                this._realValue(this.value),
                this.$this.val(this.value),
                t && this.$this.trigger("change")
            }
        },
        _realValue: function(n) {
            return this.value = this._toStep(n).toFixed(this.fixed),
            this.min !== null && this.value <= this.min && (this.value = this.min),
            this.max !== null && this.value >= this.max && (this.value = this.max),
            this.value
        },
        _stepOffset: function(n) {
            return this.fixed >= 1 ? (n / this.step).toFixed(this.fixed) : n / this.step
        },
        _inStep: function(n) {
            return this._stepOffset(n) - parseInt(this._stepOffset(n)) == 0
        },
        _toStep: function(n) {
            return this._inStep(n) ? parseFloat(n) : Math.round(this._stepOffset(n) - 1) * this.step
        }
    }),
    n.tpUI._gadgets("Number", n.tpuiNumber, n.tpuiNumber.prototype),
    n.tpuiSelect = function(i, r) {
        if (this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i), this.$this[0].tagName === "SELECT") return this.name = "select",
        this.thisClass = t + "-" + this.name,
        this.options = r,
        this.isMobile = this.$ui._isMobile(),
        this.isAndroid = this.$ui._device().android,
        this.$window = n(window),
        this.$document = n(document),
        this.base = {},
        this.struct = {},
        this.base.$child = this.$this.children(),
        this.base.$options = this.$this.find("option"),
        this.selected = this.base.$options.filter(":selected").index() || 0,
        this._create(),
        this
    },
    n.tpuiSelect.prototype = n.extend({},
    n.tpuiFormItem, {
        _init: function() {
            this.isDisabled = this._isDisable(),
            this.isReadonly = this._isReadonly(),
            this._baseEvent(),
            this._initState(),
            this._selected(),
            this._resize(),
            this._position()
        },
        _create: function() {
            var i = this,
            t = this.thisClass,
            r = this.base,
            n = this.struct;
            n.$uiThis = this.$ui._uiForm().addClass(t),
            this.isAndroid && n.$uiThis.addClass(t + "-android"),
            n.$uiBase = this.$ui._uiSub().addClass(t + "-base").appendTo(n.$uiThis),
            n.$uiHead = this.$ui._uiSub().addClass(t + "-head").appendTo(n.$uiThis),
            n.$uiTitle = this.$ui._uiHandleLink("加载中...").addClass(t + "-value").appendTo(n.$uiHead),
            n.$uiArrowToggle = this.$ui._uiHandleLink("&nbsp;").addClass(t + "-arrow").appendTo(n.$uiHead),
            this.$ui._icon(this.$this, n.$uiTitle),
            n.$uiContent = this.$ui._uiSub().addClass(t + "-content").appendTo(n.$uiThis).hide(),
            n.$uiContentList = this.$ui._uiSub().addClass(t + "-content-list").append(this._list()).appendTo(n.$uiContent),
            n.$uiContentSub = n.$uiContentList.find("." + t + "-sub"),
            n.$titleRefer = n.$uiTitle.children("a:first"),
            this.$this.before(n.$uiThis).appendTo(n.$uiBase),
            this._uiEvent()
        },
        _uiEvent: function() {
            var t = this,
            r = this.thisClass,
            i = this.struct;
            this.$this.on({
                "change.selectChange": function() {
                    t.isDisabled || t.isReadonly || (t.selected = t.base.$options.index(n(this).find("option:selected")[0]), t._selected())
                },
                "_toggle.selectToggle": function() {
                    t._toggle()
                }
            });
            i.$uiHead.on({
                "click.selectClick touchend.selectClick": function(n) { (n.preventDefault(), t.isDisabled || t.isReadonly) || (t.isMobile ? t.$this.trigger("focus") : t._toggle())
                }
            });
            i.$uiContentSub.on({
                "click.selectSelected touchcancel.selectSelected": function() {
                    t.isDisabled || t.isReadonly || (t.selected = t.struct.$uiContentSub.index(n(this)[0]), t._selected(), t.$this.trigger("change"), t._hide())
                }
            })
        },
        _selected: function() {
            var n = this.struct;
            n.$titleRefer.text(this.base.$options.eq(this.selected).text()),
            this.isMobile || n.$uiContentSub.removeClass(t + "-active").eq(this.selected).addClass(t + "-active"),
            this.base.$options.removeAttr("selected").prop("selected", !1).eq(this.selected).attr("selected", "selected").prop("selected", !0)
        },
        _toggle: function() {
            this.struct.$uiContent.is(":visible") ? this._hide() : this._show()
        },
        _show: function() {
            var r = this,
            h = this.$ui,
            u = this.thisClass,
            f = this.struct,
            o = f.$uiThis,
            e = f.$uiHead,
            s = f.$uiContent;
            n("." + u).css({
                "z-index": 1
            }),
            n("." + u + "-head").removeClass(t + "-form-focus"),
            n("." + u + "-content:visible").hide(),
            e.addClass(t + "-form-focus"),
            o.css({
                "z-index": 99
            }),
            s.show(0,
            function() {
                r._position();
                r.$window.on({
                    "scroll.selectPos resize.selectPos": function() {
                        r._position()
                    }
                });
                r.$document.on({
                    "click.selectBlank": function(i) {
                        n(i.target).closest("." + u).length <= 0 && (e.removeClass(t + "-form-focus"), r._hide())
                    }
                })
            })
        },
        _hide: function() {
            var u = this,
            f = this.$ui,
            n = this.$window,
            t = this.$document,
            i = this.struct,
            r = i.$uiContent;
            r.hide(0,
            function() {
                n.off("scroll.selectPos resize.selectPos"),
                t.off("click.selectBlank")
            })
        },
        _active: function(n) {
            var i = [1, 999],
            r = t + "-form-focus",
            u = this.struct,
            f = u.$uiHead,
            e = u.$uiThis;
            n ? (f.addClass(r), e.css({
                "z-index": i[1]
            })) : (f.removeClass(r), e.css({
                "z-index": i[0]
            }))
        },
        _list: function(t) {
            var r = this,
            i = null,
            u = this.thisClass,
            f = t || this.base.$child;
            return i = this.$ui._uiSub().addClass(u + "-option"),
            n.each(f,
            function(t, u) {
                var f = n(u),
                e = f.children();
                f[0].tagName === "OPTGROUP" ? i.append(r._subGroup(f)) : i.append(r._subItem(f))
            }),
            i
        },
        _subGroup: function(n) {
            var t = this.$ui,
            i = this.thisClass,
            r = null,
            f = null,
            u = null,
            e = null;
            return r = t._uiSub().addClass(i + "-group"),
            f = t._uiSub().addClass(i + "-group-head").appendTo(r),
            u = t._uiHandle(n.attr("label") || "").addClass(i + "-value").appendTo(f),
            e = t._uiHandleLink("&nbsp;").addClass(i + "-group-arrow").appendTo(u),
            t._icon(n, u),
            this._list(n.children()).appendTo(r),
            r
        },
        _subItem: function(n) {
            var t = this.$ui,
            r = this.thisClass,
            i = null,
            u = null,
            f = null;
            return i = t._uiSub().addClass(r + "-sub"),
            u = t._uiHandleLink(n.text()).addClass(r + "-value").appendTo(i),
            f = t._uiHandleLink("&nbsp;").addClass(r + "-checker").appendTo(i),
            t._icon(n, u),
            i
        },
        _resize: function() {
            var t = this,
            n = this.struct,
            i = n.$uiContentList,
            r = this.$ui._dimensions(n.$uiArrowToggle);
            this.selectWidth || (n.$uiContent.css({
                position: "relative"
            }).show(0,
            function() {
                t.selectWidth = t.$ui._dimensions(i).width,
                n.$uiContent.css({
                    position: "absolute"
                }).hide()
            }), n.$titleRefer.css({
                width: t.selectWidth + parseInt(r.height)
            }))
        },
        _position: function() {
            var i = this,
            t = this.struct,
            n = this.surface = {};
            n.window = this.$ui._dimensions(this.$window),
            n.select = this.$ui._dimensions(t.$uiHead),
            n.content = this.$ui._dimensions(t.$uiContent),
            n.contentList = this.$ui._dimensions(t.$uiContentList),
            n.maxHeight = this.$this.attr("data-height") || Math.floor(parseInt(n.window.height) / 2),
            n.listHeight = parseInt(n.contentList.height),
            n.listOffsetTop = parseInt(n.contentList.offset.top),
            n.listMaxHeight = n.listHeight >= n.maxHeight ? n.maxHeight: "auto",
            t.$uiContentList.height(parseInt(n.listMaxHeight))
        }
    }),
    n.tpUI._gadgets("Select", n.tpuiSelect, n.tpuiSelect.prototype),
    n.tpuiProgress = function(i, r) {
        if (this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i), this.$this[0].tagName !== "INPUT" || this.$this[0].type !== "text") {
            n.error('请使用 input type="text" 表单构建进度条。');
            return
        }
        return this.name = "progress",
        this.thisClass = t + "-" + this.name,
        this.options = r,
        this._create(),
        this
    },
    n.tpuiProgress.prototype = n.extend({},
    n.tpuiFormItem, {
        _option: {
            output: "default",
            direction: "x",
            width: null,
            height: null,
            progress: !0,
            surplus: !1,
            onCreate: n.noop,
            onStart: n.noop,
            onEnd: n.noop,
            onUpdate: n.noop,
            version: "1.0"
        },
        _init: function() {
            this.isDisabled = this._isDisable(),
            this.isReadonly = this._isReadonly(),
            this._baseEvent(),
            this._initState(),
            this.min = this._numerInit("min", 0),
            this.max = this._numerInit("max", 100),
            this.interval = this.max - this.min,
            this.distance == undefined && (this.distance = this.min),
            this._run(this.$this.val(), 1)
        },
        _create: function() {
            var t = this.struct = {},
            i = this.options,
            r = this.thisClass;
            t.$uiThis = this.$ui._uiForm().addClass(r),
            t.$uiBase = this.$ui._uiSub().addClass(r + "-base").appendTo(t.$uiThis),
            t.$uiRefer = this.$ui._uiSub().addClass(r + "-refer").appendTo(t.$uiThis),
            i.progress && (t.$uiProgress = n("<span>").addClass(r + "-bands " + r + "-progress").appendTo(t.$uiRefer)),
            i.surplus && (t.$uiSurplus = n("<span>").addClass(r + "-bands " + r + "-surplus").appendTo(t.$uiRefer)),
            this.$this.before(t.$uiThis).appendTo(t.$uiBase);
            switch (i.direction) {
            case "y":
                i.direction = "y",
                t.$uiThis.addClass(r + "-vertical");
                break;
            case "x":
            default:
                i.direction = "x",
                t.$uiThis.addClass(r + "-horizontal")
            }
            i.width && t.$uiThis.width(i.width),
            i.height && t.$uiThis.height(i.height),
            this._uiEvent(),
            this.created = !0;
            i.onCreate(this)
        },
        _uiEvent: function() {
            var t = this;
            this.$this.on({
                "_update.progressUpdate": function(n) {
                    n.preventDefault(),
                    t._init()
                },
                "_to.progressTo": function(i, r) {
                    t.isDisabled || t.isReadonly || (n(this).val(r), t._run(r))
                }
            })
        },
        _run: function(t, i) {
            var r = this,
            u = this.options,
            f = this.struct,
            i = i,
            t = t || this.min;
            i == 1 ? (r._operation(t), r._progressSet()) : n({
                counter: r.distance
            }).stop(!0, !0).animate({
                counter: t
            },
            {
                step: function(n) {
                    r._operation(n),
                    r._progressSet()
                }
            }),
            this.distance = t
        },
        _operation: function(n) {
            this.value = this.$ui._interval(Math.round(n), this.min, this.max),
            this.lave = this.interval - this.value,
            this.progress = Math.round((this.value - this.min) / this.interval * 100),
            this.progress = this.$ui._interval(this.progress, 0, 100),
            this.surplus = 100 - this.progress,
            this.progressRatio = this.progress / 100,
            this.surplusRatio = this.surplus / 100
        },
        _inputOutput: function() {
            var n = this,
            t = this.options;
            switch (t.output) {
            case "progress":
                n.$this[0].value = n.progress;
                break;
            case "progress-ratio":
                n.$this[0].value = n.progressRatio;
                break;
            case "surplus":
                n.$this.val(n.surplus);
                break;
            case "surplus-ratio":
                n.$this[0].value = n.surplusRatio;
                break;
            case "both":
                n.$this.val(n.value + "/" + n.lave);
                break;
            case "lave":
                n.$this.val(n.lave);
                break;
            case "default":
            case "value":
            default:
                n.$this.val(n.value)
            }
        },
        _progressSet: function() {
            var n = this.options,
            t = this.struct;
            this._inputOutput(),
            n.progress && (n.direction == "x" ? t.$uiProgress.width(this.progress + "%") : t.$uiProgress.height(this.progress + "%")),
            n.surplus && (n.direction == "x" ? t.$uiSurplus.width(this.surplus + "%") : t.$uiSurplus.height(this.surplus + "%"));
            n.onUpdate(this.progress, this.progressRatio, this);
            if (this.ratio <= this.min) n.onStart(this.progress, this.progressRatio, this);
            if (this.ratio >= this.max) n.onEnd(this.progress, this.progressRatio, this)
        }
    }),
    n.tpUI._gadgets("Progress", n.tpuiProgress, n.tpuiProgress.prototype),
    n.tpuiVerification = function(i) {
        if (this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i), this.imagePatch = this.$this.attr("data-image"), this.imagePatch && (this.$this[0].tagName === "INPUT" || this.$this[0].type === "text")) return this.name = "verification",
        this.thisClass = t + "-" + this.name,
        this.typeClass = this.$this.attr("data-type") || "default",
        this.tips = this.$this.attr("data-tips") || "点击刷新验证码",
        this.optionHandle = this.$this.attr("data-option") || !1,
        this.struct = {},
        this._create(),
        this
    },
    n.tpuiVerification.prototype = n.extend({},
    n.tpuiFormItem, {
        _init: function() {
            this._reload(),
            this.isDisabled = this._isDisable(),
            this.isReadonly = this._isReadonly(),
            this._baseEvent(),
            this._initState()
        },
        _create: function() {
            var i = this.$ui,
            n = this.struct,
            t = this.thisClass,
            u = this.typeClass,
            r = this.tips;
            n.$uiThis = i._uiForm().addClass(t + " " + t + "-" + u),
            n.$uiBase = i._uiSub().addClass(t + "-sub " + t + "-base").appendTo(n.$uiThis),
            this.$this.before(n.$uiThis).appendTo(n.$uiBase),
            i._icon(this.$this, this.$this),
            n.$uiImageHandle = i._uiSub().addClass(t + "-sub " + t + "-image").attr("title", r).append('<a href="javascript:void(0);"><img src="" alt="' + r + '" /></a>').appendTo(n.$uiThis),
            n.$uiImage = n.$uiImageHandle.find("img:first"),
            this.optionHandle && (n.$uiOptionHandle = i._uiSub().addClass(t + "-sub " + t + "-option").append('<a href="javascript:void(0);">' + this.optionHandle + "</a>").appendTo(n.$uiThis), n.$uiOptionHandle = n.$uiOptionHandle.children("a:first").attr("title", r)),
            this._uiEvent()
        },
        _uiEvent: function() {
            var t = this,
            n = this.struct;
            n.$uiImageHandle.add(n.$uiOptionHandle).on({
                "click.verificationReload": function(n) {
                    n.preventDefault(),
                    t._reload()
                }
            })
        },
        _reload: function() {
            this.isDisabled || (this.struct.$uiImage[0].src = this.imagePatch)
        }
    }),
    n.tpUI._gadgets("Verification", n.tpuiVerification, n.tpuiVerification.prototype),
    n.tpuiVerREG = {
        _RegConf: {
            integer: /^[-]{0,1}[0-9]{1,}$/,
            number: /^[0-9]+$/,
            decimal: /^[-]{0,1}(\d+)[\.]+(\d+)$/,
            dobWord: /^[^\x00-\xff]+$/,
            cn: /[\u4E00-\u9FA5]/,
            username: /^(?!_)(?!.*?_$)[0-9a-zA-Z\_]+$/,
            nicName: /^[a-zA-Z0-9_\u4e00-\u9fa5]+$/,
            cnName: /^[\u4E00-\u9FA5]{2,4}$/,
            letterOrNum: /^[0-9a-zA-Z]+$/,
            password: /^(\w){6,20}$/,
            qq: /^[1-9][0-9]{5,10}$/,
            mobile: /^(1[0-9]{10})$/,
            phone: /^(([0+]\d{2,3}-)?(0\d{2,3})-)?(\d{7,8})(-(\d{3,4}))?$/,
            email: /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,
            url: /^http:\/\/(?:[\w-\.]{0,255})(?:(?:\/?[^\s]{0,255}){0,255})/g,
            monney: /^([\u0024\u00A2\u00A3\u00A4\u20AC\u00A5\u20B1\20B9\uFFE5]\s*)(\d+,?)+\.?\d*\s*$/,
            ip: /^(\d+)\.(\d+)\.(\d+)\.(\d+)$/,
            date: /^(\d{2,4})\-(\d{1,2})\-(\d{1,2})$/,
            time: /^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,
            dateTime: /^(\d{2,4})\-(\d{1,2})\-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/,
            version: "1.0"
        },
        _isNull: function(t) {
            return t == "" || n.trim(t) == "" ? !0 : /^[ ]+$/.test(t)
        },
        _isOver: function(n, t, i) {
            return this._isNull(n) || n.length < parseInt(t) || n.length > parseInt(i) ? !0 : !1
        },
        _isInteger: function(n) {
            return this._RegConf.integer.test(n)
        },
        _isHasCN: function(n) {
            return this._RegConf.cn.test(n)
        },
        _isUsername: function(n) {
            return ! n || this._isNull(n) ? !1 : this._RegConf.username.test(n)
        },
        _isStartOf: function(str, checkStr) {
            return ! str || this._isNull(str) || !checkStr ? !1 : str == checkStr ? !0 : eval("/^(" + checkStr + ")/").test(str)
        },
        _isEndOf: function(str, checkStr) {
            return ! str || this._isNull(str) || !checkStr ? !1 : str == checkStr ? !0 : eval("/(.*?" + checkStr + "$)/").test(str)
        },
        _isIndexOf: function(str, checkStr) {
            return ! str || this._isNull(str) || !checkStr ? !1 : str == checkStr ? !0 : eval("/(" + checkStr + ".*?)/").test(str)
        },
        _isEmail: function(n) {
            return ! n || this._isNull(n) || !this._isIndexOf(n, "@") ? !1 : this._RegConf.email.test(n)
        },
        _isUrl: function(n) {
            return ! n || this._isNull(n) ? !1 : this._RegConf.url.test(n)
        },
        _isIP: function(n) {
            return ! n || this._isNull(n) ? !1 : this._RegConf.ip.test(n)
        },
        _isMobile: function(n) {
            return ! n || this._isNull(n) ? !1 : this._RegConf.mobile.test(n)
        },
        _isPhone: function(n) {
            return ! n || this._isNull(n) ? !1 : this._RegConf.phone.test(n)
        },
        _isQQ: function(n) {
            return ! n || this._isNull(n) || !this._RegConf.number.test(n) ? !1 : this._RegConf.qq.test(n)
        },
        _isDate: function(n) {
            return ! n || this._isNull(n) ? !1 : this._RegConf.date.test(n)
        }
    },
    n.tpuiFormTipsy = function(i) {
        return this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i),
        this.name = "form-tipsy",
        this.thisClass = t + "-" + this.name,
        this.tipsy = {},
        this._uiEvent(),
        this
    },
    n.tpuiFormTipsy.prototype = {
        version: "1.0.3",
        _messgaeItem: {
            message: null,
            html: !1,
            icon: !1,
            gravity: "sw",
            offset: 5,
            appendTo: null,
            delayIn: 0,
            delayOut: 0,
            onShow: n.noop,
            onHide: n.noop,
            version: "1.0"
        },
        _uiEvent: function() {
            var n = this;
            this.$this.on({
                "_default.formTipsy": function(t, i) {
                    n._hide(),
                    n._tipsy(i)
                },
                "_danger.formTipsy": function(t, i) {
                    n._hide(),
                    n._tipsy(i, "danger")
                },
                "_success.formTipsy": function(t, i) {
                    n._hide(),
                    n._tipsy(i, "success")
                },
                "_warning.formTipsy": function(t, i) {
                    n._hide(),
                    n._tipsy(i, "warning")
                },
                "_hide.formTipsy": function() {
                    n._hide()
                }
            })
        },
        _tipsy: function(i, r) {
            var e = this.$ui,
            f = this.thisClass,
            u = this._message(i),
            o = f + "-" + u.gravity,
            s = r ? f + "-" + r: f + "-default",
            h = u.appendTo || n("body");
            u.message && (this.$uiTipsy = e._uiItem().addClass(f + " " + o + " " + s).appendTo(h), this.$uiInnner = e._uiSub().addClass(f + "-inner").appendTo(this.$uiTipsy), u.icon && (this.$uiIcon = n("<i>").addClass(t + "-icon").appendTo(this.$uiInnner), this.$uiTipsy.addClass(f + "-icon-on")), this.$uiInnner[this.tipsy.html ? "text": "append"](u.message), u.appendTo || (this.$uiTipsy.css({
                position: "absolute",
                left: 0,
                top: 0
            }), this._position(u.gravity)))
        },
        _hide: function() {
            this.$uiTipsy && this.$uiTipsy.remove()
        },
        _message: function(t) {
            return n.extend(!0, {},
            this._messgaeItem, n.isPlainObject(t) ? t: {
                message: t
            })
        },
        _position: function(n) {
            var c = this.$ui,
            r = c._dimensions(this.$this),
            l = c._dimensions(this.$uiTipsy),
            t = {},
            u = parseInt(r.width),
            s = parseInt(r.height),
            f = parseInt(r.offset.top),
            i = parseInt(r.offset.left),
            e = parseInt(l.width),
            h = parseInt(l.height),
            o = 0;
            switch (n.charAt(0)) {
            case "n":
                t = {
                    top: f + s + o,
                    left: i + (u / 2 - e / 2)
                };
                break;
            case "s":
                t = {
                    top: f - h - o,
                    left: i + (u / 2 - e / 2)
                };
                break;
            case "e":
                t = {
                    top: f + s / 2 - h / 2,
                    left: i - e - o
                };
                break;
            case "w":
                t = {
                    top: f + s / 2 - h / 2,
                    left: i + u + o
                }
            }
            n.length == 2 && (t.left = n.charAt(1) == "w" ? i: i + (u - e)),
            this.$uiTipsy.css(t)
        }
    },
    n.tpUI._gadgets("FormTipsy", n.tpuiFormTipsy, n.tpuiFormTipsy.prototype),
    n.tpuiNotify = function(t, i) {
        return this.$ui = n.tpUI || {},
        this.name = "notify",
        this.thisClass = "tp-ui-" + this.name,
        n.type(t) == "object" ? this.options = n.extend({},
        this._option, t) : n.type(t) == "string" ? (this.dataName = t, this.options = i && n.type(i) == "object" ? n.extend({},
        this._option, i) : n.extend({},
        this._option)) : this.options = n.extend({},
        this._option),
        this.dataCache = {},
        this.itemLength = 0,
        this.isDisabled = !1,
        this.isMobile = this.$ui._isMobile(),
        this
    },
    n.tpuiNotify.prototype = {
        _option: {
            size: 320,
            innerBox: null,
            position: "center,top",
            hideMode: "hide",
            doUpdate: n.noop,
            doAdd: n.noop,
            doShow: n.noop,
            doHide: n.noop,
            doRemove: n.noop,
            doClean: n.noop,
            onCreate: n.noop,
            onEnabled: n.noop,
            onDisabled: n.noop,
            version: "1.0.1"
        },
        _itemOption: {
            image: null,
            title: null,
            notify: null,
            buttons: null,
            pendAt: "default",
            status: "default",
            timeout: 5e3,
            speed: 600,
            onCheck: n.noop,
            onShow: n.noop,
            onHide: n.noop,
            onRemove: n.noop,
            version: "2.0.1"
        },
        _init: function() {
            var i = this,
            t = this.options;
            if (!this.$notify) {
                this.$notifyList = n("<div>").addClass(this.thisClass + "-content"),
                t.innerBox ? (this.$notify = this.$ui._obj(t.innerBox).append(this.$notifyList), this.$notifyList.css({
                    position: "relative",
                    width: "auto"
                })) : (this.$notify = this.$ui._obj("body"), this.$notifyBase = n("<div>").addClass(this.thisClass).appendTo(this.$notify), this.$notifyList.css({
                    width: Math.abs(parseInt(t.size))
                }).appendTo(this.$notifyBase), this._position());
                this.options.onCreate(this)
            }
        },
        _item: function(t) {
            var u = this,
            r = this.thisClass,
            i = {};
            i.$row = n("<div>").addClass(r + "-row"),
            i.options = t,
            i.timeOut = null,
            i.$item = n("<div>").addClass(r + "-item " + r + "-" + t.status).appendTo(i.$row),
            t.image && (i.$item.addClass(r + "-image-item"), i.$contents = n("<div>").addClass(this.thisClass + "-image").appendTo(i.$item), t.image.indexOf("/") == 0 ? i.$contents.append('<span><img src="' + t.image + '"></span>') : i.$contents.append('<span class="' + t.image + '">&nbsp;</span>')),
            i.$content = n("<div>").addClass(r + "-message").appendTo(i.$item),
            t.title && (i.$title = n("<h4>").append("<span>" + t.title + "</span>").appendTo(i.$content)),
            t.notify && (i.$contents = n("<p>").append(t.notify).appendTo(i.$content)),
            i.$buttonGroup = n("<div>").addClass(r + "-button-group").appendTo(i.$item),
            t.buttons ? (i.$item.addClass(r + "-button-item"), n.each(t.buttons,
            function(r, u) {
                var f = n("<button>").text(r).on({
                    click: function() {
                        u(t, i)
                    }
                }).appendTo(i.$buttonGroup).tpuiButton()
            })) : (i.$item.addClass(r + "-close-item"), i.$close = n("<div>").addClass(r + "-button " + r + "-close").append('<a href="javascript:void(0);"><em>关闭</em></a>').on({
                "click.notify": function() {
                    u._remove(i)
                }
            }).appendTo(i.$buttonGroup), this.isMobile || i.$close.hide());
            i.$row.on({
                "_show.notify": function() {
                    u._show(i)
                },
                "_hide.notify": function() {
                    u._hide(i)
                },
                "_remove.notify": function() {
                    u._remove(i)
                },
                "click.notify": function(i) {
                    if (n(i.target).closest("." + r + "-button").length === 0) t.onCheck(t)
                },
                "mouseenter.notify": function() {
                    i.$close && !this.isMobile && i.$close.stop(!0, !0).fadeIn(),
                    i.timeOut && (i.timeOut = clearTimeout(i.timeOut))
                },
                "mouseleave.notify": function() {
                    i.$close && !this.isMobile && i.$close.stop(!0, !0).fadeOut(),
                    t.timeout && t.timeout > 0 && (i.timeOut = setTimeout(function() {
                        u._hide(i)
                    },
                    Math.abs(parseInt(t.timeout))))
                }
            });
            return t.timeout && t.timeout > 0 && (i.timeOut = setTimeout(function() {
                switch (u.options.hideMode) {
                case "remove":
                    u._remove(i);
                    break;
                case "hide":
                default:
                    u._hide(i)
                }
            },
            Math.abs(parseInt(t.timeout)))),
            i
        },
        _add: function(t, i) {
            if (!this.isDisabled) {
                if (n.type(t) !== "string" && n.type(t) !== "object") {
                    n.error("消息内容需为字符串或消息对象格式，请重新指定消息内容！");
                    return
                }
                this._init();
                var r = {},
                u = null;
                n.type(t) == "string" ? n.extend(r, this._itemOption, {
                    notify: t,
                    status: this._status(i)
                }) : n.extend(r, this._itemOption, t),
                u = this._item(r, this.thisClass);
                switch (r.pendAt) {
                case "after":
                    u.$row.appendTo(this.$notifyList);
                    break;
                case "before":
                case "default":
                default:
                    u.$row.prependTo(this.$notifyList)
                }
                this._update(),
                this.options.doAdd(this),
                this._show(u)
            }
        },
        _show: function(n) {
            var t = this,
            r = n.options,
            i = r.speed;
            n.$item.show(),
            n.$row.hide().stop(!0, !0).slideDown(i).dequeue().fadeIn(i,
            function() {
                t._update(),
                t.options.doShow(t)
            })
        },
        _hide: function(n) {
            var t = this,
            r = n.options,
            i = r.speed;
            rowSize = this.$ui._dimensions(n.$row).height,
            n.$row.stop(!0, !0).fadeOut(i).dequeue().slideUp(i,
            function() {
                n.$item.hide(),
                t._update(),
                t.options.doHide(t)
            })
        },
        _remove: function(t) {
            var i = this,
            u = t.options,
            r = u.speed,
            f = this.$ui._dimensions(t.$row).height;
            t.$row.stop(!0, !0).animate({
                "margin-top": f
            },
            r).dequeue().fadeOut(r).dequeue().slideUp(r,
            function() {
                n(this).empty().remove(),
                i._update(),
                i.options.doRemove(i)
            })
        },
        _clean: function() {
            this.$notifyList.children().remove(),
            this.$notifyList.empty(),
            this._update(),
            this.options.doClean(this)
        },
        _empty: function() {
            _self._clean()
        },
        _update: function() {
            this.itemLength = this.$notifyList.children().length,
            this.options.doUpdate(this)
        },
        _enabled: function() {
            this.isDisabled = !1
        },
        _disabled: function() {
            this.isDisabled = !0
        },
        _status: function(n) {
            var t = n || "base";
            switch (t) {
            case "success":
                t = "success";
                break;
            case "danger":
                t = "danger";
                break;
            case "warning":
                t = "warning";
                break;
            case "base":
            default:
                t = "base"
            }
            return t
        },
        _position: function() {
            var n = {},
            t = this.options.position.split(","),
            i = this.options.size + 10;
            if (t.length <= 1) switch (t) {
            case "right":
                t = ["right", "top"];
                break;
            case "left":
                t = ["right", "top"];
                break;
            case "center":
            default:
                t = ["center", "top"]
            }
            switch (t[0]) {
            case "left":
                n.left = 0;
                break;
            case "right":
                n.left = "100%",
                n.marginLeft = 0 - i;
                break;
            case "right":
                default_3An.left = "50%",
                n.marginLeft = 0 - i / 2
            }
            switch (t[1]) {
            case "bottom":
                n.top = "100%";
                break;
            case "top":
            default:
                n.top = 0
            }
            this.$notifyBase.css(n),
            t[1] == "bottom" && this.$notifyList.css({
                bottom: 0
            })
        }
    },
    n.tpuiMenu = function(i, r) {
        if (this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i), this.$this = this.$ui._obj(i), this.$sub = this.$this.children(), this.$item = this.$this.find("li"), this.$this[0].tagName === "UL" || this.$this[0].tagName === "OL") return this.options = r,
        this.name = "menu",
        this.thisClass = t + "-" + this.name,
        this.typeClass = this.$this.attr("data-type") || "base",
        this._create(),
        this
    },
    n.tpuiMenu.prototype = {
        _option: {
            startInt: 0,
            toggleOther: !1,
            targetIndex: null,
            arrow: !0,
            speed: "normal",
            easing: "swing",
            onCreate: n.noop,
            onShow: n.noop,
            onHide: n.noop,
            version: "2.0.4"
        },
        _init: function() {
            var t = this.options,
            n;
            this.playInt = parseInt(t.startInt),
            t.targetIndex && (this.playInt = this._active() || this.playInt),
            this._showAll(!0),
            n = this.$item.eq(this.playInt),
            n.parents("li").length > 0 ? this._show(n.parents("li." + this.thisClass + "-sub"), !0) : this._show(n, !0)
        },
        _create: function() {
            this.$uiThis = this.$ui._uiItem().addClass(this.thisClass),
            this.$this.after(this.$uiThis),
            this.$uiMenu = this._menus(this.$this, this.options.arrow).appendTo(this.$uiThis),
            this.$uiMenuHead = this.$uiThis.find("." + this.thisClass + "-base"),
            this.$uiMenuArrow = this.$uiThis.find("." + this.thisClass + "-arrow"),
            this._uiEvent();
            this.options.onCreate(this)
        },
        _menus: function(t, i) {
            var f = this,
            u = this.$ui,
            e = t,
            o = t.children(),
            r = this.thisClass,
            i = i || !1;
            return n.each(o,
            function(t, e) {
                var o = n(e),
                s = o.children().eq(0),
                c = o.children("ul") || o.children("ol") || null,
                a,
                l,
                v,
                h; ! n.isEmptyObject(c) && c.get(0) ? (o.addClass(r + "-sub " + r + "-sub-group "), h = u._uiSub().addClass(r + "-base " + r + "-head").append(s).appendTo(o), u._icon(s), i && (a = u._uiHandleButton("&nbsp;").addClass(r + "-arrow").appendTo(h), h.addClass(r + "-base-arrow")), l = u._uiSub().addClass(r + "-submenu").appendTo(o), v = f._menus(c, i).appendTo(l)) : (o.addClass(r + "-sub"), h = u._uiSub().addClass(r + "-base").append(s).appendTo(o), f.$ui._icon(s))
            }),
            e
        },
        _uiEvent: function() {
            var t = this;
            this.$this.on({
                _show: function(n, i) {
                    t.playInt = parseInt(i),
                    t._toggle(t.playInt, !0)
                },
                _hide: function(n, i) {
                    t.playInt = parseInt(i),
                    t._toggle(t.playInt, !1)
                }
            });
            this.$uiMenuHead.on({
                click: function() {
                    t.playInt = t._headIndex(n(this)),
                    t._toggle()
                }
            })
        },
        _active: function() {
            return this.$target = this.$this.find("li." + this.options.targetIndex.match(/[a-z0-9\-\_]+/)[0] + ":first"),
            this._itemIndex(this.$target)
        },
        _headIndex: function(n) {
            return this.$uiMenuHead.index(n[0])
        },
        _itemIndex: function(n) {
            return this.$item.index(n[0])
        },
        _toggle: function(n, i) {
            var r = this.$item.eq(n || this.playInt || 0);
            this[r.hasClass(t + "-active") ? "_hide": "_show"](r, i)
        },
        _show: function(n, i) {
            var f = this,
            r = this.options,
            u = t + "-active",
            e = n.children("." + this.thisClass + "-submenu"),
            o = i ? 0 : r.speed,
            s = i ? "swing": r.easing;
            r.toggleOther && this._hide(n.siblings("li." + u), i),
            n.addClass(u),
            e.stop(!0, !0).slideDown(o, s,
            function() {
                r.onShow(f)
            })
        },
        _hide: function(i, r) {
            var f = this,
            u = this.options,
            h = t + "-active",
            e = i.find("." + this.thisClass + "-submenu"),
            o = r ? 0 : u.speed,
            s = r ? "swing": u.easing;
            i.removeClass(t + "-active"),
            e.stop(!0, !0).slideUp(o, s,
            function() {
                n(this).parents("li:first").removeClass(t + "-active");
                u.onHide(f)
            })
        },
        _isOpen: function() {
            return this.$item.eq(parseInt(this.playInt)).children("." + this.thisClass + "-submenu").is(":visible")
        },
        _showAll: function(n) {
            this._show(this.$item, n)
        },
        _hideAll: function(n) {
            this._hide(this.$item, n)
        }
    },
    n.tpUI._gadgets("Menu", n.tpuiMenu, n.tpuiMenu.prototype),
    n.tpuiMarquee = function(i, r) {
        return this.$ui = n.tpUI || {},
        this.$window = n(window),
        this.name = "marquee",
        this.thisClass = t + "-" + this.name,
        this.keyCode = {
            prev: [37, 38, 65, 87, 187, 188],
            next: [39, 40, 68, 83, 189, 190],
            tab: [9]
        },
        this.options = r,
        this.$this = this.$ui._obj(i),
        this.$sub = this.$this.children(),
        this.typeClass = this.$this.attr("data-type") || this.options.type || "base",
        this.struct = {},
        this.isMode = this.options.mode ? !0 : !1,
        this.length = this.$sub.length,
        this.step = this._step(this.options.step),
        this.now = 0,
        this.scroll = 0,
        this.canFlip = !0,
        this._canFlip(),
        this.playInt = null,
        this.scrolling = !1,
        this.scrollType = "next",
        this.animating = !1,
        this.autoPlayInited = !1,
        this._create(),
        this
    },
    n.tpuiMarquee.prototype = {
        _option: {
            type: "base",
            mode: !1,
            direction: "x",
            keyboardFlip: !0,
            tabFlip: !0,
            modeSize: 1,
            step: 1,
            speed: 600,
            easing: "swing",
            autoPlay: !0,
            timer: 5e3,
            option: !0,
            prevText: "上翻",
            nextText: "下翻",
            optionToggle: !0,
            delay: 20,
            hoverMode: "stop",
            onCreate: n.noop,
            onFlip: n.noop,
            onReady: n.noop,
            onEnd: n.noop,
            version: "3.0.3"
        },
        _init: function() {
            this._runInit(),
            this._play()
        },
        _canFlip: function() {
            this.length <= this.step && (this.canFlip = !1)
        },
        _create: function() {
            var i = this.$ui,
            t = this.thisClass,
            r = this.options,
            n = this.struct;
            n.$uiThis = i._uiItem().addClass(t + " " + t + "-" + this.typeClass),
            n.$uiContent = i._uiSub().addClass(t + "-content").appendTo(n.$uiThis),
            n.$uiContentList = i._uiSub().addClass(t + "-content-list").appendTo(n.$uiContent),
            n.$uiSubClone = this.$sub.clone(!0).addClass(t + "-sub-clone").appendTo(this.$this),
            this.$this.before(n.$uiThis).appendTo(n.$uiContentList),
            this._options(),
            n.$uiSub = this.$this.children(),
            this.useLength = n.$uiSub.length,
            this.grid = this.$ui._dimensions(n.$uiSub.eq(0)),
            this._uiEvent()
        },
        _destroy: function() {
            var n = this;
            this._stop(),
            this.$this.off("marqueePrev marqueeNext marqueePlay marqueeStop marqueeDestroy"),
            this.struct.$uiThis.before(this.$this),
            this.struct.$uiSubClone.remove(),
            this.struct.$uiThis.remove(),
            this.$this.removeData("tpuiMarquee")
        },
        _options: function() {
            if (!this.isMode && this.options.option) {
                var i = this,
                r = this.$ui,
                t = this.thisClass,
                u = this.options,
                n = this.struct;
                n.$uiOptionPrev = r._uiHandleLink(u.prevText).addClass(t + "-option " + t + "-prev").on({
                    "click.marqueeOptionPrev touchend.marqueeOptionPrev": function(n) {
                        i.$this.trigger("_prev"),
                        n.preventDefault()
                    }
                }).appendTo(n.$uiThis),
                n.$uiOptionNext = r._uiHandleLink(u.nextText).addClass(t + "-option " + t + "-next").on({
                    "click.marqueeOptionPrev touchend.marqueeOptionPrev": function(n) {
                        i.$this.trigger("_next"),
                        n.preventDefault()
                    }
                }).appendTo(n.$uiThis),
                n.$uiOption = n.$uiThis.children("." + t + "-option")
            }
        },
        _step: function(n) {
            var t = 0,
            i = this.length;
            return this.step = Math.abs(Math.round(parseInt(n))),
            this.step <= t && (this.step = t),
            this.step >= i && (this.step = i),
            this.step
        },
        _runInit: function() {
            var t = this.struct,
            n = this.options.direction == "x" ? !0 : !1;
            this._optionToggle(!1),
            t.$uiThis.addClass(this.thisClass + (n ? "-hor": "-ver")),
            t.$uiContentList.css(n ? "width": "height", this.grid[n ? "width": "height"] * this.useLength)
        },
        _play: function() {
            var n = this,
            t = this.options,
            i = t.autoPlay,
            u = parseInt(t.delay),
            r = parseInt(t.timer);
            this._stop(),
            this.isMode ? this.scrolling = setTimeout(function() {
                n["_" + n.scrollType]()
            },
            30) : i && (n.playInt = clearTimeout(n.playInt), this.playInt = setTimeout(function() {
                n._next(),
                n._play()
            },
            r))
        },
        _stop: function() {
            var n = this.options.autoPlay;
            this.isMode ? this.scrolling = clearTimeout(this.scrolling) : this.playInt = clearTimeout(this.playInt)
        },
        _prev: function() {
            var t = this,
            n = "prev",
            i = this.options,
            r = parseInt(i.delay);
            this.scrollType !== n && (this.scrollType = n),
            this.isMode ? (this._stop(), this.scrolling = setTimeout(function() {
                t._scrollMode(n),
                t._prev()
            },
            30)) : this._slideMode(n)
        },
        _next: function() {
            var t = this,
            n = "next",
            i = this.options;
            this.scrollType !== n && (this.scrollType = n),
            this.isMode ? (this._stop(), this.scrolling = setTimeout(function() {
                t._scrollMode(n),
                t._next()
            },
            30)) : this._slideMode(n)
        },
        _uiEvent: function() {
            var n = this,
            t = this.struct,
            r = this.options,
            i = this.$this;
            i.on({
                "_prev.marquee": function() {
                    n._prev()
                },
                "_next.marquee": function() {
                    n._next()
                },
                "_play.marquee": function() {
                    n._play()
                },
                "_stop.marquee": function() {
                    n._stop()
                },
                "_destroy.marquee": function() {
                    n._destroy()
                }
            });
            t.$uiThis.on({
                "mouseenter.marqueeEnter touchstart.marqueeEnter": function() {
                    n.playInt && (n.autoPlayInited = !0, n._stop()),
                    n._optionToggle(!0),
                    n._keyBoardToggle(!0),
                    n._marqueeHover(!0)
                },
                "mouseleave.marqueeOut touchend.marqueeOut": function() {
                    n.autoPlayInited && (n._play(), n.autoPlayInited = !1),
                    n._optionToggle(!1),
                    n._keyBoardToggle(!1),
                    n._marqueeHover(!1)
                }
            })
        },
        _optionToggle: function(n) {
            this.struct.$uiOption && this.options.optionToggle && (n ? this.struct.$uiOption.stop(!0, !0).fadeIn() : this.struct.$uiOption.stop(!0, !0).fadeOut())
        },
        _keyBoardToggle: function(n) {
            if (this.options.keyboardFlip) {
                var r = this,
                t = this.$window,
                i = "keydown.marqueeKeyCheck";
                if (n) t.on(i,
                function(n) {
                    r._keyBoardEvent(n)
                });
                else t.off(i)
            }
        },
        _keyBoardEvent: function(n) {
            var e = this,
            o = this.keyCode,
            u = this.options,
            t = u.keyboardFlip,
            f = u.tabFlip,
            i = n.keyCode,
            r = this.$this;
            return ! t || n.metaKey || n.shiftKey || n.ctrlKey || n.altKey ? !1 : t && this._isKeyCode("prev", i) ? (r.trigger("_prev"), n.preventDefault(), !1) : t && this._isKeyCode("next", i) ? (r.trigger("_next"), n.preventDefault(), !1) : !this.isMode && f && this._isKeyCode("tab", i) ? (r.trigger("_next"), n.preventDefault(), !1) : void 0
        },
        _isKeyCode: function(t, i) {
            return i && n.inArray(i, this.keyCode[t]) !== -1 ? !0 : !1
        },
        _marqueeHover: function(n) {
            var u, f;
            if (this.isMode) {
                var t = this,
                o = this.options,
                i = o.hoverMode,
                e = "mousemove.scrillPoint",
                s = this.struct,
                r = s.$uiThis;
                if (n) {
                    if (i == "stop" && t._stop(), i == "enter") {
                        u = 0,
                        f = this.$ui._dimensions(r),
                        uiOffsetLeft = f.offset.left,
                        multiple = Math.round(f.width / 2),
                        reEvent = null;
                        r.on(e,
                        function(n) {
                            n.preventDefault(),
                            u = n.pageX - uiOffsetLeft,
                            reEvent = reEvent ? clearTimeout(reEvent) : setTimeout(function() {
                                u <= multiple ? t._prev() : t._next(),
                                reEvent = clearTimeout(reEvent)
                            },
                            30)
                        })
                    }
                } else i == "stop" && t._play(),
                i == "enter" && r.off(e)
            }
        },
        _scrollMode: function(n) {
            var i = parseInt(this.options.modeSize),
            u = this.options.direction,
            r = this.struct.$uiContentList,
            t = null;
            n == "prev" ? this.scroll += i: this.scroll -= i,
            this._scrollReset(n);
            switch (u) {
            case "y":
                t = "translate3d( 0, " + this.scroll + "px, 0 )",
                r.css({
                    transform: t,
                    "-webkit-transform": t,
                    "-moz-transform": t,
                    "-ms-transform": t
                });
                break;
            case "x":
            default:
                t = "translate3d( " + this.scroll + "px, 0, 0 )",
                r.css({
                    transform: t,
                    "-webkit-transform": t,
                    "-moz-transform": t,
                    "-ms-transform": t
                })
            }
        },
        _scrollReset: function(n) {
            var t = this,
            i = 0 - (this.options.direction == "x" ? this.grid.width: this.grid.height);
            n == "prev" ? t.scroll <= 0 && (t._subShift(1, "prepend"), t.scroll = i) : t.scroll <= i && (t._subShift(1, "append"), t.scroll = 0)
        },
        _slideMode: function(n) {
            if (!this.animating) {
                var t = this,
                i = this.options,
                r = i.direction == "x" ? !0 : !1,
                u = this.struct.$uiContentList,
                f = this.grid[r ? "width": "height"] * this.step,
                e = r ? {
                    left: "-" + f + "px"
                }: {
                    top: "-" + f + "px"
                },
                o = r ? {
                    left: "0px"
                }: {
                    top: "0px"
                },
                s = i.speed,
                h = i.easing,
                c = i.onFlip;
                t.animating = !0,
                n == "prev" ? (t._subShift(t.step, "prepend"), u.css(e).stop(!0, !1).animate(o, s, h,
                function() {
                    t.animating = !1,
                    c.apply(t)
                })) : u.stop(!0, !1).animate(e, s, h,
                function() {
                    t._subShift(t.step, "append"),
                    u.css(o),
                    t.animating = !1,
                    c.apply(t)
                })
            }
        },
        _subShift: function(n, t) {
            for (var i = this.$this,
            r = 0; r < n; r++) t == "prepend" ? i.children(":last").prependTo(i) : i.children(":first").appendTo(i)
        }
    },
    n.tpUI._gadgets("Marquee", n.tpuiMarquee, n.tpuiMarquee.prototype),
    n.tpuiDialog = function(i, r) {
        return this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i),
        this.name = "dialog",
        this.thisClass = t + "-" + this.name,
        this.typeClass = this.$this.attr("data-type") || "base",
        this.options = r,
        this.$window = n(window),
        this.$document = n(document),
        this.struct = {},
        this.size = {},
        this.isOpen = !1,
        this.uiClose = !1,
        this.scrollLock = this.options.scrollLock,
        this._create(),
        this.resize = null,
        this
    },
    n.tpuiDialog.prototype = {
        _option: {
            autoOpen: !1,
            modal: !1,
            removeMode: !1,
            escape: !0,
            draggable: !0,
            resizable: !0,
            mask: !0,
            maskClose: !0,
            maskClass: "base",
            head: !0,
            title: null,
            buttons: null,
            width: 440,
            height: null,
            autoResize: !0,
            offset: 20,
            pushTo: null,
            positionAt: "center,middle",
            positionMy: "center,middle",
            scrollLock: !1,
            onCreate: n.noop,
            onOpen: n.noop,
            onClose: n.noop,
            onDragStart: n.noop,
            onDragMove: n.noop,
            onDragEnd: n.noop,
            onResizeStart: n.noop,
            onResizeSet: n.noop,
            onResizeEnd: n.noop,
            version: "2.0.2"
        },
        _optionSet: function(t) {
            return this.options = n.extend({},
            this.options, t),
            this
        },
        _init: function() {
            var n = this.options;
            n.autoOpen && this._open()
        },
        _create: function() {
            var e = this,
            r = this.$ui,
            u = this.options,
            i = this.thisClass,
            t = this.struct,
            f = r._obj(u.pushTo);
            t.$uiThis = r._uiItem().addClass(i + " " + i + "-" + this.typeClass).tpuiPosition({
                my: u.positionMy,
                at: u.positionAt
            }).appendTo(f.get(0) ? f: n("body")),
            t.$uiInner = r._uiSub().addClass(i + "-inner").appendTo(t.$uiThis),
            t.$uiContent = r._uiSub().addClass(i + "-content").append(this.$this).appendTo(t.$uiInner),
            this._head(),
            this._buttons(),
            t.$uiClose = r._uiHandleLink("关闭").attr("title", "点击关闭窗口").addClass(i + "-close"),
            t.$uiHead ? t.$uiClose.appendTo(t.$uiHead) : (t.$uiThis.addClass(i + "-headless"), t.$uiClose.appendTo(t.$uiInner)),
            u.mask && (t.$uiMask = n("." + i + "-mask").get(0) ? n("." + i + "-mask").eq(0) : r._uiMask().addClass(i + "-mask " + i + "-mask-" + u.maskClass).appendTo(n("body")), t.$uiMask.hide()),
            t.$uiThis.hide(),
            this._uiEvent(),
            u.onCreate.apply(this)
        },
        _head: function() {
            var f = this,
            t = this.$this,
            i = this.$ui,
            r = this.options,
            u = this.thisClass,
            n = this.struct; (this.title = r.title || t.attr("title") || t.attr("data-title") || null, r.head && this.title) && (t.removeAttr("title data-icon-before data-icon-after"), n.$uiHead = i._uiSub().addClass(u + "-head").attr("title", "按住拖动可更改窗口位置").prependTo(n.$uiInner), n.$uiTitle = i._uiSub().addClass(u + "-title").append("<span>" + this.title.replace(/<[^>]+>/g, "") + "</span>").appendTo(n.$uiHead), i._icon(t, n.$uiTitle.children("span")), r.draggable && n.$uiThis.tpuiDrag({
                handle: "." + u + "-head"
            }))
        },
        _buttons: function() {
            if (this.options.buttons) {
                var i = this,
                e = this.$this,
                r = this.$ui,
                u = this.options,
                f = this.thisClass,
                t = this.struct;
                t.$uiButtons && t.$uiButtons.remove(),
                t.$uiButtons = r._uiSub().addClass(f + "-buttons").appendTo(t.$uiInner),
                n.each(u.buttons,
                function(r, u) {
                    var f = n("<button>" + r.replace(/<[^>]+>/g, "") + "</button>").on({
                        "click.dialogButtonClick touchend.dialogButtonClick": function() {
                            u(i)
                        }
                    }).appendTo(t.$uiButtons).tpuiButton()
                }),
                t.$uiButtonItem = t.$uiButtons.children()
            }
        },
        _uiEvent: function() {
            var n = this,
            t = this.$this,
            r = this.options,
            i = this.struct;
            t.on({
                "_open.dialogOpen": function() {
                    n._open()
                },
                "_close.dialogClose": function() {
                    n._close()
                }
            });
            i.$uiClose.on({
                "click.dialogClose touchend.dialogClose": function(t) {
                    t.preventDefault(),
                    n.uiClose = !0,
                    n._close()
                }
            })
        },
        _open: function() {
            if (!this.isOpen) {
                var n = this,
                t = this.$ui,
                i = this.options,
                r = this.struct;
                r.$uiThis.show(1,
                function() {
                    n.uiClose = !1,
                    n.isOpen = !0,
                    n._winddowEventToggle(),
                    n.$this.show().find(":text:first").focus(),
                    n._resize();
                    i.onOpen(n)
                }),
                this._maskToggle(!0),
                this.scrollLock && t._windowLock(!0)
            }
        },
        _close: function(n) {
            if (this.isOpen) {
                var t = this,
                u = this.$ui,
                i = this.options,
                n = i.removeMode,
                r = this.struct;
                r.$uiThis.hide(1,
                function() {
                    t.isOpen = !1;
                    i.onClose(t);
                    n && r.$uiThis.empty().remove(),
                    t.scrollLock && u._windowLock(!1)
                }),
                this._maskToggle(!1),
                this._winddowEventToggle()
            }
        },
        _maskToggle: function(n) {
            var i = this,
            u = this.options.maskClose,
            f = this.speed,
            t = this.struct.$uiMask,
            r = "click.dialogClose touchend.dialogClose";
            t && (n ? t.on(r,
            function(n) {
                n.preventDefault(),
                u && (i.uiClose = !0, i._close())
            }).show() : t.off(r).hide())
        },
        _winddowEventToggle: function() {
            var t = this,
            f = this.struct,
            i = this.thisClass,
            r = this.$window,
            u = this.$document;
            if (this.isOpen) {
                u.on({
                    "click.dialogBlank touchend.dialogBlank": function(r) {
                        n(r.target).closest("." + i).length <= 0 && n(r.target).closest("." + i + "-mask").length <= 0 && t._close()
                    }
                });
                r.on({
                    "scroll.dialogScroll resize.dialogResize orientationchange.dialogResize": function(n) {
                        t._resize(),
                        n.preventDefault()
                    },
                    "keyup.dialogEsc": function(n) {
                        n.keyCode == 27 && (t.uiClose = !0, t._close(), n.preventDefault())
                    }
                })
            } else u.off("click.dialogBlank touchend.dialogBlank"),
            r.off("scroll.dialogScroll resize.dialogResize orientationchange.dialogResize keyup.dialogEsc")
        },
        _resize: function() {
            var t = this,
            n = this.$ui;
            struct = this.struct,
            options = this.options,
            scrollSize = n._scrollbarWidth(),
            size = this.size,
            size.offset = 40,
            size.thisSize = n._dimensions(this.$this),
            size.windowSize = n._dimensions(this.$window),
            size.content = n._dimensions(struct.$uiContent),
            size.exclude || (size.exclude = 0, size.exclude = struct.$uiHead ? n._dimensions(struct.$uiHead).height: 0, size.exclude += struct.$uiButtons ? n._dimensions(struct.$uiButtons).height: 0),
            size.max = {
                width: size.windowSize.width - size.offset,
                height: size.windowSize.height - size.offset - size.exclude
            },
            size.base || (size.base = {
                width: Math.abs(parseInt(options.width)) || "auto",
                height: Math.abs(parseInt(options.height)) || "auto"
            },
            size.now = {
                width: size.base.width,
                height: size.base.height
            }),
            size.now.width = size.max.width <= size.now.width ? size.max.width: size.base.width == "auto" ? size.max.width <= size.thisSize.width ? size.max.width: "auto": size.max.width <= size.base.width ? size.max.width: size.base.width,
            size.now.height = size.max.height <= size.now.height ? size.max.height: size.base.height == "auto" ? size.max.height <= size.thisSize.height ? size.max.height: "auto": size.max.height <= size.base.height ? size.max.height: size.base.height,
            struct.$uiContent.css(size.now),
            struct.$uiThis.tpuiPosition("update")
        }
    },
    n.tpUI._gadgets("Dialog", n.tpuiDialog, n.tpuiDialog.prototype),
    n.tpuiTab = function(i, r) {
        return this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i),
        this.name = "tab",
        this.thisClass = t + "-" + this.name,
        this.typeClass = this.$this.attr("data-type") || "base",
        this.options = r,
        this.$this = this.$ui._obj(i),
        this.$sub = this.$this.children(),
        this.subLength = this.$sub.length,
        this._create(),
        this
    },
    n.tpuiTab.prototype = {
        _option: {
            startInt: 0,
            autoPlay: !1,
            timer: 5e3,
            mode: "display",
            direction: "x",
            speed: 600,
            easing: "swing",
            tabAttr: "title",
            tabBox: null,
            tabEvent: "click",
            refer: !1,
            referBox: null,
            referEvent: "click",
            option: !0,
            optionToggle: !0,
            optionPrev: "上翻",
            optionNext: "下翻",
            onCreate: n.noop,
            onFlip: n.noop,
            version: "2.0"
        },
        _init: function() {
            this.tabInt = parseInt(this.options.startInt),
            this.autoPlay = null,
            this._flip()
        },
        _create: function() {
            var n = this;
            this.$uiThis = this.$ui._uiItem().addClass(this.thisClass + " " + this.thisClass + "-" + this.typeClass).appendTo(this.$this),
            this.$uiContent = this.$ui._uiSub().addClass(this.thisClass + "-content").appendTo(this.$uiThis),
            this.$uiContentList = this.$ui._uiSub().addClass(this.thisClass + "-content-list").append(this.$sub).appendTo(this.$uiContent),
            this.$uiContentSub = this.$uiContentList.children(),
            this._tab(),
            this.options.refer && this._refer(),
            this._uiEvent();
            this.options.onCreate(this)
        },
        _tab: function() {
            var t = this;
            this.$uiTab = this.$ui._uiSub().addClass(this.thisClass + "-nav"),
            this.$uiTabList = this.$ui._uiSub().addClass(this.thisClass + "-nav-list").appendTo(this.$uiTab),
            n.each(this.$sub,
            function(i, r) {
                var e = n(r).attr(t.options.tabAttr) || i,
                u = null,
                f = null;
                t.options.tabAttr == "title" && n(r).removeAttr("title"),
                n(r).appendTo(t.$uiContentList),
                u = t.$ui._uiSub().appendTo(t.$uiTabList),
                f = t.$ui._uiHandleLink(e).appendTo(u),
                t.$ui._icon(n(r), f)
            }),
            this.options.tabBox ? this.$uiTab.appendTo(this.$ui._obj(this.options.tabBox)) : this.$uiTab.appendTo(this.$uiThis),
            this.$uiTabSub = this.$uiTabList.children()
        },
        _refer: function() {
            var t = this,
            n, i;
            for (this.$uiRefer = this.options.referBox ? this.$ui._obj(this.options.referBox) : this.$ui._uiSub().addClass(this.thisClass + "-refer").appendTo(this.$uiThis), this.$uiReferList = this.$ui._uiSub().addClass(this.thisClass + "-refer-list").appendTo(this.$uiRefer), n = 1; n <= this.subLength; n++) i = $ui._uiHandleLink(n).appendTo(t.$uiReferList);
            this.$uiReferSub = this.$uiReferList.children()
        },
        _uiEvent: function() {
            var t = this;
            switch (this.options.tabEvent) {
            case "hover":
                this.$uiTabSub.on({
                    mouseenter:
                    function() {
                        t.tabInt = n(this).index(),
                        t._flip()
                    }
                });
                break;
            case "click":
            default:
                this.$uiTabSub.on({
                    click:
                    function() {
                        t.tabInt = n(this).index(),
                        t._flip()
                    }
                })
            }
            if (this.options.refer) switch (option.referEvent) {
            case "hover":
                this.$uiReferSub.on({
                    mouseenter:
                    function() {
                        t.tabInt = n(this).index(),
                        t._flip()
                    }
                });
                break;
            case "click":
            default:
                this.$uiReferSub.on({
                    click:
                    function() {
                        t.tabInt = n(this).index(),
                        t._flip()
                    }
                })
            }
        },
        _flip: function() {
            this.$uiContentSub.removeClass(t + "-active").hide().eq(this.tabInt).addClass(t + "-active").show(),
            this.$uiTabSub.removeClass(t + "-active").eq(this.tabInt).addClass(t + "-active"),
            this.options.refer && this.$uiReferSub.removeClass(t + "-active").eq(this.tabInt).addClass(t + "-active")
        }
    },
    n.tpUI._gadgets("Tab", n.tpuiTab, n.tpuiTab.prototype),
    n.tpuiAccordion = function(i, r) {
        return this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i),
        this.$sub = this.$this.children(),
        this.name = "accordion",
        this.thisClass = t + "-" + this.name,
        this.typeClass = this.$this.attr("data-type") || "base",
        this.options = r,
        this.subLength = this.$sub.length,
        this._create(),
        this
    },
    n.tpuiAccordion.prototype = {
        _option: {
            startInt: 0,
            toggle: !0,
            autoOpen: !0,
            toggleOther: !0,
            toggleEvent: "click",
            speed: 400,
            easing: "swing",
            onCreate: n.noop,
            onShow: n.noop,
            onHide: n.noop,
            version: "2.0"
        },
        _init: function() {
            this.playInt = parseInt(this.options.startInt),
            this._run("run")
        },
        _create: function() {
            var r = this;
            this.$uiThis = this.$ui._uiItem().addClass(this.thisClass + " " + this.thisClass + "-" + this.typeClass).appendTo(this.$this),
            n.each(this.$sub,
            function(t, i) {
                var u = n(i);
                titleSet = u.attr("title") || u.attr("data-title") || "",
                u.attr("title") && u.removeAttr("title");
                var f = r.$ui._uiItem().addClass(r.thisClass + "-sub").appendTo(r.$uiThis),
                e = r.$ui._uiSub().addClass(r.thisClass + "-head").appendTo(f),
                o = r.$ui._uiHandleLink(titleSet).addClass(r.thisClass + "-title").appendTo(e),
                s = r.$ui._uiHandleLink("&nbsp;").addClass(r.thisClass + "-arrow").appendTo(e),
                h = r.$ui._uiSub().addClass(r.thisClass + "-content").hide().append(u).appendTo(f);
                r.$ui._icon(u, o)
            }),
            this.$uiSub = this.$uiThis.children(),
            this._uiEvent();
            this.options.onCreate(this)
        },
        _run: function(n) {
            var t = this,
            i = t._effect,
            r = "_" + n;
            i._slide[r](t)
        },
        _uiEvent: function() {
            var i = this;
            this.$this.on({
                _show: function(n, t) {
                    i.playInt = t,
                    i._run("show")
                },
                _hide: function(n, t) {
                    i.playInt = t,
                    i._run("hide")
                }
            });
            this.$uiSub.find("." + this.thisClass + "-head").on({
                click: function() {
                    i.playInt = n(this).parent().index(),
                    i._run("toggle")
                }
            })
        },
        _effect: {
            _accorLoad: function(n) {
                var i = {};
                return i.activeClass = t + "-active",
                i.contentClass = "." + n.thisClass + "-content:first",
                i.$sub = n.$uiSub,
                i.$subContent = i.$sub.children(i.contentClass),
                i.$subVis = n.$uiThis.children("." + i.activeClass),
                i.$subVisContent = i.$subVis.children(i.contentClass),
                i.$subThis = i.$sub.eq(n.playInt),
                i.$subThisContent = i.$subThis.children(i.contentClass),
                n.runObj = i,
                n
            },
            _slide: {
                _run: function(n) {
                    n.options.toggle ? this._toggle(n) : this._show(n)
                },
                _toggle: function(n) {
                    var t = n._effect._accorLoad(n),
                    r = t.options,
                    i = t.runObj;
                    i.$subThisContent.is(":visible") ? this._hide(t) : this._show(t)
                },
                _show: function(n) {
                    var t = n._effect._accorLoad(n),
                    i = t.options,
                    r = t.runObj;
                    i.toggleOther && this._hide(t),
                    r.$subThis.addClass(r.activeClass),
                    r.$subThisContent.stop(!0, !1).slideDown(i.speed, i.easing,
                    function() {
                        i.onShow(t)
                    })
                },
                _hide: function(n) {
                    var r = n._effect._accorLoad(n),
                    t = r.options,
                    i = r.runObj;
                    t.toggleOther && (i.$subVis.removeClass(i.activeClass), i.$subVisContent.stop(!0, !1).slideUp(t.speed, t.easing,
                    function() {
                        t.onHide(r)
                    })),
                    i.$subThis.removeClass(i.activeClass),
                    i.$subThisContent.stop(!0, !1).slideUp(t.speed, t.easing,
                    function() {
                        t.onHide(r)
                    })
                }
            }
        }
    },
    n.tpUI._gadgets("Accordion", n.tpuiAccordion, n.tpuiAccordion.prototype),
    n.tpuiPasswordStrength = function(i, r) {
        return this.$ui = n.tpUI || {},
        this.$this = this.$ui._obj(i),
        this.$this[0].type !== "password",
        this.options = r,
        this.struct = {},
        this.thisClass = t + "-password-strength",
        this.typeName = this.$this.attr("data-type") || this.options.type,
        this.typeClass = this.thisClass + "-" + this.typeName,
        this.mode = this.options.mode,
        this.modeLength = this.mode.length,
        this.activeMode = null,
        this.modeInterval = 100 / this.modeLength,
        this.score = 0,
        this.active = 0,
        this._create(),
        this
    },
    n.tpuiPasswordStrength.prototype = {
        _option: {
            type: "progress",
            title: "密码强度：",
            score: "密码强度综合评分<em>%S%</em>",
            tagMode: 1,
            proposal: !0,
            synch: !1,
            mode: [[{
                name: "weak",
                value: 0,
                tag: "较弱",
                tips: "安全性较差，强烈建议使用更为复杂的组合",
                callback: n.noop
            }], [{
                name: "general",
                value: 1,
                tag: "一般",
                tips: "安全性一般，建议使用数字、字母和符合组合",
                callback: n.noop
            }], [{
                name: "powerful",
                value: 2,
                tag: "较强",
                tips: "太棒了，您设置的密码已经足够安全了",
                callback: n.noop
            }]],
            width: null,
            height: null,
            onCreate: n.noop,
            version: "1.0"
        },
        _init: function() {
            this._typeUpdate(),
            this._toggle(!1)
        },
        _create: function() {
            var u = this,
            i = this.$ui,
            t = this.struct,
            r = this.thisClass,
            f = this.typeClass;
            t.$uiThis = i._uiItem().addClass(r + " " + f),
            t.$base = i._uiItem().addClass(r + "-base").appendTo(t.$uiThis),
            t.$referInput = n("<input>").attr({
                type: "hidden",
                readonly: "readonly"
            }).prop("readonly", !0).appendTo(t.$base),
            this.$this.after(t.$uiThis);
            switch (this.typeName) {
            case "progress":
                t = u._typeProgress(t)
            }
            this._uiEvent()
        },
        _typeProgress: function(n) {
            var u = this,
            t = this.$ui,
            i = this.thisClass,
            r = this.options;
            return r.title && (n.$main = t._uiItem().addClass(i + "-title").append("<span>" + r.title + "</span>").appendTo(n.$uiThis)),
            n.$main = t._uiItem().addClass(i + "-main").appendTo(n.$uiThis),
            n.$progressBar = t._uiItem().addClass(i + "-progress-box").appendTo(n.$main),
            n.$progress = t._uiItem().append("&nbsp;").addClass(i + "-progress-bar").appendTo(n.$progressBar),
            r.tagMode && r.tagMode > 0 && (n.$tagBox = t._uiItem().addClass(i + "-tag-box").appendTo(n.$main)),
            r.score && (n.$score = t._uiItem().addClass(i + "-score").appendTo(n.$main)),
            n
        },
        _typeProgressUpdate: function() {
            var t = this,
            n = this.activeMode;
            $struct = this.struct,
            tagItemClass = this.thisClass + "-tag-item " + this.thisClass + "-",
            $struct.$tagBox.html('<span class="' + tagItemClass + n.name + '" title="' + n.tips + '">' + n.tag + "</span>"),
            $struct.$progress.stop(!0, !1).animate({
                width: t.score + "%"
            })
        },
        _typeUpdate: function() {
            var n = this;
            this._score(),
            this._modeRead(),
            this._scoreTips(),
            this.struct.$referInput.val(this.active);
            switch (this.typeName) {
            case "progress":
                n._typeProgressUpdate();
                break;
            case "radian":
                n._typeRadianUpdate();
                break;
            case "default":
            default:
                n._typeDefaultUpdate()
            }
        },
        _uiEvent: function() {
            var n = this,
            t = !1;
            this.$this.on({
                "focus.passwordStrengthToggle": function() {
                    t = !0,
                    n._toggle(!0)
                },
                "blur.passwordStrengthToggle": function() {
                    t = !1,
                    n._toggle(!1)
                },
                "keyup.passwordStrengthCheck": function() {
                    t && n._typeUpdate()
                }
            })
        },
        _toggle: function(n) {
            var t = this.struct.$uiThis,
            i = t.is(":visible");
            this.options.synch && t.toggle(n)
        },
        _score: function() {
            var n = this.$this.val(),
            t;
            return (this.score = 0, n == "") ? this.score: (n.length >= 1 && (this.score += 10), /[0-9]{1,}/g.test(n) && (this.score += 10), /[a-z]{1,}/g.test(n) && (this.score += 10), /[A-Z]{1,}/g.test(n) && (this.score += 20), /[\~\@\#\$\%\&\_\-\+\.\?]+?/g.test(n) && (this.score += 25), t = n.match(/([\~\@\#\$\%\&\_\-\+\.\?]+?)/g), t && t.length >= 2 && (this.score += 25), this.score)
        },
        _modeRead: function() {
            var t = null,
            n = 0,
            i = this.struct;
            switch (this.score) {
            case 0:
                n = 0;
                break;
            case 100:
                n = this.modeLength - 1;
                break;
            default:
                n = Math.floor(Math.abs(this.score - this.modeInterval) / this.modeInterval)
            }
            n > 0 && n == this.active || (this.activeMode = this.mode[n][0], this.active = n)
        },
        _scoreTips: function() {
            this.options.score && this.options.score.match(/%S%/) && this.struct.$score.html("<span>" + this.options.score.replace(/%S%/g, this.score) + "</span>")
        }
    },
    n.tpUI._gadgets("PasswordStrength", n.tpuiPasswordStrength, n.tpuiPasswordStrength.prototype)
} (jQuery), $(function() {
    var n = null,
    t = "images/media/",
    i = ".mp3",
    r = new $.tpuiMedia({
        type: "audio"
    });
    $uiLotteryBuzzer = new $.tpuiMedia({
        type: "audio"
    }),
    $.appBase = function() {
        var r = r || $("body"),
        v = $("#broadcast-marquee .broadcast-marquee-list:first"),
        e = $("#menu-base").children("ul:first"),
        u = $("#uss-fs"),
        o = u.find("em:first"),
        s = u.find("i:first"),
        h = !0,
        c = "123,456,789,00",
        t = ["已隐藏", "显示", "隐藏"],
        l = $("#sum-refresh"),
        a = $("#sum-parse"),
        f = $("#sum-parse-inner"),
        i = !1;
        r.tpuiLoading({
            escape: !1,
            title: !1,
            mask: !0
        }),
        $(".tpui-select").tpuiSelect(),
        $(".tpui-text").tpuiText(),
        $(".tpui-button").tpuiButton(),
        $(".tpui-radio").tpuiRadio(),
        $(".kc-calendar").cxCalendar({
            type: "YYYY-MM-DD"
        });
        $(".icon-kc-calendar").on("click",
        function() {
            var n = $(this).prev().find("input.kc-calendar:first"),
            t = n.val();
            n.focus().val(t).cxCalendar(function(n) {
                n.show()
            })
        });
        l.on("click",
        function() {
            var n = $(this),
            t = "loading";
            i || (i = !0, n.addClass(t), setTimeout(function() {
                n.removeClass(t),
                i = !1
            },
            5e3))
        });
        f.tpuiDialog({
            width: 520
        });
        a.on("click",
        function(n) {
            return n.preventDefault(),
            f.tpuiDialog("_open"),
            !1
        });
        n = new $.tpuiNotify({
            size: 360,
            position: "right,bottom",
            doUpdate: function(n) {
                $(".op-message em:first").text(n.itemLength)
            }
        }),
        $.fixderBase(),
        e.tpuiMenu({
            targetIndex: ".active",
            toggleOther: !0,
            speed: 0
        }),
        $("#repassword-base").tpuiPasswordStrength({
            title: "密码安全性：",
            score: null
        })
    },
    $.loadingPage = function() {
        var n = this;
        return $("#loading-page").get(0) || $("#footer-wrap").after('<div id="loading-page"><div class="lp-content"><div class="lpc-sub image"><span>加载中</span></div><div class="lpc-sub progress"><span>Loading···</span></div><div class="lpc-sub tips"><span>欢迎来到 易彩 在线娱乐平台</span></div></div></div>'),
        this.$loading = $("#loading-page"),
        this.$loadingCont = this.$loading.children(".lp-content:first"),
        this.$loadingSub = this.$loading.find(".lpc-sub"),
        this.$loadingProgress = this.$loadingCont.children(".progress:first"),
        this.isShow = this.$loading.is(":visible"),
        this.isAnimate = !1,
        this._show = function() {
            n.isShow || n.isAnimate || (n.isAnimate = !0, n.$loading.show(0,
            function() {
                n.isShow = !0,
                n.isAnimate = !1
            }))
        },
        this._hide = function() {
            n.isShow && !n.isAnimate && (n.isAnimate = !0, n.$loading.hide(0,
            function() {
                n.isShow = !1,
                n.isAnimate = !1
            }))
        },
        this
    },
    $.fixderBase = function() {
        function c(o) {
            r.toggleClass(v, o),
            u.toggleClass(h, o),
            f.toggleClass(a, o),
            y(o),
            !o && n && (t.removeClass(i).children("ul").hide(), n = !1),
            e = o
        }
        function y(n) {
            if (n && n == !0) o.on(s,
            function(n) {
                $(n.target).closest(".fixder-base").length <= 0 && c(!1)
            });
            else o.off(s)
        }
        var r = $("#fixder"),
        o = $(document),
        s = "click.blankCheck",
        l = r.children(".f-handle:first"),
        u = r.children(".f-menu:first"),
        f = l.children("a:first"),
        t = u.children("ul:first").children("li"),
        e = !1,
        n = !1,
        a = "fh-close",
        v = "action",
        h = "f-menu-on",
        i = "f-menu-action";
        f.removeClass(),
        u.removeClass(h),
        t.find("ul").hide();
        f.on({
            click: function() {
                if (e && n) return t.removeClass(i).children("ul").hide(),
                n = !1,
                !1;
                c(e ? 0 : 1)
            }
        });
        t.on({
            click: function() {
                var t = $(this);
                n = !0,
                t.addClass(i).children("ul:first").show(),
                t.siblings().removeClass(i).children("ul").hide()
            }
        })
    },
    $.appModalDialog = function(n, t, i) {
        if (n) return this.time = new Date,
        this.isMethod = typeof n == "string",
        this.isMethod || (this.message = $.isPlainObject(n) ? n: this._options),
        this.message = this.isMethod ? $.extend({},
        this._options, {
            type: i || "default",
            message: n,
            buttons: t || null
        }) : $.extend({},
        this._options, n, {
            type: i || "default",
            buttons: t || null
        }),
        this._create(),
        this
    },
    $.appModalDialog.prototype = {
        _options: {
            type: "default",
            icon: !0,
            useTitle: "易彩消息",
            title: null,
            titleSub: null,
            message: null,
            buttons: null,
            onClose: $.noop
        },
        _create: function() {
            var n = this,
            t = "app-modal-dialog",
            i = this.struct || {};
            i.$uiThis = $("<div>").addClass(t).attr({
                title: n.message.useTitle,
                "data-icon": "message"
            }).append(this._inner()).tpuiDialog({
                pushTo: "#tmpDialogWrap",
                autoOpen: !0,
                mask: !0,
                maskClose: !1,
                removeMode: !0,
                buttons: n.message.buttons,
                width: 480,
                onClose: function(t) {
                    n.message.onClose(),
                    t._close(!0)
                }
            })
        },
        _inner: function() {
            var t = this.message,
            i = "images/status/",
            r = ".png",
            n = "";
            if (n += '<div class="complete complete-' + t.type + '">', t.icon) {
                n += '<div class="complete-sub image"> <span>';
                switch (t.type) {
                case "danger":
                    n += '<img src="' + i + "fail" + r + '" alt="">';
                    break;
                case "success":
                    n += '<img src="' + i + "succes" + r + '" alt="">';
                    break;
                case "warning":
                    n += '<img src="' + i + "warning" + r + '" alt="">';
                    break;
                case "doubt":
                    n += '<img src="' + i + "tips" + r + '" alt="">';
                    break;
                case "message":
                default:
                    n += '<img src="' + i + "message" + r + '" alt="">'
                }
                n += "</span> </div>"
            }
            return t.title && (n += '<div class="complete-sub title">', n += "<h2>" + t.title + "</h2>", t.titleSub && (n += "<h4>" + t.titleSub + "</h4>"), n += "</div>"),
            t.message && (n += '<div class="complete-sub description">' + t.message + "</div>"),
            n += "</div>"
        }
    },
    $.appAlert = function(n, t) {
        if (n) var i = new $.appModalDialog(n, {
            "确定": function(n) {
                n._close(!0)
            }
        },
        t || "warning")
    },
    $.appConfirm = function(n, t, i) {
        if (n) return t = $.isFunction(t) ? t: $.noop,
        new $.appModalDialog(n, {
            "取消": function(n) {
                n._close(!0),
                t(!1)
            },
            "确定": function(n) {
                n._close(!0),
                t(!0)
            }
        },
        i || "tips")
    },
    $.singinBase = function() {
        var n = $("#login-inner"),
        e = $("#op-loginout"),
        t = $(".signin-form-text"),
        i = $(".signin-form-submit, .signin-form-button"),
        r = $(".signin-form-switch"),
        u = $(".signin-form-radio"),
        f = $(".signin-form-checkbox"),
        o;
        $loginEnter = $("#login-enter"),
        $thisPassword = $("input.signin-login-password:first"),
        $cachePassword = null,
        $togglePasswordHnadle = $("#show-password-text"),
        $regPasswordBase = $("#reg-password-base"),
        $regPasswordBase.tpuiPasswordStrength({
            title: "密码安全性：",
            score: null
        });
        $togglePasswordHnadle.on({
            click: function(n) {
                n.preventDefault();
                var t = $thisPassword.attr("type") == "password" ? !0 : !1;
                $(this).toggleClass("spt-show", t),
                $cachePassword = $thisPassword.clone().attr("type", t ? "text": "password"),
                $thisPassword.before($cachePassword).remove(),
                $thisPassword = $cachePassword
            }
        });
        t.tpuiText(),
        i.tpuiButton(),
        r.tpuiSwitch(),
        u.tpuiRadio(),
        f.tpuiCheckbox(),
        n.tpuiDialog();
        $loginEnter.on("click",
        function(t) {
            return t.preventDefault(),
            n.tpuiDialog("_open"),
            !1
        })
    },
    $.bettingBase = function() {
        function e() {
            var r = $.tpUI._dimensions($("#betting-panel")),
            i = $.tpUI._dimensions(n),
            t = r.offset.left - i.width - 10;
            n.css({
                left: t <= 0 ? 10 : t
            }),
            s()
        }
        function s() {
            if (!t) {
                var i = $("#voice-toggle"),
                r = i.length == 0 ? 300 : i.offset().top;
                f.scrollTop() >= r ? n.is(":visible") || (t = !0, n.show(0,
                function() {
                    t = !1
                })) : n.is(":visible") && (t = !0, n.hide(0,
                function() {
                    t = !1
                }))
            }
        }
        function nt() {
            var i = $("#ticket-icon").offset(),
            r = $("#checker-lite").offset(),
            u = $("#ticket-icon span.ticket-icon").attr("ticketId"),
            t = null;
            t = $("<div>").attr("id", "stickie-refer").addClass("animated rubberBand").append('<div class="image"><span class="ticket-icon t-s-96 ti-' + u + '">&nbsp;</span></div>').appendTo($("body")),
            t.fly({
                start: {
                    left: i.left,
                    top: i.top
                },
                end: {
                    left: r.left + 48,
                    top: r.top
                },
                vertex_Rtop: .6,
                speed: 1,
                onEnd: function() {
                    t.fadeOut(function() {
                        t.remove()
                    })
                }
            }),
            $("#stickie-handle").toggleClass("stickie-handle-on")
        }
        var f = $(window),
        d = $(".random-selection"),
        k = $(".bcp-type input, .config > .head input.tn-radio"),
        b = $(".oc-checkbox, .pact-checker input, .tpui-checkbox, .bc-config .tn-checkbox"),
        u = $("#drawing-more-handle"),
        i = $("#drawing-more"),
        r = 600,
        n = $("#cutdown-clock-fixed"),
        w = $("input.betting-multiple"),
        p = $(".bof-count input"),
        y = $("#keeper-list-base"),
        tt = $("input[type=radio][name=keeper-mode]"),
        g = $(".keeper-dialog"),
        v = $("#keeper-create"),
        a = $("#keeper-import"),
        l = $("#keeper-create-handle"),
        c = $("#keeper-import-handle"),
        it = $(".bl-order-id"),
        rt = $("#order-submit"),
        ut = null,
        ft = "",
        h = ["red", "orgen", "green", "blue", "purple"],
        o = $("#shortcut-base li"),
        et = "2015-05-21 15:15:27",
        t;
        if ($.navToggle({
            autoToggle: !0,
            enable: "#ticket-base"
        }), $("body").hasClass("userbg-ggc") && $.each($(".ticket-play-type li"),
        function(n) {
            $(this).addClass("tpt-" + h[n % 5])
        }), $.each($("#betting-panel .sidebar:first .cont"),
        function(n, t) {
            var i = $(t),
            f = i.find(".cb-toggle:first a:first"),
            e = i.find(".cont-body:first"),
            o = "cont-toggled",
            r = ["收起栏目", "展开栏目"],
            u = !1;
            f.on("click",
            function(n) { (n.preventDefault(), u) || (u = !0, e.is(":visible") ? e.hide(0,
                function() {
                    i.addClass(o),
                    f.attr("title", r[1]).find("i:first").text(r[1]),
                    u = !1
                }) : e.show(0,
                function() {
                    i.removeClass(o),
                    f.attr("title", r[0]).find("i:first").text(r[0]),
                    u = !1
                }))
            })
        }), n.get(0)) {
            t = !1,
            e();
            f.on({
                "resize.cutdownFixedInt": function() {
                    e()
                },
                "scroll.cutdownFixedCheck": function() {
                    s()
                }
            })
        }
        if (d.tpuiNumber({
            type: "depart"
        }), k.tpuiRadio(), b.tpuiCheckbox(), w.tpuiNumber({
            type: "depart"
        }), p.tpuiNumber({
            type: "depart"
        }), $.traceNumber(), g.tpuiDialog({
            pushTo: "#tmpDialogWrap",
            mask: !0
        }), y.hide(), i) u.on({
            click: function() {
                i.is(":visible") ? (u.removeClass("active"), i.stop(!0, !0).fadeOut(r).dequeue().slideUp(r)) : (u.addClass("active"), i.stop(!0, !0).slideDown(r).dequeue().fadeIn(r))
            }
        });
        l.click(function() {
            v.tpuiDialog("_open")
        }),
        c.click(function() {
            a.tpuiDialog("_open")
        });
        $(":radio[name=keeper-mode]").on({
            change: function() {
                var n = $(this).val() == "new" ? "slideUp": "slideDown";
                $("#keeper-list-base").stop(!0, !0)[n](function() {
                    $(window).triggerHandler("resize.dialogResize")
                })
            }
        });
        o.find("a.o-betting").tipsy({
            gravity: "e"
        }),
        o.find("a.o-delete").tipsy({
            gravity: "s"
        }),
        $("body").tpuiLoading({
            mask: !0,
            title: null
        });
        $("#stickie-handle").on("click", nt)
    },
    $.traceNumber = function() {
        var t = $('#trace-number .head input[name="order-config"]'),
        i = $(".config-sub"),
        r = $(".trace-text"),
        u = $(".trace-select"),
        f = $(".trace-checkbox"),
        e = $(".trace-switch"),
        o = $(".trace-radio"),
        n = 0,
        s = ["", "bszh", "gjzh"];
        r.tpuiText(),
        u.tpuiSelect(),
        o.tpuiRadio(),
        f.tpuiCheckbox(),
        e.tpuiSwitch(),
        i.hide();
        t.on({
            change: function() {
                n = t.filter(":checked").val(),
                i.hide(),
                n !== 0 && $("#" + s[n]).show()
            }
        })
    },
    $.userCenter = function() {
        function e(n) {
            n ? (r = !0, f.text(s[1]), i.css({
                height: 24
            })) : (r = !1, f.text(s[0]), i.css({
                height: y
            }))
        }
        var u = $(".data-table-option"),
        h = $("#user-menu").children("ul:first"),
        c = $(".table"),
        l = $(".tab-base"),
        a = $("#tracr-viewer"),
        t = $(".forms-table"),
        v = $(".kc-calendar"),
        o = $("#trace-number-toggle"),
        f = o.children("dt:first").find("a:first"),
        i = o.children("dd:first"),
        y = i.get(0) ? $.tpUI._dimensions(i).height: 0,
        s = ["展开全部", "收起全部"],
        r = !0;
        h.tpuiMenu({
            targetIndex: ".active",
            toggleOther: !0
        }),
        t.find(".tpui-text").tpuiText(),
        t.find(".tpui-radio").tpuiRadio(),
        t.find(".tpui-select").tpuiSelect(),
        t.find(".tpui-button").tpuiButton(),
        u.find(".tpui-text").tpuiText(),
        u.find(".tpui-button").tpuiButton(),
        a.find(".tpui-button").tpuiButton(),
        u.find(".tpui-select").tpuiSelect(),
        c.find(".tpui-checkbox").tpuiCheckbox(),
        $.fundsOption(),
        l.tpuiTab(),
        v.cxCalendar({
            type: "YYYY-MM-DD"
        }),
        e(r);
        f.on({
            click: function(n) {
                n.preventDefault(),
                r ? e(!1) : e(!0)
            }
        });
        $.avatarChecker(),
        $("#rePasswordSubmitDemo").click(function() {
            $.appAlert("密码修改成功！请重新登录。", "success")
        }),
        $("#rePasswordCancelDemo").click(function() {
            $.appAlert("密码修改失败！请稍后再试。", "danger")
        }),
        $("#demoNewNotify").click(function() {
            n._add({
                image: "uploads/ticket/klpk.png",
                title: '快乐农场 奖励<em class="fc-red"> &yen;30.00 </em>元',
                notify: '您投注的<em class="fc-yellow">江西彩</em>第<em class="fc-blue">20130715-035</em>期已开奖，您共有<em class="fc-yellow">8</em>个号码中奖，奖励金额<em class="fc-red"> &yen; 30.00</em>元。请注意检查账户动态！',
                timeout: 1e4,
                inAniName: "rubberBand",
                outAniName: "bounceOutRight",
                myData: {
                    date: new Date
                },
                buttons: {
                    "查看": function(n) {
                        alert(n.myData.date)
                    },
                    "关闭": function(n, t) {
                        t.$row.trigger("_remove")
                    }
                }
            })
        }),
        $("#demoDialogViewMessage").click(function() {
            var n = '<div class="module article-head"><h4>大乐透连开25期头奖破纪录 年末期待亿元巨奖</h4><ul><li><span>作者：</span><a href="#">易彩</a></li><li><span>类别：</span><a href="#">分类名称</a></li><li><span>日期：</span><em>2014年11月30日 17:38</em></li></ul></div>',
            t = '<div class="module article-detial"><ul><li>活动仅限12月13日0：00--24：00内下单的当天高频彩的所有期次，购买高频彩全部17个彩种，全天总盈利率大于等于100%，可享受5折购买高频彩。<li><li>享受5折的用户将获得等额于活动投注金50%的红包（全场通用，2014年有效），红包于活动第二天12月14日18：00之前派发；</li><li>新时时彩五星直选-五星通选--四星，老时时彩五星直选-五星通选， 快乐8任选8-任选9-任选10，不参加活动，计算成绩时排除以上玩法，合买不参加活动；</li><li>必须在活动页面点击 “领取5折资格”按钮，免费领取活动资格，不领取资格，将不会返还红包。活动结束前任何时间领取均可算参加。 本次活动总派发奖金共1000万，派完为止，单人上限10000元，请合理安排投注；</li><li>手机客户端和电脑均可参加活动，数据同步。网易彩票保留此活动的最终解释权。</li></ul></div>',
            i = $("<div>").addClass("module").attr("title", "消息详情").append(n + "  " + t).tpuiDialog({
                pushTo: "#tmpDialogWrap",
                autoOpen: !0,
                mask: !0,
                buttons: {
                    "删除": function(n) {
                        n._close(!0)
                    },
                    "标记为已读": function(n) {
                        n._close(!0)
                    },
                    "确定": function(n) {
                        n._close(!0)
                    }
                },
                onClose: function(n) {
                    n._close(!0)
                }
            })
        })
    },
    $.avatarChecker = function() {
        function o() {
            n.toggle(!n.is(":visible")),
            s()
        }
        function s() {
            var u = "click.avatarChange",
            t = "active";
            n.is(":visible") ? $.each(i,
            function(n, f) {
                $(f).on(u,
                function() {
                    var u = $(this),
                    f = u.attr("data-name"),
                    o = u.find("img:first").attr("src");
                    u.hasClass(t) || (i.removeClass(t).eq(n).addClass(t), r.attr("src", o).load(), e.val(f))
                })
            }) : i.off(u)
        }
        var t = $("#avatar-checker"),
        r = t.children(".image").find("img:first"),
        u = t.children(".handle:first"),
        n = t.children(".refer:first"),
        f = n.find("a.close:first"),
        i = n.find("li"),
        e = t.find(".file:first input");
        u.add(f).on("click",
        function() {
            o()
        })
    },
    $.fundsOption = function() {
        function b() {
            n.orderId = v(16),
            n.type = u.find(".active input[type=radio]").val();
            var t = e[n.type];
            if (n.bankName = t.name || null, n.bankUrl = t.site || null, n.username = t.account || null, n.useraccount = t.code || null, n.sum = Math.abs(parseInt($("#tpui-funds-sum").val())), !n.username || !n.useraccount) {
                $.appAlert("没有检测到您的银行账户资料，请确定您已经绑定了银行卡。", "danger");
                return
            }
            if (!n.sum) {
                $.appAlert("充值金额填写错误，请重新填写。", "danger");
                return
            }
        }
        function f(n) {
            var i = "loading...";
            if (t.sum.text(n ? n.sum.toFixed(2) + "元": i), t.bankname.text(n ? n.bankName: i), t.username.text(n ? n.username: i), t.useraccount.text(n ? n.useraccount: i), t.orderid.text(n ? n.orderId: i), n) {
                c.text(n.bankName).on({
                    "click.bankPop": function(t) {
                        t.preventDefault(),
                        window.open(n.bankUrl)
                    }
                });
                h.on({
                    "click.referDemoOpen": function(t) {
                        t.preventDefault(),
                        $("#rd-" + n.type).tpuiDialog("_open")
                    }
                })
            } else c.text(i).off("click.bankPop"),
            h.off("click.referDemoOpen")
        }
        function v(n) {
            for (var i = "ABCDEFGHJKMNPQRST23456789ABCDEFGHJKMNPQRST23456789ABCDEFGHJKMNPQRST23456789",
            u = i.length,
            r = "",
            t = 0; t < n; t++) r += i.charAt(Math.floor(Math.random() * u));
            return r
        }
        function s(n) {
            var t = "click.promptCopy";
            if (n) o.on(t,
            function(n) {
                n.preventDefault(),
                window.prompt("复制到剪贴板: Ctrl+C", $(this).prev("span:first").text())
            });
            else o.off(t)
        }
        var g = $("#tpui-funds-sum"),
        k = $("#recharge-model"),
        l = $(".recharge-demo"),
        r = $("#recharge-order"),
        w = $("#recharge-order-submit"),
        i = $("#recharge-order-refer"),
        c = $("#recharge-order-prop"),
        h = $("#recharge-order-demo"),
        d = $("#recharge-order-back"),
        a = $("#recharge-order-close"),
        u = $("#recharge-account-checker"),
        o = i.find(".rc-copy"),
        y = $("#withdrawal-submit"),
        p = $(".security-task .st-item"),
        n = {},
        t = {},
        e = e || {
            gsyh: {
                name: "中国工商银行",
                site: "../../www.icbc.com.cn/icbc/default.htm",
                account: "易彩张",
                code: "18723981290830918209809380912"
            },
            cft: {
                name: "腾讯财付通",
                site: "../../https@www.tenpay.com/v2/default.htm",
                account: "易彩娱乐",
                code: "kuaicedc_40qq.com"
            },
            zfb: {
                name: "支付宝",
                site: "../../https@www.alipay.com/default.htm",
                account: "易彩在线娱乐",
                code: "kuaicai_40126.com"
            }
        };
        $.each(p,
        function(n, t) {
            var i = $(t),
            u = i.find(".option:first a:first"),
            r = i.find(".task-inner:first");
            r.tpuiDialog({
                pushTo: "#tmpDialogWrap",
                width: 560
            });
            u.on("click",
            function(n) {
                return n.preventDefault(),
                r.tpuiDialog("_open"),
                !1
            })
        }),
        t = {
            sum: $("#rc-sum"),
            bankname: $("#rc-bankname"),
            username: $("#rc-username"),
            useraccount: $("#rc-useraccount"),
            orderid: $("#rc-orderid")
        },
        g.tpuiNumber(),
        i.find(".button-group button").tpuiButton(),
        r.tpuiDialog({
            pushTo: "#tmpDialogWrap",
            scrollLock: !0,
            width: 680,
            maskClose: !1
        }),
        i.tpuiDialog({
            pushTo: "#tmpDialogWrap",
            scrollLock: !0,
            width: 520,
            maskClose: !1,
            onOpen: function() {
                s(!0)
            },
            onClose: function() {
                s(!1),
                f(null),
                r.tpuiDialog("_close"),
                l.tpuiDialog("_close")
            }
        }),
        l.tpuiDialog({
            pushTo: "#tmpDialogWrap",
            scrollLock: !0,
            mask: !1,
            width: 575
        }),
        u.find("input").each(function() {
            $(this).is(":checked") && $(this).parents("label:first").addClass("active");
            $(this).on({
                change: function() {
                    u.find("label.active").removeClass("active"),
                    $(this).is(":checked") && $(this).parents("label:first").addClass("active")
                }
            })
        });
        k.find("a").on("click",
        function(n) {
            return n.preventDefault(),
            r.tpuiDialog("_open"),
            !1
        });
        w.on({
            click: function(t) {
                t.preventDefault(),
                b(),
                r.tpuiDialog("_close"),
                f(n),
                i.tpuiDialog("_open")
            }
        });
        d.on({
            click: function(n) {
                n.preventDefault(),
                i.tpuiDialog("_close"),
                r.tpuiDialog("_open")
            }
        });
        a.on({
            click: function(n) {
                n.preventDefault(),
                i.tpuiDialog("_close")
            }
        });
        y.on({
            click: function(n) {
                n.preventDefault(),
                $.appAlert("提现申请提交成功", "success")
            }
        })
    },
    $.navToggle = function(n) {
        function l() {
            if (!i.enable) return ! 1;
            var n = i.enable.split(",");
            for (useItem in n) if ($.tpUI._obj(n[useItem]).get(0)) return ! 0;
            return ! 1
        }
        function a() {
            var t = "nav-toggle-handle",
            n = $("#" + t);
            return n.get(0) ? n: n = $('<div id="' + t + '"><a href="javascript:void(0);">主导航</a></div>').appendTo($("body"))
        }
        function o() {
            u = !0,
            r.toggleClass("active", !t).attr("title", c[t ? 1 : 0]),
            h.css({
                "margin-top": t ? 0 : "-66px"
            }),
            s.animate({
                top: t ? 0 : "-138px"
            },
            0,
            function() {
                t = !t,
                u = !1
            }),
            f.toggle(t),
            e.toggleClass("ub-index", !t)
        }
        var i = $.extend(!0, {},
        {
            autoToggle: !1,
            enable: null,
            runSpeed: "normal",
            version: "1.0"
        },
        n);
        if (!i.enable) return ! 1;
        var s = $("#header-wrap"),
        h = $("#content-wrap"),
        f = $("#window-option"),
        e = $("#user-base"),
        r = null,
        v = {},
        y = i.runSpeed,
        c = ["点击展开导航栏", "点击收起折叠导航栏"],
        t = !i.autoToggle,
        u = !1;
        f.hide(),
        e.addClass("ub-index"),
        l() && (r = a(), r.on("click",
        function() {
            u || o()
        }).tipsy({
            gravity: "sw"
        }), o())
    },
    $.lotteryTopic = function() {
        function s() {
            t = n.children(),
            $.each(t,
            function(n, t) {
                var i = $(t),
                e = i.find(".image:first img:first"),
                u = i.find(".lo-topic:first"),
                f = i.find(".lo-replace:first");
                u.on("click",
                function() {
                    a(i)
                });
                f.on("click",
                function() {
                    o = n,
                    r(1)
                })
            }),
            h()
        }
        function h() {
            y = t.map(function() {
                return parseInt($(this).attr("data-index"))
            })
        }
        function r(n) {
            var t = $("body"),
            i = f.find("#lc-close");
            f.stop(!0, !0).toggle(n,
            function() {
                if (k.toggleClass("lock", n), v(), n) {
                    i.on("click.replaceClose",
                    function() {
                        r(0)
                    });
                    t.on("click.replaceBlank",
                    function(n) {
                        $(n.target).closest(".ld-checker").length <= 0 && r(0)
                    })
                } else i.off(".replaceClose"),
                t.off(".replaceBlank")
            })
        }
        function v() {
            var n = f.find("ul:first li");
            n.off().on("click.itemCkecked",
            function() {
                var n = $(this),
                i = u(n);
                t.eq(o).before(c(i)).remove(),
                s(),
                o = -1,
                r(0),
                h()
            })
        }
        function a(t) {
            if (!i) {
                var r = u(e.find("li:first")),
                f = u(t),
                o = l(f);
                t.remove(),
                n.prepend(c(r)),
                e.empty().append(o),
                i = setTimeout(function() {
                    b(),
                    s(),
                    i = clearTimeout(i)
                },
                2e3)
            }
        }
        function c(n) {
            return $("<li>").attr({
                "data-title": n.title,
                "data-name": n.name
            }).append('<span class="image"><i><img src="' + n.icon + '" alt="' + n.title + '" /></i></span>').append('<a class="ldb-betting" href="' + n.bettingUrl + '">立即投注</a>').append('<a class="ldb-option lo-topic" href="javascript:void(0);"><i>&nbsp;</i><em>置顶</em></a>').append('<a class="ldb-option lo-replace" href="javascript:void(0);"><i>&nbsp;</i><em>替换</em></a>')
        }
        function l(n) {
            return $("<li>").attr({
                "data-title": n.title,
                "data-name": n.name
            }).append('<div class="image"> <a href="' + n.bettingUrl + '"><img src="' + n.icon + '" alt="' + n.title + '" /></a> </div>').append('<div class="title"> <h4><a href="' + n.bettingUrl + '">' + n.title + "</a></h4> </div>").append('<div class="cutdown"><h4>距离<span>第<em>' + n.nextPeriod.period + '</em>期</span>开奖剩余：</h4> <div class="cutdown-lite"><span class="lc-loading">Loading···</span></div></div>').append('<div class="betting-btn"> <a href="' + n.bettingUrl + '">立即投注</a> </div>')
        }
        function b() {
            for (var i = (1520).toString(), r = i.length, t = $("<ul>"), n = 0; n < r; n++) t.append("<li><span>" + i.substr(n, 1) + "</span></li>"),
            n % 2 && n < r - 1 && t.append("<li><span>:</span></li>");
            $(".cutdown-lite").empty().append(t)
        }
        function u(n) {
            return {
                name: n.attr("data-name"),
                title: n.attr("data-title"),
                bettingUrl: "betting-" + n.attr("data-name") + ".html",
                icon: "uploads/ticket/" + n.attr("data-name") + ".png",
                nextPeriod: {
                    period: 20150415002,
                    drawTime: 128097733e4,
                    status: 0
                }
            }
        }
        if ($(".lottery-dragbel").get(0)) {
            var k = $(".lottery-dragbel"),
            f = $("#ld-checker"),
            w = $("#ld-topic"),
            e = w.find("ul:first"),
            g = e.children(0),
            p = $("#ld-base"),
            n = p.find("ul:first"),
            t = n.children(),
            i = null,
            d = {},
            y = null,
            o = -1;
            s(),
            n.dragsort({
                dragSelector: "li",
                dragSelectorExclude: "a,i,em,span",
                dragEnd: h,
                placeHolderTemplate: '<li class="ld-placeholder"><div></div></li>'
            })
        }
    },
    $.noticeBase = function() {
        function r() {
            var r = $("#nbi-" + n),
            u,
            f;
            r.get(0) && (u = r.children(".head"), f = r.children(".body"), r.siblings($("." + i)).removeClass(i), r.addClass(i), t.parent().stop(!0, !1).animate({
                scrollTop: parseInt(r.position().top) + 8
            },
            600))
        }
        var u = $("#notice"),
        f = u.find(".notice-list:first li"),
        e = $("#notice-more"),
        t = $("#notice-base"),
        o = t.find(".item"),
        i = "active",
        n = null;
        if (u.get(0)) {
            t.tpuiDialog({
                width: 600,
                onOpen: function() {
                    r()
                },
                onClose: function() {
                    n = null,
                    r()
                }
            });
            e.on("click",
            function(i) {
                return i.preventDefault(),
                n = f.eq(0).children("a").attr("data-id"),
                t.tpuiDialog("_open"),
                !1
            });
            f.children("a").on("click",
            function(i) {
                return i.preventDefault(),
                n = $(this).attr("data-id"),
                t.tpuiDialog("_open"),
                !1
            });
            o.children(".head").on("click",
            function() {
                var t = $(this).parent(".item");
                thisId = t.attr("data-id"),
                n == thisId ? t.toggleClass(i) : (n = thisId, r())
            })
        }
    },
    $.actionBase = function() {
        var n = $("#action-base"),
        t = n.find(".ab-item");
        n.get(0) && $.each(t,
        function(n, t) {
            var i = $(t),
            u = i.children(".abi-handle:first"),
            r = i.children(".abi-content:first");
            u.on("click",
            function() {
                if (r.is(":visible")) {
                    r.hide();
                    return
                }
                $(".abi-content:visible").hide(),
                r.show(),
                $("html,body").scrollTop(parseInt(i.offset().top) - 10)
            })
        })
    }
}),
function(n) {
    n.projectionBanner = function() {
        function f() {
            t.is(":visible") ? t.hide(1,
            function() {
                u.off("click.bannerHide")
            }) : t.show(1,
            function() {
                u.one("click",
                function() {
                    n.cookie(i, !0),
                    f()
                })
            })
        }
        var r = n("#projection-topic"),
        t = r.find(".item:first"),
        u = r.find(".close:first"),
        i = "kc-banner-toggled",
        e = n.cookie(i) && n.cookie(i) == "true" ? !0 : !1;
        e || f()
    },
    n.lotteryChart = function(t) {
        return this.$window = n(window),
        this.$document = n(document),
        this.$body = n("body"),
        this.$lotteryChartBox = t,
        this.chartDimension = this._dimension(this.$lotteryChartBox),
        this
    },
    n.lotteryChart.prototype = {
        _resize: function() {},
        _tableItemToggle: function(n, t, i) {
            n.toggleClass(t, i)
        },
        _omissionToggle: function(t) {
            this._tableItemToggle(n("td.lc-omission"), "lc-omission-hide", t)
        },
        _splitToggle: function(t) {
            this._tableItemToggle(n("tr.lc-split"), "lc-split-hide", t)
        },
        _cross: function() {
            var r = this,
            t = r.chartDimension,
            i = n("<div>").addClass("lc-cross lc-cross-line").appendTo(this.$lotteryChartBox),
            u = n("<span>").addClass("lccl-hor").css({
                width: t.width * 3,
                height: "1px",
                "margin-left": 0 - t.width
            }).appendTo(i),
            u = n("<span>").addClass("lccl-ver").css({
                width: "1px",
                height: t.height * 3,
                "margin-top": 0 - t.height
            }).appendTo(i);
            return i
        },
        _crossToggle: function(n) {
            var t = this,
            r = "mouseover.crossCheck",
            u = "mouseout.crossCheck",
            i = this.$lotteryChartBox;
            if (this.$cross || (this.$cross = this._cross()), this.$cross.fadeTo(300, n ? 1 : 0), n) i.on({
                "mouseover.crossCheck": function() {
                    t._crossMoveEvent(!0)
                },
                "mouseout.crossCheck": function() {
                    t._crossMoveEvent(!1)
                }
            });
            else i.off(r + " " + u),
            t._crossMoveEvent(!1)
        },
        _crossMoveEvent: function(n) {
            var t = this.$document,
            u = this.$cross,
            i = this.chartDimension,
            r = "mousemove.lcCrossCheck",
            n = n || !1;
            if (n) t.on(r,
            function(n) {
                n.preventDefault(),
                u.stop(!0, !0).animate({
                    left: n.pageX - i.left,
                    top: n.pageY - i.top
                })
            });
            else t.off(r)
        },
        _drawLine: function(t, i, r, u, f) {
            var tt = this,
            b = null,
            h = null,
            nt = i.children("span:first"),
            g = r.children("span:first"),
            p = 3,
            l = 0,
            w = 0,
            a = 0,
            k = 0,
            o = this._dimension(nt),
            s = this._dimension(g),
            c = o,
            v = c.width / p,
            y = c.height / p,
            e = {},
            d = this._dimension(t);
            e = {
                left: Math.min(o.left, s.left),
                top: Math.min(o.top, s.top),
                width: parseInt(Math.abs(o.left - s.left) + c.width),
                height: parseInt(Math.abs(o.top - s.top) + c.height)
            },
            b = n('<canvas width="' + e.width + '" height="' + e.height + '">').css({
                position: "absolute",
                "z-index": 99,
                left: e.left - d.left,
                top: e.top - d.top
            }).prependTo(t),
            h = b[0].getContext("2d"),
            h.lineWidth = f || 1,
            h.lineJoin = "round",
            h.strokeStyle = u || "#0000",
            w = o.top - e.top + (c.height - y),
            l = o.left - e.left + c.width / 2,
            k = s.top - e.top + y,
            a = s.left - e.left + c.width / 2,
            o.left < s.left && (l = l + v, a = a - v),
            o.left > s.left && (l = l - v, a = a + v),
            h.moveTo(l, w),
            h.lineTo(a, k),
            h.stroke()
        },
        _dimension: function(n) {
            if (!n.get(0)) return {};
            var t = n.offset();
            return {
                width: parseInt(n.outerWidth()),
                height: parseInt(n.outerHeight()),
                left: parseInt(t.left),
                top: parseInt(t.top)
            }
        }
    },
    n.kcScratch = function(t, i) {
        return this.$this = n.tpUI._obj(t),
        this.options = n.extend(!0, {},
        this._options, i),
        this
    },
    n.kcScratch.prototype = {
        _options: {
            autoFilll: !0,
            width: null,
            height: null,
            fillImage: null,
            fillColor: "#aaaaaa",
            brusheSize: 5,
            scratchPatch: null,
            bindFor: null,
            onFrom: null,
            onCreate: n.noop,
            onFill: n.noop,
            onScratch: n.noop,
            onClear: n.noop,
            version: "1.0"
        },
        _init: function() {
            var i = this,
            t = this.options;
            this.isFilled = !1,
            this.thisBase = n.tpUI._dimensions(this.$this),
            this.width = t.width ? parseInt(t.width) : this.thisBase.width - 10,
            this.height = t.height ? parseInt(t.height) : this.thisBase.height - 10,
            this.$canvas = this._canvas(this.width, this.height),
            this.context = this.$canvas.get(0).getContext("2d"),
            this.brusheSize = t.brusheSize ? parseInt(t.brusheSize) : 5,
            this.scratchPatch = t.scratchPatch,
            t.autoFilll && this._fill(),
            this._uiEvent();
            t.onCreate(this)
        },
        _uiEvent: function() {
            var n = this,
            i = this.options,
            t = this.$this,
            r = this.context;
            t.off(".scratch").on({
                "_fill.scratch": function() {
                    n._fill()
                },
                "_scratch.scratch": function() {
                    n._scratch()
                },
                "_clear.scratch": function() {
                    n._clear()
                }
            })
        },
        _canvas: function(t, i) {
            return this.$canvas ? this.$canvas: n("<canvas>").attr({
                width: parseInt(t || _self.width),
                height: parseInt(i || _self.height)
            }).append("您的浏览器不支持HTML5 canvas 标签，请更换其他浏览器").appendTo(this.$this)
        },
        _fill: function() {
            var n = this,
            t = this.options,
            i = this.context,
            r = this.width,
            u = this.height;
            if (this.$canvas.stop(!0, !0).fadeTo(1, 1), t.fillImage) this.fillImage = new Image,
            this.fillImage.src = t.fillImage,
            this.fillImage.onload = function() {
                i.fillStyle = i.createPattern(n.fillImage, "repeat"),
                i.fillRect(0, 0, r, u),
                n.isFilled = !0;
                t.onFill(n)
            };
            else {
                this.fillColor = t.fillColor || "#aaa",
                i.fillStyle = n.fillColor,
                i.fillRect(0, 0, r, u),
                n.isFilled = !0;
                t.onFill(n)
            }
        },
        _scratch: function() {
            function c() {
                if (r >= v - 1) {
                    e.$canvas.stop(!0, !0).fadeTo(1, .5),
                    e.isFilled = !1,
                    l.onScratch.apply(e);
                    return
                }
                n >= h && (r++, t = s[r].split(","), i = parseInt(t[0]), u = parseInt(t[1]), h = (u - i) / o, n = i),
                f = setTimeout(function() {
                    f = f ? clearTimeout(f) : null,
                    n <= h && (a.clearRect(n * Math.random(1, 5), n * Math.random(1, 5), u, o * Math.random(1, 10)), n += o),
                    c()
                },
                3)
            }
            if (this.isFilled) {
                if (!this.scratchPatch) {
                    this._clear();
                    return
                }
                var e = this,
                l = this.options,
                o = this.brusheSize,
                a = this.context,
                s = this.scratchPatch.split("|"),
                v = s.length,
                r = 0,
                t = s[r].split(","),
                i = parseInt(t[0]),
                u = parseInt(t[1]),
                h = u - i,
                n = i,
                f = null;
                c()
            }
        },
        _clear: function() {
            if (this.isFilled) {
                this.context.clearRect(0, 0, this.width, this.height),
                this.isFilled = !1;
                this.options.onClear(this)
            }
        }
    },
    n.fn.kcScratch = function(t) {
        var u = n.kcScratch,
        i = "kcScratch",
        r = typeof t == "string";
        return this.each(function(f, e) {
            var h = this,
            o = n(e),
            s = n.data(o, i);
            s || (s = n.data(o, i, new u(o, r ? {}: t)), s._init()),
            r ? o.trigger(t) : s._init()
        })
    }
} (jQuery), JsEncryptHelper = {
    des: function(n, t, i, r, u) {
        var lt = [16843776, 0, 65536, 16843780, 16842756, 66564, 4, 65536, 1024, 16843776, 16843780, 1024, 16778244, 16842756, 16777216, 4, 1028, 16778240, 16778240, 66560, 66560, 16842752, 16842752, 16778244, 65540, 16777220, 16777220, 65540, 0, 1028, 66564, 16777216, 65536, 16843780, 4, 16842752, 16843776, 16777216, 16777216, 1024, 16842756, 65536, 66560, 16777220, 1024, 4, 16778244, 66564, 16843780, 65540, 16842752, 16778244, 16777220, 1028, 66564, 16843776, 1028, 16778240, 16778240, 0, 65540, 66560, 0, 16842756],
        ft = [ - 2146402272, -2147450880, 32768, 1081376, 1048576, 32, -2146435040, -2147450848, -2147483616, -2146402272, -2146402304, -2147483648, -2147450880, 1048576, 32, -2146435040, 1081344, 1048608, -2147450848, 0, -2147483648, 32768, 1081376, -2146435072, 1048608, -2147483616, 0, 1081344, 32800, -2146402304, -2146435072, 32800, 0, 1081376, -2146435040, 1048576, -2147450848, -2146435072, -2146402304, 32768, -2146435072, -2147450880, 32, -2146402272, 1081376, 32, 32768, -2147483648, 32800, -2146402304, 1048576, -2147483616, 1048608, -2147450848, -2147483616, 1048608, 1081344, 0, -2147450880, 32800, -2147483648, -2146435040, -2146402272, 1081344],
        et = [520, 134349312, 0, 134348808, 134218240, 0, 131592, 134218240, 131080, 134217736, 134217736, 131072, 134349320, 131080, 134348800, 520, 134217728, 8, 134349312, 512, 131584, 134348800, 134348808, 131592, 134218248, 131584, 131072, 134218248, 8, 134349320, 512, 134217728, 134349312, 134217728, 131080, 520, 131072, 134349312, 134218240, 0, 512, 131080, 134349320, 134218240, 134217736, 512, 0, 134348808, 134218248, 131072, 134217728, 134349320, 8, 131592, 131584, 134217736, 134348800, 134218248, 520, 134348800, 131592, 8, 134348808, 131584],
        at = [8396801, 8321, 8321, 128, 8396928, 8388737, 8388609, 8193, 0, 8396800, 8396800, 8396929, 129, 0, 8388736, 8388609, 1, 8192, 8388608, 8396801, 128, 8388608, 8193, 8320, 8388737, 1, 8320, 8388736, 8192, 8396928, 8396929, 129, 8388736, 8388609, 8396800, 8396929, 129, 0, 0, 8396800, 8320, 8388736, 8388737, 1, 8396801, 8321, 8321, 128, 8396929, 129, 1, 8192, 8388609, 8193, 8396928, 8388737, 8193, 8320, 8388608, 8396801, 128, 8388608, 8192, 8396928],
        ct = [256, 34078976, 34078720, 1107296512, 524288, 256, 1073741824, 34078720, 1074266368, 524288, 33554688, 1074266368, 1107296512, 1107820544, 524544, 1073741824, 33554432, 1074266112, 1074266112, 0, 1073742080, 1107820800, 1107820800, 33554688, 1107820544, 1073742080, 0, 1107296256, 34078976, 33554432, 1107296256, 524544, 524288, 1107296512, 256, 33554432, 1073741824, 34078720, 1107296512, 1074266368, 33554688, 1073741824, 1107820544, 34078976, 1074266368, 256, 33554432, 1107820544, 1107820800, 524544, 1107296256, 1107820800, 34078720, 0, 1074266112, 1107296256, 524544, 33554688, 1073742080, 524288, 0, 1074266112, 34078976, 1073742080],
        ht = [536870928, 541065216, 16384, 541081616, 541065216, 16, 541081616, 4194304, 536887296, 4210704, 4194304, 536870928, 4194320, 536887296, 536870912, 16400, 0, 4194320, 536887312, 16384, 4210688, 536887312, 16, 541065232, 541065232, 0, 4210704, 541081600, 16400, 4210688, 541081600, 536870912, 536887296, 16, 541065232, 4210688, 541081616, 4194304, 16400, 536870928, 4194304, 536887296, 536870912, 16400, 536870928, 541081616, 4210688, 541065216, 4210704, 541081600, 0, 541065232, 16, 16384, 541065216, 4210704, 16384, 4194320, 536887312, 0, 541081600, 536870912, 4194320, 536887312],
        st = [2097152, 69206018, 67110914, 0, 2048, 67110914, 2099202, 69208064, 69208066, 2097152, 0, 67108866, 2, 67108864, 69206018, 2050, 67110912, 2099202, 2097154, 67110912, 67108866, 69206016, 69208064, 2097154, 69206016, 2048, 2050, 69208066, 2099200, 2, 67108864, 2099200, 67108864, 2099200, 2097152, 67110914, 67110914, 69206018, 69206018, 2, 2097154, 67108864, 67110912, 2097152, 69208064, 2050, 2099202, 69208064, 2050, 67108866, 69208066, 69206016, 2099200, 0, 2, 69208066, 0, 2099202, 69206016, 2048, 67108866, 67110912, 2048, 2097154],
        ot = [268439616, 4096, 262144, 268701760, 268435456, 268439616, 64, 268435456, 262208, 268697600, 268701760, 266240, 268701696, 266304, 4096, 64, 268697600, 268435520, 268439552, 4160, 266240, 262208, 268697664, 268701696, 4160, 0, 0, 268697664, 268435520, 268439552, 266304, 262144, 266304, 262144, 268701696, 4096, 64, 268697664, 4096, 266304, 268439552, 64, 268435520, 268697600, 268697664, 268435456, 262144, 268439616, 0, 268701760, 262208, 268435520, 268697600, 268439552, 268439616, 0, 268701760, 266240, 266240, 4160, 4160, 262208, 268435456, 268701696],
        k = JsEncryptHelper.des_createKeys(n),
        s = 0,
        l,
        c,
        o,
        vt,
        v,
        y,
        e,
        f,
        w,
        a,
        rt,
        p,
        it,
        tt,
        g,
        ut = t.length,
        b = 0,
        nt = k.length == 32 ? 3 : 9,
        d,
        h;
        for (w = nt == 3 ? i ? [0, 32, 2] : [30, -2, -2] : i ? [0, 32, 2, 62, 30, -2, 64, 96, 2] : [94, 62, -2, 32, 64, 2, 30, -2, -2], t += "\x00\x00\x00\x00\x00\x00\x00\x00", d = "", h = "", r == 1 && (a = u.charCodeAt(s++) << 24 | u.charCodeAt(s++) << 16 | u.charCodeAt(s++) << 8 | u.charCodeAt(s++), p = u.charCodeAt(s++) << 24 | u.charCodeAt(s++) << 16 | u.charCodeAt(s++) << 8 | u.charCodeAt(s++), s = 0); s < ut;) {
            for (i ? (e = t.charCodeAt(s++) << 16 | t.charCodeAt(s++), f = t.charCodeAt(s++) << 16 | t.charCodeAt(s++)) : (e = t.charCodeAt(s++) << 24 | t.charCodeAt(s++) << 16 | t.charCodeAt(s++) << 8 | t.charCodeAt(s++), f = t.charCodeAt(s++) << 24 | t.charCodeAt(s++) << 16 | t.charCodeAt(s++) << 8 | t.charCodeAt(s++)), r == 1 && (i ? (e ^= a, f ^= p) : (rt = a, it = p, a = e, p = f)), o = (e >>> 4 ^ f) & 252645135, f ^= o, e ^= o << 4, o = (e >>> 16 ^ f) & 65535, f ^= o, e ^= o << 16, o = (f >>> 2 ^ e) & 858993459, e ^= o, f ^= o << 2, o = (f >>> 8 ^ e) & 16711935, e ^= o, f ^= o << 8, o = (e >>> 1 ^ f) & 1431655765, f ^= o, e ^= o << 1, e = e << 1 | e >>> 31, f = f << 1 | f >>> 31, c = 0; c < nt; c += 3) {
                for (tt = w[c + 1], g = w[c + 2], l = w[c]; l != tt; l += g) v = f ^ k[l],
                y = (f >>> 4 | f << 28) ^ k[l + 1],
                o = e,
                e = f,
                f = o ^ (ft[v >>> 24 & 63] | at[v >>> 16 & 63] | ht[v >>> 8 & 63] | ot[v & 63] | lt[y >>> 24 & 63] | et[y >>> 16 & 63] | ct[y >>> 8 & 63] | st[y & 63]);
                o = e,
                e = f,
                f = o
            }
            e = e >>> 1 | e << 31,
            f = f >>> 1 | f << 31,
            o = (e >>> 1 ^ f) & 1431655765,
            f ^= o,
            e ^= o << 1,
            o = (f >>> 8 ^ e) & 16711935,
            e ^= o,
            f ^= o << 8,
            o = (f >>> 2 ^ e) & 858993459,
            e ^= o,
            f ^= o << 2,
            o = (e >>> 16 ^ f) & 65535,
            f ^= o,
            e ^= o << 16,
            o = (e >>> 4 ^ f) & 252645135,
            f ^= o,
            e ^= o << 4,
            r == 1 && (i ? (a = e, p = f) : (e ^= rt, f ^= it)),
            h += i ? String.fromCharCode(e >>> 24, e >>> 16 & 255, e >>> 8 & 255, e & 255, f >>> 24, f >>> 16 & 255, f >>> 8 & 255, f & 255) : String.fromCharCode(e >>> 16 & 65535, e & 65535, f >>> 16 & 65535, f & 65535),
            b += i ? 16 : 8,
            b == 512 && (d += h, h = "", b = 0)
        }
        return d + h
    },
    des_createKeys: function(n) {
        for (var ut = [0, 4, 536870912, 536870916, 65536, 65540, 536936448, 536936452, 512, 516, 536871424, 536871428, 66048, 66052, 536936960, 536936964], v = [0, 1, 1048576, 1048577, 67108864, 67108865, 68157440, 68157441, 256, 257, 1048832, 1048833, 67109120, 67109121, 68157696, 68157697], rt = [0, 8, 2048, 2056, 16777216, 16777224, 16779264, 16779272, 0, 8, 2048, 2056, 16777216, 16777224, 16779264, 16779272], it = [0, 2097152, 134217728, 136314880, 8192, 2105344, 134225920, 136323072, 131072, 2228224, 134348800, 136445952, 139264, 2236416, 134356992, 136454144], tt = [0, 262144, 16, 262160, 0, 262144, 16, 262160, 4096, 266240, 4112, 266256, 4096, 266240, 4112, 266256], nt = [0, 1024, 32, 1056, 0, 1024, 32, 1056, 33554432, 33555456, 33554464, 33555488, 33554432, 33555456, 33554464, 33555488], g = [0, 268435456, 524288, 268959744, 2, 268435458, 524290, 268959746, 0, 268435456, 524288, 268959744, 2, 268435458, 524290, 268959746], d = [0, 65536, 2048, 67584, 536870912, 536936448, 536872960, 536938496, 131072, 196608, 133120, 198656, 537001984, 537067520, 537004032, 537069568], k = [0, 262144, 0, 262144, 2, 262146, 2, 262146, 33554432, 33816576, 33554432, 33816576, 33554434, 33816578, 33554434, 33816578], b = [0, 268435456, 8, 268435464, 0, 268435456, 8, 268435464, 1024, 268436480, 1032, 268436488, 1024, 268436480, 1032, 268436488], w = [0, 32, 0, 32, 1048576, 1048608, 1048576, 1048608, 8192, 8224, 8192, 8224, 1056768, 1056800, 1056768, 1056800], ft = [0, 16777216, 512, 16777728, 2097152, 18874368, 2097664, 18874880, 67108864, 83886080, 67109376, 83886592, 69206016, 85983232, 69206528, 85983744], p = [0, 4096, 134217728, 134221824, 524288, 528384, 134742016, 134746112, 16, 4112, 134217744, 134221840, 524304, 528400, 134742032, 134746128], y = [0, 4, 256, 260, 0, 4, 256, 260, 1, 5, 257, 261, 1, 5, 257, 261], a = n.length >= 24 ? 3 : 1, h = new Array(32 * a), l = [0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0], s, o, f = 0, c = 0, u, r, t, e = 0; e < a; e++) for (r = n.charCodeAt(f++) << 24 | n.charCodeAt(f++) << 16 | n.charCodeAt(f++) << 8 | n.charCodeAt(f++), t = n.charCodeAt(f++) << 24 | n.charCodeAt(f++) << 16 | n.charCodeAt(f++) << 8 | n.charCodeAt(f++), u = (r >>> 4 ^ t) & 252645135, t ^= u, r ^= u << 4, u = (t >>> -16 ^ r) & 65535, r ^= u, t ^= u << -16, u = (r >>> 2 ^ t) & 858993459, t ^= u, r ^= u << 2, u = (t >>> -16 ^ r) & 65535, r ^= u, t ^= u << -16, u = (r >>> 1 ^ t) & 1431655765, t ^= u, r ^= u << 1, u = (t >>> 8 ^ r) & 16711935, r ^= u, t ^= u << 8, u = (r >>> 1 ^ t) & 1431655765, t ^= u, r ^= u << 1, u = r << 8 | t >>> 20 & 240, r = t << 24 | t << 8 & 16711680 | t >>> 8 & 65280 | t >>> 24 & 240, t = u, i = 0; i < l.length; i++) l[i] ? (r = r << 2 | r >>> 26, t = t << 2 | t >>> 26) : (r = r << 1 | r >>> 27, t = t << 1 | t >>> 27),
        r &= -15,
        t &= -15,
        s = ut[r >>> 28] | v[r >>> 24 & 15] | rt[r >>> 20 & 15] | it[r >>> 16 & 15] | tt[r >>> 12 & 15] | nt[r >>> 8 & 15] | g[r >>> 4 & 15],
        o = d[t >>> 28] | k[t >>> 24 & 15] | b[t >>> 20 & 15] | w[t >>> 16 & 15] | ft[t >>> 12 & 15] | p[t >>> 8 & 15] | y[t >>> 4 & 15],
        u = (o >>> 16 ^ s) & 65535,
        h[c++] = s ^ u,
        h[c++] = o ^ u << 16;
        return h
    },
    stringToHex: function(n) {
        for (var i = "",
        r = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f"], t = 0; t < n.length; t++) i += r[n.charCodeAt(t) >> 4] + r[n.charCodeAt(t) & 15];
        return i
    },
    hexTostring: function(n) {
        for (var i = "",
        r, t = 0; t < n.length; t += 2) r = parseInt(n.substring(t, t + 2), 16),
        i += String.fromCharCode(r);
        return i
    },
    Encrypt: function(n, t) {
        return (t || t == 0 || t == "0" || t == !1 || t == "false") && n && (t = t.toString(), n = n.toString(), (t || t == 0 || t == "0" || t == !1 || t == "false") && n) ? JsEncryptHelper.stringToHex(JsEncryptHelper.des(n, t, 1, 0)) : ""
    }
},
String.prototype.trim = function() {
    return this.replace(/(^\s*)|(\s*$)/g, "")
},
String.prototype.trimAll = function() {
    return this.replace(/\s*/g, "")
},
String.prototype.replaceFormat = function(n) {
    var t = /{(\d+)}/gm;
    return this.replace(t,
    function(t, i) {
        return n[~~i]
    })
},
String.prototype.replaceAll = function(n, t) {
    return this.replace(new RegExp(n, "gm"), t)
},
String.prototype.startWith = function(n) {
    return typeof n != "string" ? !1 : this.indexOf(n) == 0
},
String.prototype.endWith = function(n) {
    if (typeof n != "string") return ! 1;
    var t = this.length - n.length;
    return t >= 0 && this.lastIndexOf(n) === t
},
String.prototype.getLastString = function(n) {
    return this.substr(this.length - n)
},
String.prototype.toArray = function() {
    for (var t = [], n = 0; n < this.length; n++) t.push(this[n]);
    return t
},
String.prototype.IsPassStrong = function() {
    return this.length < 6 ? !1 : this.match(/^\d+$/) ? !1 : this.match(/^[A-Za-z]+$/) ? !1 : !0
},
String.prototype.sortAsc = function() {
    return this.toArray().sort().join("")
},
String.prototype.sortDesc = function() {
    return this.toArray().sort().reverse().join("")
},
String.prototype.maxShow = function(n, t) {
    if (n = n || 20, t) {
        var i = parseInt(n / 2);
        return this.length > n ? this.substr(0, i - 1) + "..." + this.substr(this.length - (n - i - 1)) : this
    }
    return this.length > n ? this.substr(0, n - 2) + "...": this
},
String.prototype.toSingleSep = function(n) {
    for (var r = this.split(n), u = [], i, t = 0; t < r.length; t++) i = r[t],
    i != "" && u.push(i);
    return u.join(n)
},
Number.prototype.toFixedNum = function(n) {
    return parseFloat(this.toFixed(n))
},
Array.prototype.each = function(n) {
    for (var t = 0; t < this.length; t++) if (n(this[t], t) == !1) break;
    return this
},
Array.prototype.where = function(n) {
    var t = [];
    return this.each(function(i, r) {
        n(i, r) == !0 && t.push(i)
    }),
    t
},
Array.prototype.first = function() {
    return this.length == 0 ? null: this[0]
},
Array.prototype.last = function() {
    return this.length == 0 ? null: this[this.length - 1]
},
Array.prototype.take = function(n) {
    for (var i = [], t = 0; t < n; t++) i.push(this[t]);
    return i
},
Array.prototype.skip = function(n) {
    for (var i = [], t = n; t < this.length; t++) i.push(this[t]);
    return i
},
Array.prototype.dive = function(n) {
    for (var i = [], t = 0; t < this.length; t++) n.indexOf(this[t]) == -1 && i.push(this[t]);
    return i
},
Array.prototype.distinct = function() {
    for (var r = {},
    u = [], f = this.length, t, i, n = 0; n < f; n++) t = this[n],
    i = typeof t + t,
    r[i] === undefined && (u.push(t), r[i] = 1);
    return u
},
Array.prototype.select = function(n) {
    var t = [];
    return this.each(function(i, r) {
        n(i, r) && t.push(i)
    }),
    t
},
Array.prototype.remove = function(n) {
    var i = [],
    t;
    return this.each(function(t, r) {
        n(t, r) && i.push(r)
    }),
    t = this,
    i.reverse().each(function(n) {
        t.splice(n, 1)
    }),
    t
},
Array.prototype.removeElement = function(n) {
    return this.remove(function(t) {
        return t == n
    })
},
Array.prototype.removeAt = function() {
    return this.remove(function(n, t) {
        return t == t
    })
},
Array.prototype.indexOf = function(n) {
    var t = -1;
    return this.each(function(i, r) {
        if (i == n) return t = r,
        !1
    }),
    t
},
Array.prototype.contain = function(n) {
    return this.indexOf(n) >= 0
},
DateFormatStr = {
    dateTime1: "YYYY-MM-DD hh:mm:ss",
    dateTime2: "YYYY/MM/DD hh:mm:ss",
    dateTime3: "MM-DD hh:mm:ss",
    longDate: "YYYY/MM/DD",
    shortDate: "YY/M/D",
    longTime: "hh:mm:ss",
    shortTime: "h:m:s",
    isoDate: "YYYY-MM-DD",
    isoTime: "hh:mm:ss",
    isoDateTime: "YYYY-MM-DD'T'hh:mm:ss",
    isoUtcDateTime: "UTC:YYYY-MM-DD'T'hh:mm:ss'Z'"
},
Date.prototype.Format = function(n) {
    var t = n,
    i = ["日", "一", "二", "三", "四", "五", "六"];
    return t = t.replace(/yyyy|YYYY/, this.getFullYear()),
    t = t.replace(/yy|YY/, this.getYear() % 100 > 9 ? (this.getYear() % 100).toString() : "0" + this.getYear() % 100),
    t = t.replace(/MM/, this.getMonth() > 8 ? (this.getMonth() + 1).toString() : "0" + (this.getMonth() + 1).toString()),
    t = t.replace(/M/g, this.getMonth() + 1),
    t = t.replace(/w|W/g, i[this.getDay()]),
    t = t.replace(/dd|DD/, this.getDate() > 9 ? this.getDate().toString() : "0" + this.getDate()),
    t = t.replace(/d|D/g, this.getDate()),
    t = t.replace(/hh|HH/, this.getHours() > 9 ? this.getHours().toString() : "0" + this.getHours()),
    t = t.replace(/h|H/g, this.getHours()),
    t = t.replace(/mm/, this.getMinutes() > 9 ? this.getMinutes().toString() : "0" + this.getMinutes()),
    t = t.replace(/m/g, this.getMinutes()),
    t = t.replace(/ss|SS/, this.getSeconds() > 9 ? this.getSeconds().toString() : "0" + this.getSeconds()),
    t = t.replace(/s|S/g, this.getSeconds())
},
Date.prototype.DateAdd = function(n, t) {
    var i = this;
    switch (n) {
    case "sec":
        return new Date(Date.parse(i) + 1e3 * t);
    case "min":
        return new Date(Date.parse(i) + 6e4 * t);
    case "hour":
        return new Date(Date.parse(i) + 36e5 * t);
    case "day":
        return new Date(Date.parse(i) + 864e5 * t);
    case "week":
        return new Date(Date.parse(i) + 6048e5 * t);
    case "qua":
        return new Date(i.getFullYear(), i.getMonth() + t * 3, i.getDate(), i.getHours(), i.getMinutes(), i.getSeconds());
    case "month":
        return new Date(i.getFullYear(), i.getMonth() + t, i.getDate(), i.getHours(), i.getMinutes(), i.getSeconds());
    case "year":
        return new Date(i.getFullYear() + t, i.getMonth(), i.getDate(), i.getHours(), i.getMinutes(), i.getSeconds())
    }
    return undefined
},
hash = {
    "qq.com": "../../mail.qq.com/",
    "gmail.com": "../../mail.google.com/",
    "sina.com": "../../mail.sina.com.cn/",
    "163.com": "../../mail.163.com/",
    "126.com": "../../mail.126.com/",
    "yeah.net": "../../www.yeah.net/default.htm",
    "sohu.com": "../../mail.sohu.com/default.htm",
    "tom.com": "../../mail.tom.com/default.htm",
    "sogou.com": "../../mail.sogou.com/default.htm",
    "139.com": "../../mail.10086.cn/default.htm",
    "hotmail.com": "../../www.hotmail.com/",
    "live.com": "../../login.live.com/default.htm",
    "live.cn": "../../login.live.cn/default.htm",
    "live.com.cn": "../../login.live.com.cn/",
    "189.com": "../../webmail16.189.cn/webmail/default.htm",
    "yahoo.com.cn": "../../mail.cn.yahoo.com/default.htm",
    "yahoo.cn": "../../mail.cn.yahoo.com/default.htm",
    "eyou.com": "../../www.eyou.com/default.htm",
    "21cn.com": "../../mail.21cn.com/default.htm",
    "188.com": "../../www.188.com/default.htm",
    "foxmail.coom": "../../www.foxmail.com/",
    "vip.163.com": "../../vip.163.com/",
    "outlook.com": "../../login.live.com/"
},
ctx = {
    ajaxTimeout: 6e5,
    httpsEnabled: !1,
    ajaxCount: 0,
    isDebug: function() {
        return gl.isDebug
    }
},
ctx.ajax = function(n) {
    n = $.extend({
        timeout: ctx.ajaxTimeout,
        beforeSend: function() {
            ctx.ajaxCount += 1
        },
        complete: function() {
            ctx.ajaxCount -= 1
        },
        error: function(t) {
            t.responseText && (t.responseText == "ajax_login" || t.responseText.indexOf("提供的防伪标记适用于用户“authen”，但当前用户为“”") > -1) ? (_alert("您的登录已失效，请重新登录！登录失效的原因可能有： 1.在其他地方登录; 2.当前IP改变; 3.网络不稳定."), n.type.toLowerCase() == "get" || gl.isLogined ? location.href = "../default.htm": $("#login-enter").click()) : ctx.isDebug() ? alertTip("请示Url：" + n.url + "......\n" + t.responseText, "", "", !0) : console.log("请示Url：" + n.url + "......")
        }
    },
    n);
    var t = n.success;
    return n.success = function(i) {
        i == "ajax_login" ? (_alert("您的登录已失效，请重新登录！登录失效的原因可能有：1.在其他地方登录;2.当前IP改变;3.网络不稳定."), n.type.toLowerCase() == "get" || gl.isLogined ? location.href = "../default.htm": $("#login-enter").click()) : t(i)
    },
    $.ajax(n)
},
ctx.postToken = function(n, t, i, r, u) {
    var f, e = $("input[name=__RequestVerificationToken]:first");
    return f = e.length == 1 ? $.extend(t, {
        __RequestVerificationToken: e.val()
    }) : t,
    ctx.ajax({
        url: n,
        data: f,
        type: "post",
        dataType: "json",
        headers: u,
        success: i,
        error: r
    })
},
ctx.postTokenEx = function(n) {
    var i = {
        type: "post",
        dataType: "json"
    },
    r = $("input[name=__RequestVerificationToken]:first"),
    t;
    return r.length == 1 ? (t = n.data || n.Data, t = t ? $.extend(t, {
        __RequestVerificationToken: r.val()
    }) : {
        __RequestVerificationToken: r.val()
    },
    i = $.extend(i, n, {
        data: t
    })) : i = $.extend(i, n),
    ctx.ajax(i)
},
ctx.postJSON = function(n, t, i, r, u) {
    return ctx.ajax({
        url: n,
        data: t,
        type: "post",
        dataType: "json",
        headers: u,
        success: i,
        error: r
    })
},
ctx.getJSON = function(n, t, i, r) {
    return ctx.ajax({
        url: n,
        type: "get",
        dataType: "json",
        headers: r,
        success: t,
        error: i
    })
},
ctx.getHtml = function(n, t, i, r) {
    return ctx.ajax({
        url: n,
        type: "get",
        dataType: "html",
        headers: r,
        success: t,
        error: i
    })
},
ctx.isAndroid = function() {
    var n = navigator.userAgent;
    return n.indexOf("Android") >= 0 ? !0 : !1
},
ctx.androidVersion = function() {
    var n = navigator.userAgent;
    return parseFloat(n.slice(n.indexOf("Android") + 8))
},
ctx.androidLow = function() {
    return ctx.isAndroid() && ctx.androidVersion() < 3
},
ctx.isIpad = function() {
    return navigator.userAgent.match(/iPad/i) != null
},
ctx.isIE = function() {
    return $.browser.msie
},
$.iMobile = {
    browserInfo: function() {
        return navigator.userAgent
    },
    isMobile: function() {
        return !! $.iMobile.browserInfo().match(/Mobile|Android|U/)
    },
    isIPhone: function() {
        return !! $.iMobile.browserInfo().match(/iPhone OS/)
    },
    isBelowIPhone5: function() {
        return !! $.iMobile.browserInfo().match(/iPhone OS/) && window.screen.height == 480
    },
    isIPhone5: function() {
        return !! $.iMobile.browserInfo().match(/iPhone OS/) && window.screen.height == 568
    },
    isWinPhone: function() {
        return !! $.iMobile.browserInfo().match(/Windows Phone OS/)
    }
},
jQuery.fn.extend({
    everyTime: function(n, t, i, r) {
        return this.each(function() {
            jQuery.timer.add(this, n, t, i, r)
        })
    },
    oneTime: function(n, t, i) {
        return this.each(function() {
            jQuery.timer.add(this, n, t, i, 1)
        })
    },
    stopTime: function(n, t) {
        return this.each(function() {
            jQuery.timer.remove(this, n, t)
        })
    }
}), jQuery.extend({
    timer: {
        global: [],
        guid: 1,
        dataKey: "jQuery.timer",
        regex: /^([0-9]+(?:\.[0-9]*)?)\s*(.*s)?$/,
        powers: {
            ms: 1,
            cs: 10,
            ds: 100,
            s: 1e3,
            das: 1e4,
            hs: 1e5,
            ks: 1e6
        },
        timeParse: function(n) {
            var t, i, r;
            return n == undefined || n == null ? null: (t = this.regex.exec(jQuery.trim(n.toString())), t[2] ? (i = parseFloat(t[1]), r = this.powers[t[2]] || 1, i * r) : n)
        },
        add: function(n, t, i, r, u) {
            var o = 0,
            f, e; (jQuery.isFunction(i) && (u || (u = r), r = i, i = t), t = jQuery.timer.timeParse(t), typeof t != "number" || isNaN(t) || t < 0) || ((typeof u != "number" || isNaN(u) || u < 0) && (u = 0), u = u || 0, f = jQuery.data(n, this.dataKey) || jQuery.data(n, this.dataKey, {}), f[i] || (f[i] = {}), r.timerID = r.timerID || this.guid++, e = function() { (++o > u && u !== 0 || r.call(n, o) === !1) && jQuery.timer.remove(n, i, r)
            },
            e.timerID = r.timerID, f[i][r.timerID] || (f[i][r.timerID] = window.setInterval(e, t)), this.global.push(n))
        },
        remove: function(n, t, i) {
            var r = jQuery.data(n, this.dataKey),
            u,
            i;
            if (r) {
                if (t) {
                    if (r[t]) {
                        if (i) i.timerID && (window.clearInterval(r[t][i.timerID]), delete r[t][i.timerID]);
                        else for (i in r[t]) window.clearInterval(r[t][i]),
                        delete r[t][i];
                        for (u in r[t]) break;
                        u || (u = null, delete r[t])
                    }
                } else for (t in r) this.remove(n, t, i);
                for (u in r) break;
                u || jQuery.removeData(n, this.dataKey)
            }
        }
    }
}), jQuery(window).bind("unload",
function() {
    jQuery.each(jQuery.timer.global,
    function(n, t) {
        jQuery.timer.remove(t)
    })
}),
function(n) {
    function h(n) {
        return typeof n == "string"
    }
    function e(n) {
        var t = st.call(arguments, 1);
        return function() {
            return n.apply(this, t.concat(st.call(arguments)))
        }
    }
    function at(n) {
        return n.replace(l, "$2")
    }
    function vt(n) {
        return n.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/, "$1")
    }
    function d(t, u, e, s, c) {
        var b, y, p, k, d;
        return s !== i ? (p = e.match(t ? l: /^([^#?]*)\??([^#]*)(#?.*)/), d = p[3] || "", c === 2 && h(s) ? y = s.replace(t ? a: ht, "") : (k = r(p[2]), s = h(s) ? r[t ? f: o](s) : s, y = c === 2 ? s: c === 1 ? n.extend({},
        s, k) : n.extend({},
        k, s), y = tt(y), t && (y = y.replace(nt, v))), b = p[1] + (t ? w: y || !p[1] ? "?": "") + y + d) : b = u(e !== i ? e: location.href),
        b
    }
    function it(n, t, u) {
        return t === i || typeof t == "boolean" ? (u = t, t = s[n ? f: o]()) : t = h(t) ? t.replace(n ? a: ht, "") : t,
        r(t, u)
    }
    function ct(t, r, u, f) {
        return h(u) || typeof u == "object" || (f = u, u = r, r = i),
        this.each(function() {
            var e = n(this),
            i = r || ft()[(this.nodeName || "").toLowerCase()] || "",
            o = i && e.attr(i) || "";
            e.attr(i, s[t](o, u, f))
        })
    }
    var i, st = Array.prototype.slice,
    v = decodeURIComponent,
    s = n.param,
    tt, u, r, y, p = n.bbq = n.bbq || {},
    ot, et, ft, ut = n.event.special,
    rt = "hashchange",
    o = "querystring",
    f = "fragment",
    b = "elemUrlAttr",
    k = "href",
    c = "src",
    ht = /^.*\?|#.*$/g,
    a, l, nt, g, w, lt = {};
    s[o] = e(d, 0, vt),
    s[f] = u = e(d, 1, at),
    s.sorted = tt = function(t, i) {
        var u = [],
        r = {};
        return n.each(s(t, i).split("&"),
        function(n, t) {
            var i = t.replace(/(?:%5B|=).*$/, ""),
            f = r[i];
            f || (f = r[i] = [], u.push(i)),
            f.push(t)
        }),
        n.map(u.sort(),
        function(n) {
            return r[n]
        }).join("&")
    },
    u.noEscape = function(t) {
        t = t || "";
        var i = n.map(t.split(""), encodeURIComponent);
        nt = new RegExp(i.join("|"), "g")
    },
    u.noEscape(",/"),
    u.ajaxCrawlable = function(n) {
        return n !== i && (n ? (a = /^.*(?:#!|#)/, l = /^([^#]*)(?:#!|#)?(.*)$/, w = "#!") : (a = /^.*#/, l = /^([^#]*)#?(.*)$/, w = "#"), g = !!n),
        g
    },
    u.ajaxCrawlable(0),
    n.deparam = r = function(t, r) {
        var u = {},
        f = {
            "true": !0,
            "false": !1,
            "null": null
        };
        return n.each(t.replace(/\+/g, " ").split("&"),
        function(t, e) {
            var y = e.split("="),
            h = v(y[0]),
            o,
            a = u,
            l = 0,
            s = h.split("]["),
            c = s.length - 1;
            if (/\[/.test(s[0]) && /\]$/.test(s[c]) ? (s[c] = s[c].replace(/\]$/, ""), s = s.shift().split("[").concat(s), c = s.length - 1) : c = 0, y.length === 2) if (o = v(y[1]), r && (o = o && !isNaN(o) ? +o: o === "undefined" ? i: f[o] !== i ? f[o] : o), c) for (; l <= c; l++) h = s[l] === "" ? a.length: s[l],
            a = a[h] = l < c ? a[h] || (s[l + 1] && isNaN(s[l + 1]) ? {}: []) : o;
            else n.isArray(u[h]) ? u[h].push(o) : u[h] = u[h] !== i ? [u[h], o] : o;
            else h && (u[h] = r ? i: "")
        }),
        u
    },
    r[o] = e(it, 0),
    r[f] = y = e(it, 1),
    n[b] || (n[b] = function(t) {
        return n.extend(lt, t)
    })({
        a: k,
        base: k,
        iframe: c,
        img: c,
        input: c,
        form: "action",
        link: k,
        script: c
    }),
    ft = n[b],
    n.fn[o] = e(ct, o),
    n.fn[f] = e(ct, f),
    p.pushState = ot = function(n, t) {
        h(n) && /^#/.test(n) && t === i && (t = 2);
        var r = n !== i,
        f = u(location.href, r ? n: {},
        r ? t: 2);
        location.href = f
    },
    p.getState = et = function(n, t) {
        return n === i || typeof n == "boolean" ? y(n) : y(t)[n]
    },
    p.removeState = function(t) {
        var r = {};
        t !== i && (r = et(), n.each(n.isArray(t) ? t: arguments,
        function(n, t) {
            delete r[t]
        })),
        ot(r, 2)
    },
    ut[rt] = n.extend(ut[rt], {
        add: function(t) {
            function o(n) {
                var t = n[f] = u();
                n.getState = function(n, u) {
                    return n === i || typeof n == "boolean" ? r(t, n) : r(t, u)[n]
                },
                e.apply(this, arguments)
            }
            var e;
            if (n.isFunction(t)) return e = t,
            o;
            e = t.handler,
            t.handler = o
        }
    })
} (jQuery, this),
function(n, t, i) {
    function u(n) {
        return n = n || location.href,
        "#" + n.replace(/^[^#]*#?(.*)$/, "$1")
    }
    var r = "hashchange",
    f = document,
    e, s = n.event.special,
    h = f.documentMode,
    o = "on" + r in t && (h === i || h > 7);
    n.fn[r] = function(n) {
        return n ? this.bind(r, n) : this.trigger(r)
    },
    n.fn[r].delay = 50,
    s[r] = n.extend(s[r], {
        setup: function() {
            if (o) return ! 1;
            n(e.start)
        },
        teardown: function() {
            if (o) return ! 1;
            n(e.stop)
        }
    }),
    e = function() {
        function a() {
            var f = u(),
            i = v(h);
            f !== h ? (l(h = f, i), n(t).trigger(r)) : i !== h && (location.href = location.href.replace(/#.*/, "") + i),
            s = setTimeout(a, n.fn[r].delay)
        }
        var e = {},
        s, h = u(),
        c = function(n) {
            return n
        },
        l = c,
        v = c;
        return e.start = function() {
            s || a()
        },
        e.stop = function() {
            s && clearTimeout(s),
            s = i
        },
        n.browser.msie && !o &&
        function() {
            var t, i;
            e.start = function() {
                t || (i = n.fn[r].src, i = i && i + u(), t = n('<iframe tabindex="-1" title="empty"/>').hide().one("load",
                function() {
                    i || l(u()),
                    a()
                }).attr("src", i || "javascript:0").insertAfter("body")[0].contentWindow, f.onpropertychange = function() {
                    try {
                        event.propertyName === "title" && (t.document.title = f.title)
                    } catch(n) {}
                })
            },
            e.stop = c,
            v = function() {
                return u(t.location.href)
            },
            l = function(i, u) {
                var e = t.document,
                o = n.fn[r].domain;
                i !== u && (e.title = f.title, e.open(), o && e.write('<script>document.domain="127.0.0.1'127.0.0.1 '"<\/script>'), e.close(), t.location.hash = i)
            }
        } (),
        e
    } ()
} (jQuery, this),
function(n) {
    typeof define == "function" && define.amd ? define(["jquery"], n) : n(jQuery)
} (function(n) {
    function u(n) {
        return n
    }
    function f(n) {
        return decodeURIComponent(n.replace(r, " "))
    }
    function i(n) {
        n.indexOf('"') === 0 && (n = n.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\"));
        try {
            return t.json ? JSON.parse(n) : n
        } catch(i) {}
    }
    var r = /\+/g,
    t = n.cookie = function(r, e, o) {
        var l, h, s, y;
        if (e !== undefined) return o = n.extend({},
        t.defaults, o),
        typeof o.expires == "number" && (l = o.expires, h = o.expires = new Date, h.setDate(h.getDate() + l)),
        e = t.json ? JSON.stringify(e) : String(e),
        document.cookie = [t.raw ? r: encodeURIComponent(r), "=", t.raw ? e: encodeURIComponent(e), o.expires ? "; expires=" + o.expires.toUTCString() : "", o.path ? "; path=" + o.path: "", o.domain ? "; domain=" + o.domain: "", o.secure ? "; secure": ""].join("");
        var a = t.raw ? u: f,
        v = document.cookie.split("; "),
        c = r ? undefined: {};
        for (s = 0, y = v.length; s < y; s++) {
            var p = v[s].split("="),
            w = a(p.shift()),
            b = a(p.join("="));
            if (r && r === w) {
                c = i(b);
                break
            }
            r || (c[w] = i(b))
        }
        return c
    };
    t.defaults = {},
    n.removeCookie = function(t, i) {
        return n.cookie(t) !== undefined ? (n.cookie(t, "", n.extend({},
        i, {
            expires: -1
        })), !0) : !1
    }
}), serverNotifyBase = new $.tpuiNotify({
    size: 360,
    position: "right,bottom"
}), gl = {
    isLogined: !1,
    userInfo: {},
    price: 2,
    pageSize: 20,
    enterEvent: undefined,
    receiveSocketLottery: undefined,
    receiveSocketAward: undefined,
    bettingNoMediaSound: 0,
    isShiShiCai: 0,
    media: new $.tpuiMedia({
        type: "audio"
    }),
    closeVoice: 0,
    cookie: {},
    hadConect: 0
},
gl.refreshCookie = function() {
    var n = $.cookie("closeVoice");
    gl.cookie.closeVoice = n ? n: 0,
    n = $.cookie("lastLotteryBetType"),
    gl.cookie.lastLotteryBetType = n ? JSON.parse(n) : {}
},
gl.refreshCookie(), gl.lotteryDescription = {
    1 : "10:00-02:00(10或5分钟)，全天120期",
    2 : "09:10-23:00每10分钟一期，全天84期",
    3 : "08:30-21:30每10分钟一期，全天79期",
    4 : "08:37-22:07每10分钟一期，全天82期",
    5 : "当天20:30-第二天20:00，每天一期",
    6 : "当天20:30-第二天20:00，每天一期",
    7 : "09:00-22:00每10分钟一期，全天79期",
    8 : "09:07-23:57每5分钟一期，全天179期",
    9 : "00:05-23:59每5分钟一期，全天288期",
    10 : "09:05-21:55每10分钟一期，全天78期",
    11 : "即刮即开 趣味无穷",
    12 : "00:05-23:59每5分钟一期，全天288期",
    13 : "00:05-23:59每5分钟一期，全天288期",
    14 : "10:10-02:00每10分钟一期，全天96期",
    15 : "09:37-22:27每10分钟一期，全天78期",
    16 : "08:50-22:00每10分钟一期，全天80期",
    17 : "09:10-22:00每10分钟一期，全天78期",
    20 : "00:00-23:58每2分钟一期，全天720期"
},
gl.cookie.set = function(n, t) {
    typeof t == "object" ? $.cookie(n, JSON.stringify(t)) : $.cookie(n, t),
    gl.cookie[n] = t
},
gl.media.playCount = function() {
    gl.cookie.closeVoice || gl.media._play("images/media/tips_930.mp3")
},
gl.media.closeVoice = function() {
    gl.cookie.closeVoice || gl.media._play("images/media/closeVoice.mp3")
},
gl.addDesktopShortcut = function() {
    ctx.postTokenEx({
        url: "AddDesktopShortcut",
        data: {
            ShortcutCount: 1
        },
        success: function(n) {
            n == "1" ? alertTip("添加桌面快捷方式成功", "易彩") : alertTip("添加桌面快捷方式失败，请稍后重试", "易彩")
        }
    })
},
$.loadingPageEx = function() {
    var n = this;
    return $("#loading-page").get(0) || $("#footer-wrap").after('<div id="loading-page"><div class="lp-content"><div class="lpc-sub image"><span>加载中</span></div><div class="lpc-sub progress"><span>Loading···</span></div><div class="lpc-sub tips"><span>欢迎来到 易彩 在线娱乐平台</span></div></div></div>'),
    this.$loading = $("#loading-page"),
    this.$loadingCont = this.$loading.children(".lp-content:first"),
    n.$loadingCont.show().css("top", "50%"),
    this.show = function() {
        n.$loading.show()
    },
    this.hide = function() {
        n.$loading.hide()
    },
    this
},
_justOneKey = _tempGoStr.substr(5), EnumLotteryType = {
    cqc: 1,
    tjc: 2,
    jlk3: 3,
    jsk3: 4,
    pl3: 5,
    fc3d: 6,
    klpk: 7,
    pk10: 8,
    wfc: 9,
    sd11x5: 10,
    ggc: 11,
    kck3: 12,
    kcjs3d: 13,
    xjssc: 14,
    gxk3: 15,
    ahk3: 16,
    hubk3: 17,
    hebk3: 18,
    shk3: 19,
    yfc: 20,
    gd11x5: 21,
    jx11x5: 22,
    sh11x5: 23,
    hlj11x5: 24
},
gl.getKeyForLotteryCode = function(n) {
    for (var t in EnumLotteryType) if (EnumLotteryType[t] == n) return t
},
_alert = window.alert, window.alert = function(n, t) {
    t = t || "message";
    var i = {
        message: n,
        icon: !1
    };
    $.appAlert(i, t)
},
_confirm = window.confirm, window.confirm = function(n, t, i) {
    i = i || "doubt",
    $.appConfirm(n, t, i)
},
gl.notify = new $.tpuiNotify({
    size: 400,
    position: "center,bottom",
    hideMode: "remove"
}), gl.doLoop = function(n) {
    var t = {
        loopInt: 0,
        backFunc: ""
    },
    r,
    i;
    t = $.extend({},
    t, n),
    t.loopInt !== "" && t.loopInt !== 0 ? (r = null, i = 0, r = setInterval(function() {
        i = i + 1,
        gl.media.playCount(),
        i >= t.loopInt && (clearInterval(r), typeof t.backFunc == "function" && t.backFunc())
    },
    900)) : typeof mediaObj.backFunc == "function" && mediaObj.backFunc()
},
$(function() {
    gl.loadingPage = $.loadingPageEx(),
    gl.baseBettingBanTips = new $.bettingBanTips,
    $("input, textarea").placeholder(),
    $.appBase(),
    $.singinBase(),
    $.fixderBase(),
    $("body").tpuiLoading({
        mask: !0,
        title: null
    });
    $("#op-loginout").off("click").on({
        click: function() {
            $.appConfirm({
                useTitle: "确定退出登录",
                title: "确定退出？",
                titleSub: "退出后将无法接收到开奖通知"
            },
            function(n) {
                n && (window.location.href = "../Login/Logout")
            })
        }
    });
    $("a[name=valcodebtn]").on("click",
    function() {
        $("#img-valcode").attr("src", "../Login/ValidateCode@r=" + Math.random())
    });
    $("#login-submit-button").on("click",
    function() {
        var u = $(this),
        t = $.trim($("#txt_username").val()),
        i = $.trim($("#txt_pwd").val()),
        r,
        n;
        if (valcode = $.trim($("#txt_valcode").val()), t == "") {
            alertTip("请输入用户名！", "登录");
            return
        }
        if (i == "") {
            alertTip("请输入密码！", "登录");
            return
        }
        if ($("#row-valicode").is(":visible") && valcode == "") {
            alertTip("请输入验证码！", "登录");
            return
        }
        r = {
            userName: t,
            password: i,
            valicode: valcode
        },
        n = $("div.tp-ui-loading-base").parent(),
        n.css({
            "z-index": 99999
        }).show(),
        ctx.postToken("../Login/PostLogin", EnCryptJsonParams(r),
        function(t) {
            if (t == "suc") {
                var i = location.href.toLowerCase().replace("http://", ""),
                r = (location.host + "/Login#hall").toLowerCase(),
                f = (location.host + "/#hall").toLowerCase(),
                e = (location.host + "/Login/ForgetPwd").toLowerCase();
                u.attr("disabled", "disabled"),
                i.indexOf(r) == 0 || i.indexOf(f) == 0 || i.indexOf(e) == 0 ? window.location.href = "../Home": (gl.isLogined = !0, window.location.reload())
            } else n.hide().prev().hide();
            t == "noValidate" && alertTip("该帐号未验证!", "登录"),
            t == "freeze" && alertTip("该用户已被冻结！", "登录"),
            t == "fail" && (alertTip("登录失败,用户名或密码错误！", "登录"), $("#row-valicode").show(), $("a[name=valcodebtn]").click()),
            t == "valicodefail" && (alertTip("验证码错误！", "登录"), $("#row-valicode").show(), $("a[name=valcodebtn]").click())
        },
        function() {
            alertTip("网络异常，请联系管理员！", "登录"),
            n.hide().prev().hide()
        })
    });
    $(document).on("keypress",
    function(n) {
        n.keyCode == 13 && $("#login-submit-button").is(":visible") && $("#login-submit-button").click()
    });
    $("#user-menu").children("ul:first").tpuiMenu({
        targetIndex: ".active",
        autoToggle: !0,
        toggleOther: !0
    }),
    CheckNumInput(),
    function() {
        var t = $("#uss-fs"),
        n = $("#userGamePointId"),
        i = "hidegamepoint";
        t.on("click", "i",
        function() {
            var t = $(this);
            t.html() == "显示" ? (t.html("隐藏"), n.html(n.attr("data")), $.cookie(i, 0)) : (t.html("显示"), n.html("已隐藏"), $.cookie(i, 1))
        });
        $.cookie(i) == 1 ? (n.html("已隐藏"), t.find("i").html("显示")) : (n.html(n.attr("data")), t.find("i").html("隐藏")),
        n.css({
            cursor: "pointer"
        }).dblclick(function() {
            refreshGamePoint()
        })
    } ();
    $("#checker-lite").on("click", "li",
    function() {
        $(this).find("a.clg-tag").click()
    });
    $.noticeBase();
    $("#notice-close").on("click",
    function() {
        $("#notice-wrap").slideUp()
    })
}), $.bettingBanTips = function() {
    function e() {
        f = setTimeout(function() {
            if (r <= 0) {
                t._hide();
                return
            }
            r--,
            u.text(r),
            e()
        },
        1e3)
    }
    var t = this,
    i = 5,
    r = i,
    n = $(".betting-ban-tips:first"),
    o = n.find("a.close:first"),
    u = n.find("#bbt-t-time"),
    f = null,
    s = "1.0";
    n.tpuiDialog({
        mask: !0,
        width: 320,
        onOpen: function() {
            t._cutdownStart()
        },
        onClose: function() {
            t._cutdownStop()
        }
    }),
    u.text(i);
    o.on("click",
    function(n) {
        n.preventDefault(),
        t._hide()
    });
    return this._show = function() {
        n.tpuiDialog("_open")
    },
    this._hide = function() {
        n.tpuiDialog("_close")
    },
    this._cutdownStart = function() {
        e()
    },
    this._cutdownStop = function() {
        r = i,
        u.text(i),
        f = clearTimeout(f)
    },
    this
},
hasSubmit = !1, $(function() {
    $("#tranform-submit").on("click",
    function() {
        if (hasSubmit) return ! 1;
        $("#tranform-submit").css("cursor", "wait"),
        hasSubmit = !0;
        var n = $("#transformGamePoint").val();
        if (n == "" || isNaN(n) || n <= 0) return alertTip("请输入正确的金额！"),
        hasSubmit = !1,
        $("#tranform-submit").css("cursor", "pointer"),
        !1;
        if (parseInt(n) != n) return alertTip("金额必须为整数！"),
        hasSubmit = !1,
        $("#tranform-submit").css("cursor", "pointer"),
        !1;
        ctx.postTokenEx({
            beforeSend: function() {
                $("body").css("cursor", "wait"),
                $("body").attr("title", "系统正为你奋力加载中..."),
                $("body").tpuiLoading("_show")
            },
            complete: function() {
                $("body").css("cursor", "default"),
                $("body").attr("title", ""),
                $("body").tpuiLoading("_hide")
            },
            url: "../ag/TranferGamePoint",
            data: {
                gamePoint: n,
                tranferType: $("input[name='agtranformType'][checked]").val()
            },
            success: function(n) {
                n == "转账成功!" ? (alert(n), setTimeout(function() {
                    hasSubmit = !1,
                    $("#tranform-submit").css("cursor", "pointer"),
                    RefreshUserAgPoint()
                },
                1e3), $("#sum-parse-inner").tpuiDialog("_close")) : (n == "system maintenance, AGIN platform closed!" ? alertTip("AG平台维护中！") : n == "error:60002,Account password error," ? alertTip("AG平台密码错误,请联系客服！") : alertTip(n), setTimeout(function() {
                    hasSubmit = !1,
                    $("#tranform-submit").css("cursor", "pointer")
                },
                2e3))
            }
        })
    })
}), BonusNumHelper = {},
BonusNumHelper._szArray = ["A23", "234", "345", "456", "567", "678", "789", "8910", "910J", "10JQ", "JQK", "QKA"], BonusNumHelper._k3szArray = ["123", "234", "345", "456"], BonusNumHelper.sum = function(n, t) {
    var r = n.split(","),
    i = 0;
    return _.each(r,
    function(n) {
        t == EnumLotteryType.klpk && (n = n.substring(1)),
        i += parseInt(n)
    }),
    i
},
BonusNumHelper.daXiao = function(n, t) {
    return t = t || 5,
    parseInt(n) >= t ? "大": "小"
},
BonusNumHelper.danShuang = function(n) {
    var t = parseInt(n);
    return t % 2 == 1 ? "单": "双"
},
BonusNumHelper.pattern = function(n, t) {
    if (gl.isShiShiCai = [1, 2, 5, 6, 9, 11, 13, 14, 20].indexOf(t) > -1, gl.isK3 = [3, 4, 12, 15, 16, 17, 18, 19].indexOf(t) > -1, gl.isShiShiCai) return BonusNumHelper.getPatternSsc(n);
    if (gl.isK3) return BonusNumHelper.getPatternK3(n);
    switch (t) {
    case EnumLotteryType.klpk:
    case "7":
        strPattern = BonusNumHelper.getPatternKlpk(n);
        break;
    default:
        strPattern = "常规"
    }
    return strPattern
},
BonusNumHelper.getPatternSsc = function(n) {
    var t = n.split(",");
    return (t = t.length == 3 ? t: t.slice(2, 5), t[0] == t[1] && t[1] == t[2]) ? "豹子": t[0] == t[1] || t[1] == t[2] || t[0] == t[2] ? "组三": "组六"
},
BonusNumHelper.getPatternKlpk = function(n) {
    var i = BonusNumHelper.pkNumGetOnlyNum(n).replaceAll(" ", ""),
    t = i.split(",");
    return n[0] == n[4] && n[4] == n[8] ? _.contains(BonusNumHelper._szArray, t[0] + t[1] + t[2]) ? "同花顺": "同花": t[0] == t[1] && t[1] == t[2] ? "豹子": t[0] == t[1] || t[1] == t[2] || t[0] == t[2] ? "对子": _.contains(BonusNumHelper._szArray, t[0] + t[1] + t[2]) ? "顺子": "散牌"
},
BonusNumHelper.getPatternK3 = function(n) {
    var t = n.split(",");
    return t[0] == t[1] && t[1] == t[2] ? "三同号  二同号复选": t[0] == t[1] || t[1] == t[2] || t[0] == t[2] ? "二同号  二同号单选  二不同号": _.contains(BonusNumHelper._k3szArray, t[0] + t[1] + t[2]) ? "三连号  三不同号  二不同号": "三不同号  二不同号"
},
BonusNumHelper.pkSuitFilter = function(n) {
    var t = [n[0], n[4], n[8]];
    return t.join(",")
},
BonusNumHelper.pkNumFilter = function(n) {
    var f = n.split(","),
    t = [],
    r,
    u,
    i;
    for (_.each(f,
    function(n) {
        var i = n.substring(1);
        switch (i) {
        case "01":
            t.push("A ");
            break;
        case "10":
            t.push("10");
            break;
        case "11":
            t.push("J ");
            break;
        case "12":
            t.push("Q ");
            break;
        case "13":
            t.push("K ");
            break;
        default:
            t.push(i.substring(1) + " ")
        }
    }), r = BonusNumHelper.pkSuitFilter(n), r = r.replaceAll("1", "dt").replaceAll("2", "rt").replaceAll("3", "mh").replaceAll("4", "fp"), u = r.split(","), i = 0; i < t.length; i++) t[i] = u[i] + t[i];
    return t.join(",")
},
BonusNumHelper.pkNumGetOnlyNum = function(n) {
    var i = n.split(","),
    t = [];
    return _.each(i,
    function(n) {
        var i = n.substring(1);
        switch (i) {
        case "01":
            t.push("A ");
            break;
        case "10":
            t.push("10");
            break;
        case "11":
            t.push("J ");
            break;
        case "12":
            t.push("Q ");
            break;
        case "13":
            t.push("K ");
            break;
        default:
            t.push(i.substring(1) + " ")
        }
    }),
    t.join(",")
},
BonusNumHelper.k3SumStyle = function() {};
var BonusNumStatInfo = function(n) {
    var t = this;
    t.dataLoaded = !1,
    t.lotteryCode = n,
    t.statData = [],
    t.statConfCookieKey = "betstatconf",
    t.statConfChks = $("div.optimize-control").find(":checkbox"),
    t.optimizeControl = $("div.optimize-control"),
    t.init = function() {
        t._initTypeDict(),
        t.initStatConf(),
        t.bind()
    },
    t.initStatConf = function() {
        var r = $.cookie(t.statConfCookieKey),
        u,
        n,
        i,
        f;
        gl.betAssist.statConf = r ? JSON.parse(r) : {},
        u = {
            hits120: 0,
            curMiss: 1,
            maxMiss: 2,
            preMiss: 3
        };
        for (n in gl.betAssist.statConf) i = u[n],
        i != undefined && (f = gl.betAssist.statConf[n], f && ($("div[id=statinfo-loading]").show(), t.statConfChks.eq(i).parent().next().find("a").click()))
    },
    t.bind = function() {
        var n = {
            "120期冷热": "hits120",
            "当前遗漏": "curMiss",
            "最大遗漏": "maxMiss",
            "上次遗漏": "preMiss"
        };
        t.statConfChks.on("change",
        function() {
            var r = $(this),
            i = r.prop("checked"),
            u = n[$.trim(r.closest("label").find("h4").html())];
            gl.betAssist.statConf[u] = i,
            console.log(i),
            i && $("div[id=statinfo-loading]").show(),
            $.cookie(t.statConfCookieKey, JSON.stringify(gl.betAssist.statConf)),
            t.showStatInfo(gl.betAssist.ruleId, gl.betAssist.statConf)
        })
    },
    t._parseJson = function(n) {
        for (var u = [], i, f, r = 0; r < n.length; r++) i = n[r].split(";"),
        f = {
            LotteryCode: t.lotteryCode,
            MissTimes: i[0],
            MaxMiss: i[1].replace("1000000", "-"),
            Hits120: i[2],
            PreMiss: i[3],
            Target: i[4],
            TargetStat: i[5],
            ChartType: i[6]
        },
        u.push(f);
        return u
    },
    t.loadData = function() {
        gl.betAssistData.stat ? (t.statData = t._parseJson(gl.betAssistData.stat), t.dataLoaded = !0, t.showStatInfo(gl.betAssist.ruleId, gl.betAssist.statConf)) : t.reloadData()
    },
    t.reloadData = function(n) {
        var i = t.lotteryCode + ";" + t.packChartTypes();
        ctx.postTokenEx({
            url: "../Bet/GetNumStat/" + i,
            data: {},
            success: function(i) {
                i && i.Ok == 0 ? alert(i.Tip) : (t.statData = t._parseJson(i.statData), gl.isK3 && (t.k3SumStatData = i.k3SumStatData), t.dataLoaded = !0, t.showStatInfo(gl.betAssist.ruleId, gl.betAssist.statConf), n && n())
            }
        })
    },
    t.getDataByChartType = function(n) {
        var i = $(".betRuleClass.active");
        return _.filter(t.statData,
        function(t) {
            var u = $.trim(i.find("a").html()),
            r;
            return u == "大小单双" || u == "自由双面" ? t.ChartType == n && _.contains(["大", "小", "奇", "偶"], t.TargetStat) : String(n).indexOf(",") != -1 ? (r = n.split(","), t.ChartType == r[0] || t.ChartType == r[1]) : t.ChartType == n
        })
    },
    t._initTypeDict = function() {
        t.typeDict = (new ChartTypeMapper).init()
    },
    t._tmpl = '<dl>\t        <dt><span title="<%=data.tip.title%>"><%=data.tip.text%></span></dt>\t        <dd>\t\t        <ul class="b-column b-column-<%=data.list.length||10%>">                    <%_.each(data.list,function(it){%>                        <%if(data.type=="hits120"){%>                            <li><span><%=it.Hits120%></span></li>                        <%}else if(data.type=="curMiss"){%>                            <li><span><%=it.MissTimes%></span></li>                        <%}else if(data.type=="preMiss"){%>                            <li><span><%=it.PreMiss%></span></li>                        <%}else{%>                            <li><span><%=it.MaxMiss%></span></li>                        <%}%>                    <%});%>\t\t        </ul>\t        </dd>        </dl>',
    t.statinfoTmpl = _.template(t._tmpl),
    t.statTips = {
        hits120: {
            title: "统计近120期号码出现次数",
            text: "120期冷热"
        },
        curMiss: {
            title: "该号码自上次开出以来至本次未出现的期数",
            text: "当前遗漏"
        },
        preMiss: {
            title: "该号码自上上次开出至上次开出之间的期数",
            text: "上次遗漏"
        },
        maxMiss: {
            title: "该号码在历史上最大的遗漏值",
            text: "最大遗漏"
        }
    },
    t.renderStatInfoByTarget = function(n, i, r) {
        var f = [],
        u;
        for (u in r) if (r[u]) {
            var e = _.filter(i,
            function(t) {
                return n == "组选分布" || n == "号码分布" ? t.Target == "组选分布" || t.Target == "号码分布": gl.isK3 && n.indexOf("和值分布-") != -1 ? n.indexOf("-0") != -1 ? t.Target == "和值分布" && t.TargetStat <= 10 : t.Target == "和值分布" && t.TargetStat > 10 : t.Target == n
            }),
            o = {
                type: u,
                tip: t.statTips[u],
                list: e
            },
            s = t.statinfoTmpl({
                data: o
            });
            f.push(s)
        }
        return f.join("")
    },
    t.showStatInfo = function(n, i) {
        var u, f;
        t.dataLoaded && (u = t.typeDict[t.lotteryCode][n], u ? ($("div[id=statinfo-loading]").hide(), t.optimizeControl.show(), f = t.getDataByChartType(u), $("div.showStatisticsClass").each(function() {
            var n = $(this),
            r,
            u;
            n.is(":visible") && (r = n.attr("miss-target"), u = t.renderStatInfoByTarget(r, f, i), n.html(u).slideDown(3e3))
        })) : t.optimizeControl.hide())
    },
    t.displayStatPanel = function(n) {
        var f = t.typeDict[t.lotteryCode][n],
        i = $("div.showStatisticsClass"),
        r,
        u;
        return f ? (i.show(), r = $.trim($("li.betRuleClass.active a").html()), u = "option-large", gl.isK3 || gl.lotteryId == EnumLotteryType.klpk || r == "自由双面" || r == "大小单双" ? i.removeClass(u).addClass("option-large-0") : i.removeClass("option-large-0").addClass(u)) : i.hide(),
        this
    },
    t.packChartTypes = function() {
        var r = t.typeDict[gl.lotteryId],
        i = [],
        u,
        n,
        f;
        for (u in r) n = r[u],
        n && (String(n).indexOf(",") != -1 ? (f = n.split(","), _.each(f,
        function(n) {
            i.push(parseInt(n))
        })) : i.push(n));
        return _.unique(i).join(",")
    }
},
UserBetFav = function(n, t) {
    var i = this;
    i.addToFavBtn = $("#shortcut-create-handle"),
    i.favAddSubmit = $("#fav-add-submit"),
    i.showFavPanelBtn = $("showFavPanelBtn"),
    i.keeperCreate = $("#keeper-create"),
    i.keeperImport = $("#shortcut-base"),
    i.fakeItem = {
        CreateTime: "../Date(1432546571094)/default.htm",
        CreateTimeISO: "2015-05-25",
        FavContent: '[{"ItemTimes":1.0,"SelNums":"05,06,03,04,08","RuleId":8140101,"BetNum":5,"PriceMode":0}]',
        FavName: "pk10收藏1",
        FavTotalPrice: 10,
        Id: 69,
        LotteryCode: 8,
        UserId: 297,
        fake: 1
    },
    i.lotteryCode = n,
    i.favList = [],
    i.favListObservable = ko.observableArray(i.favList),
    i.isCompleted = !0,
    i.init = function() {
        i.tpuiInit(),
        i._bind(),
        i.importTempFav()
    },
    i.importOkClick = function(n, r) {
        var f = [],
        u = [],
        o = $(r.target).attr("favId"),
        e;
        f.push(o),
        _.each(f,
        function(n) {
            var t = _.find(i.favList,
            function(t) {
                return t.Id == n
            }),
            r = JSON.parse(t.FavContent),
            f = i._prepareBetInfo(r);
            u = _.union(u, f)
        }),
        e = _selectNumsTmpl({
            data: u
        }),
        $("#selectNumsContainerId").append(e),
        $("input.betting-multiple").tpuiNumber({
            type: "depart"
        }),
        t(1)
    },
    i.importCancelClick = function() {},
    i._bind = function() {
        i.favAddSubmit.off().on("click",
        function() {
            var r, n, u, t, f;
            if (i.isCompleted == !1) {
                console.log("收藏-由于网络延迟，上一次操作还没提交完成。建议继续等待，或者刷新页面重新查看！");
                return
            }
            if (r = i._parseBetInfo(), n = "0", $(":radio[name=keeper-mode][value=cover]").prop("checked")) {
                if (u = $(":radio[name=keeper-item][checked=checked]"), u.length == 0) {
                    alert("请选择要覆盖的收藏");
                    return
                }
                n = $(":radio[name=keeper-item][checked=checked]").attr("favId")
            }
            if (t = $("#add-fav-name").val(), t || n != "0") {
                if (f = _.find(i.favList,
                function(n) {
                    return n.FavName == t
                }), f && n == "0") {
                    alert("该收藏名称已经存在");
                    return
                }
            } else {
                alert("请输入收藏名称");
                return
            }
            var o = [gl.lotteryId, n, t, r.list, r.totalPrice],
            s = EnCryptJsonParams(o),
            e = $("div.tp-ui-loading-base").parent();
            ctx.postTokenEx({
                url: "../Bet/FavAdd",
                data: s,
                beforeSend: function() {
                    i.isCompleted = !1,
                    e.css({
                        "z-index": 99999
                    }).show()
                },
                complete: function() {
                    i.isCompleted = !0,
                    e.hide().prev().hide()
                },
                success: function(t) {
                    if (t.Ok == 1) {
                        if (alertTip("收藏成功，祝君中奖!"), n != "0") {
                            var r = _.filter(i.favList,
                            function(t) {
                                return t.Id != n
                            });
                            r.push(t.Fav),
                            i.favList = r
                        } else i.favList.push(t.Fav);
                        i.favList.length > 0 ? $("#shortcut-base").show().next().hide() : $("#shortcut-base").hide().next().show(),
                        i._refleshObservableData(),
                        i.keeperCreate.tpuiDialog("_close")
                    } else alert(t.Tip)
                }
            })
        });
        $("#shortcut-create-handle").unbind().on("click",
        function() {
            if ($("div.tp-ui-mask").css({
                opacity: 1
            }), !gl.isLogined) {
                $("#login-inner").tpuiDialog("_open");
                return
            }
            if ($("#selectNumsContainerId").find("li").length == 0) {
                alert("请先添加投注项!");
                return
            }
            if (i.favList.length > 19) {
                alert("最多只能添加20个快捷投注！");
                return
            }
            i.keeperCreate.tpuiDialog("_open");
            var n = window.location.hash.replace("#", "");
            $("#add-fav-name").val(n + "收藏" + (i.favList.length + 1)),
            $(":radio[name=keeper-mode][value=new]").click(),
            $(":radio[name=keeper-item]").prop("checked", !1)
        });
        $("#fav-add-cancel").on("click",
        function() {
            i.keeperCreate.tpuiDialog("_close")
        })
    },
    i.tpuiInit = function() {
        var n = $(".forms-table");
        n.length == 0 && n == $("body"),
        n.find(".tpui-text").tpuiText(),
        n.find(".tpui-radio").tpuiRadio(),
        n.find(".tpui-button").tpuiButton(),
        n.find(".tpui-textarea").tpuiTextarea()
    },
    i._refleshObservableData = function() {
        i.favListObservable([]),
        i.favListObservable(i.favList)
    },
    i.loadData = function() {
        gl.isLogined && (gl.betAssistData.fav ? (i.favList = gl.betAssistData.fav, i.favList.length > 0 ? $("#shortcut-base").show().next().hide() : $("#shortcut-base").hide().next().show(), i._refleshObservableData(), i._koDataBind()) : ctx.postTokenEx({
            url: "../Bet/FavGet/" + i.lotteryCode,
            data: {},
            success: function(n) {
                typeof n == "object" ? (i.favList = n, i._refleshObservableData(), i._koDataBind()) : console.log("加载收藏记录失败！")
            }
        }))
    },
    i._koDataBind = function() {
        var t = $("#keeper-list-base")[0],
        n;
        ko.cleanNode(t),
        ko.applyBindings(i, t),
        n = $("#shortcut-base")[0],
        ko.cleanNode(n),
        ko.applyBindings(i, n)
    },
    i._parseBetInfo = function() {
        var i = $("#selectNumsContainerId").find("li"),
        n = [],
        t = 0;
        return _.each(i,
        function(i) {
            var r = {},
            u = $(i),
            f,
            e;
            r.itemTimes = u.find(".betting-multiple").val(),
            r.betNum = u.find(".bof-tb-count>em").text(),
            r.ruleId = u.attr("ruleid"),
            r.selNums = u.find(".bof-tb-number").attr("allnums"),
            f = $.trim(u.find(".bof-tb-method>i").html()),
            r.priceMode = f == "元" ? 0 : f == "角" ? 1 : 2,
            e = parseFloat(u.find(".bof-tb-total-price i").html()),
            t += e,
            n.push(r)
        }),
        {
            totalPrice: t,
            list: n
        }
    },
    i._prepareBetInfo = function(n) {
        return _.each(n,
        function(n) {
            var t = GetDataDetailById(n.RuleId, gl.rules, "RuleId");
            n.jsOdds = t.UserOdds * 1 + t.UserPlusOdds * 1,
            n.price = gl.price,
            n.ruleId = n.RuleId,
            n.ruleName = t.DisplayName,
            n.selNums = n.SelNums,
            n.subSelNums = n.selNums.maxShow(12),
            n.betNum = n.BetNum,
            n.itemTimes = n.ItemTimes,
            n.priceMode = n.PriceMode
        }),
        n
    },
    i._prepareBetInfoForTempFav = function(n) {
        return _.each(n.betObjList,
        function(n) {
            var t = GetDataDetailById(n.ruleId, gl.rules, "RuleId");
            n.price = gl.price,
            n.ruleName = t.DisplayName,
            n.subSelNums = n.selNums.maxShow(12),
            n.itemTimes = n.itemTimes * (n.priceMode == 0 ? 1 : n.priceMode == 1 ? 10 : 100)
        }),
        n
    },
    i.saveTempFav = function(n) {
        window.localStorage && (window.localStorage.TempFav = n)
    },
    i.importTempFav = function() {
        var n, r, u, f;
        window.localStorage && (n = window.localStorage.TempFav, n && (r = JSON.parse(n), r.lotteryId == gl.lotteryId ? (u = i._prepareBetInfoForTempFav(r), f = _selectNumsTmpl({
            data: u.betObjList
        }), $("#selectNumsContainerId").append(f), $("input.betting-multiple").tpuiNumber({
            type: "depart"
        }), $("#totalTimesInput").val(u.totalTimes), t(1), window.localStorage.TempFav = "") : window.localStorage.TempFav = ""))
    },
    i.delFav = function(n, t) {
        confirm("确定要删除该收藏吗？",
        function(n) {
            if (n) {
                var r = [$(t.target).attr("favId"), gl.lotteryId],
                f = EnCryptJsonParams(r),
                u = $("div.tp-ui-loading-base").parent();
                ctx.postTokenEx({
                    url: "../Bet/FavDel",
                    data: f,
                    beforeSend: function() {
                        i.isCompleted = !1,
                        u.css({
                            "z-index": 99999
                        }).show()
                    },
                    complete: function() {
                        i.isCompleted = !0,
                        u.hide().prev().hide()
                    },
                    success: function(n) {
                        if (n.Ok == 1) {
                            alertTip("删除成功！");
                            var t = _.filter(i.favList,
                            function(n) {
                                return n.Id != r[0]
                            });
                            i.favList = t,
                            i._refleshObservableData()
                        } else alert(n.Tip)
                    }
                })
            }
        })
    }
},
LotteryStickie = function() {
    var n = this;
    n.stickieHandle = $("#stickie-handle"),
    n.lotterySelector = $("#lottery-selector"),
    n.init = function() {
        var r = n.lotterySelector.find("li[code=" + gl.lotteryId + "]"),
        t = "stickie-handle-on",
        i = r.attr("sticked");
        i == 1 && n.stickieHandle.addClass(t),
        n.setLikeTitle(i);
        n.stickieHandle.off().on("click", "a",
        function() {
            var i = !n.stickieHandle.hasClass(t);
            gl.isLogined && (i ? (n.addStickie(), n.setLikeTitle(1)) : n.setLikeTitle(0), n.stickieHandle.toggleClass(t)),
            ctx.postToken("StickLottery/" + gl.lotteryId, {},
            function(t) {
                var r, u, f;
                t.success ? (r = n.lotterySelector, u = r.find("li[code=" + gl.lotteryId + "]"), i ? (f = r.find("li:first"), u.is(f) || (u.attr("sticked", 1).insertBefore(f).show(), r.find("li").eq(5).hide())) : (u.attr("sticked", 0).hide().appendTo(r), r.find("li").eq(4).show())) : alert(t.msg)
            })
        })
    },
    n.setLikeTitle = function(t) {
        t == 1 ? n.stickieHandle.attr("title", "取消喜欢") : n.stickieHandle.attr("title", "喜欢")
    },
    n.addStickie = function() {
        var i = $("#ticket-icon").offset(),
        r = $("#checker-lite").offset(),
        u = $("#ticket-icon span.ticket-icon").attr("ticketid"),
        t = null;
        t = $("<div>").attr("id", "stickie-refer").addClass("animated rubberBand").append('<div class="image"><span class="ticket-icon t-s-96 ti-' + u + '">&nbsp;</span></div>').appendTo($("body")),
        t.fly({
            start: {
                left: i.left,
                top: i.top
            },
            end: {
                left: r.left + 48,
                top: r.top,
                width: 0,
                height: 0
            },
            vertex_Rtop: .6,
            speed: 1,
            onEnd: function() {
                t.fadeOut(function() {
                    t.remove()
                })
            }
        })
    }
},
NewBonus = function() {
    var n = this;
    n.$lastBonusPanel = $("#ticker-drawing-last"),
    n.suitDict = {
        dt: "黑桃",
        fp: "方块",
        mh: "梅花",
        rt: "红桃"
    },
    n._dataList = [],
    n.dataList = ko.observableArray([]),
    n.init = function() {
        n.loadData()
    },
    n.loadData = function() {
        gl.betAssistData.top5 ? gl.betAssistData.top5.length > 0 && (n._dataList = n._prepareBonusData(gl.betAssistData.top5), n._refleshObservaleData(), n.setLastBonus(n._dataList[0]), n._koDataBind()) : ctx.postToken("/Bet/GetLast5LotteryHistory/" + gl.lotteryId, {},
        function(t) {
            t && t.length > 0 && (n._dataList = n._prepareBonusData(t), n._refleshObservaleData(), n.setLastBonus(n._dataList[0]), n._koDataBind())
        })
    },
    n.setLastBonus = function(t) {
        var i = t.BonusNumber.split(","),
        r = n.$lastBonusPanel,
        u = r.find("ul"),
        c = r.find("#id-sum"),
        l = r.find("#id-style"),
        f;
        u.empty(),
        _.each(i,
        function(t) {
            if (gl.lotteryId == EnumLotteryType.klpk) {
                var i = t[0] + t[1];
                u.append("<li><span class='tvs-poker-" + i + "'> <em>" + t.substring(2) + "</em> <i>" + n.suitDict[i] + "</i> </span></li>")
            } else gl.isK3 ? (r.find(".tdl-vs-dice").removeClass("ks-tdl-loading"), u.append("<li><span class='tvs-dice-" + t + "'><i>" + t + "</i></span></li>")) : gl.lotteryId == EnumLotteryType.pk10 ? (r.find(".tdl-vs-base-pks").removeClass("pks-tdl-loading"), u.append("<li><span class='p-i-" + t + "'><i>" + t + "</i></span></li>")) : u.append("<li><span><i>" + t + "</i></span></li>")
        });
        var o = "",
        e = "",
        f = [],
        s = 0,
        h = 14;
        if (gl.lotteryId == EnumLotteryType.pk10 || gl.lotteryId == EnumLotteryType.sd11x5 || gl.lotteryId == EnumLotteryType.gd11x5 || gl.lotteryId == EnumLotteryType.jx11x5 || gl.lotteryId == EnumLotteryType.sh11x5 || gl.lotteryId == EnumLotteryType.hlj11x5 ? (f = i.slice(0, 3), h = gl.lotteryId == EnumLotteryType.pk10 ? 15 : 17) : f = i.slice(i.length - 3, i.length), gl.lotteryId == EnumLotteryType.klpk) e = t.Pattern;
        else {
            var s = BonusNumHelper.sum(f.join(",")),
            a = BonusNumHelper.daXiao(s, h),
            v = BonusNumHelper.danShuang(s);
            o = a + v,
            e = BonusNumHelper.pattern(f.join(","), gl.lotteryId)
        }
        c.html(o),
        l.html(e)
    },
    n._prepareBonusData = function(n) {
        return _.each(n,
        function(n) {
            var t = n.BonusNumber.split(",");
            n.IssueNumberBack = n.IssueNumber,
            gl.isShiShiCai ? (n.DaXiao = BonusNumHelper.daXiao(t[t.length - 1]), n.DanShuang = BonusNumHelper.danShuang(t[t.length - 1]), (gl.lotteryId == EnumLotteryType.cqc || gl.lotteryId == EnumLotteryType.tjc || gl.lotteryId == EnumLotteryType.xjssc) && (n.IssueNumber = n.IssueNumber.substr(4))) : gl.lotteryId == EnumLotteryType.pk10 ? (n.BonusNumberX = n.BonusNumber.split(",").slice(0, 6), n.BonusNumberX.push("...")) : gl.lotteryId == EnumLotteryType.klpk ? (n.BonusNumberBack = n.BonusNumber, n.BonusNumber = BonusNumHelper.pkNumFilter(n.BonusNumber), n.Pattern = BonusNumHelper.pattern(n.BonusNumberBack, n.LotteryCode)) : (n.TotalNumber = BonusNumHelper.sum(n.BonusNumber, n.LotteryCode), n.Pattern = BonusNumHelper.pattern(n.BonusNumber, n.LotteryCode))
        }),
        n
    },
    n._prepareK3SumStatData = function(t) {
        _.each(n._dataList,
        function(n) {
            var r = _.filter(t,
            function(t) {
                return t.IssueNumber == n.IssueNumber && t.Target == "和值形态"
            }),
            i = _.find(r,
            function(n) {
                return n.TargetStat == "大"
            });
            n.Da = i == undefined ? "": i.MissTimes == 0 ? "大": String(i.MissTimes).replace("1000000", ""),
            i = _.find(r,
            function(n) {
                return n.TargetStat == "小"
            }),
            n.Xiao = i == undefined ? "": i.MissTimes == 0 ? "小": String(i.MissTimes).replace("1000000", ""),
            i = _.find(r,
            function(n) {
                return n.TargetStat == "单"
            }),
            n.Dan = i == undefined ? "": i.MissTimes == 0 ? "单": String(i.MissTimes).replace("1000000", ""),
            i = _.find(r,
            function(n) {
                return n.TargetStat == "双"
            }),
            n.Shuang = i == undefined ? "": i.MissTimes == 0 ? "双": String(i.MissTimes).replace("1000000", "")
        })
    },
    n.renderK3SumStat = function() {
        gl.isK3 && n._refleshObservaleData()
    },
    n._koDataBind = function() {
        var i = $("#drawing-lite")[0],
        t;
        ko.cleanNode(i),
        ko.applyBindings(n, i),
        t = $("#drawing-more"),
        t.length > 0 && (ko.cleanNode(t[0]), ko.applyBindings(n, t[0]))
    },
    n._refleshObservaleData = function() {
        var t = n._dataList.slice(0);
        gl.lotteryId == EnumLotteryType.ggc && (t.reverse(), n._dataList.length <= 1 && n._koDataBind()),
        n.dataList([]),
        n.dataList(t)
    },
    n.refleshLotteryHistory = function(t) {
        var u = _.find(n._dataList,
        function(n) {
            return n.IssueNumberBack == t[1]
        }),
        i,
        r;
        u || (i = {
            LotteryCode: t[0],
            IssueNumber: t[1],
            BonusNumber: t[2]
        },
        i.BonusDateTime = (new Date).Format(DateFormatStr.dateTime3), r = n._prepareBonusData([i]), gl.lotteryId != EnumLotteryType.ggc && n.setLastBonus(r[0]), n._dataList = _.union(r, n._dataList.slice(0, 4)), n._refleshObservaleData())
    },
    n.waitingBonus = function(t) {
        t.preBonusNumber && t.preBonusNumber != "-" || t.preBonusNumber == "-" && _.find(n._dataList,
        function(n) {
            return n.IssueNumberBack == t.preIssueNumber
        }) ? n.$lastBonusPanel.find("div.tdl-viewer-sub.attach").show() : $("#drawing-lite tbody").find("tr").eq(0).find("span").eq(0).html() < $("#preIssueNumberId").html() && (n.$lastBonusPanel.find("div.tdl-viewer-sub.attach").hide(), n.$lastBonusPanel.find("ul").find("i").html("?"), gl.lotteryId == EnumLotteryType.klpk && n.$lastBonusPanel.find("ul").find("span").attr("class", "tvs-poker-loading"), gl.isK3 && n.$lastBonusPanel.find(".tdl-vs-dice").addClass("ks-tdl-loading"), gl.lotteryId == EnumLotteryType.pk10 && n.$lastBonusPanel.find(".tdl-vs-base-pks").addClass("pks-tdl-loading"))
    }
},
ChartTypeMapper = function() {
    var n = this;
    n.init = function() {
        var nt, i, r, u, f, e, d, k, b, o, t, s, h, c, g, tt, y, v, a, l, w, p;
        for (n.typeDict = {},
        nt = 1; nt < 50; nt++) n.typeDict[nt] = {};
        return i = {},
        _.each([1010101, 1050101, 1020101, 1020301, 1020501, 1050401, 1060101],
        function(n) {
            i[n] = 1
        }),
        _.each([1030501, 1040501, 1070301],
        function(n) {
            i[n] = 8
        }),
        _.each([1050501],
        function(n) {
            i[n] = 9
        }),
        i[1080101] = 2,
        i[11801] = 2,
        n.typeDict[EnumLotteryType.cqc] = i,
        r = {},
        _.each([2010101, 2020101, 2020301, 2020501, 2050101, 2050401, 2060101],
        function(n) {
            r[n] = 201
        }),
        _.each([2030501, 2040501, 2070301],
        function(n) {
            r[n] = 206
        }),
        _.each([2050501],
        function(n) {
            r[n] = 207
        }),
        r[2080101] = 202,
        r[21801] = 202,
        n.typeDict[EnumLotteryType.tjc] = r,
        u = {},
        _.each([14010101, 14020101, 14020301, 14020501, 14050101, 14050401, 14060101],
        function(n) {
            u[n] = 1401
        }),
        _.each([14030501, 14040501, 14070301],
        function(n) {
            u[n] = 1406
        }),
        _.each([14050501],
        function(n) {
            u[n] = 1407
        }),
        u[14080101] = 1402,
        u[141801] = 1402,
        n.typeDict[EnumLotteryType.xjssc] = u,
        f = {},
        _.each([9010101, 9020101, 9020301, 9020501, 9050101, 9050401, 9060101],
        function(n) {
            f[n] = 901
        }),
        _.each([9030501, 9040501, 9070301],
        function(n) {
            f[n] = 906
        }),
        _.each([9050501],
        function(n) {
            f[n] = 907
        }),
        f[9080101] = 902,
        f[91801] = 902,
        n.typeDict[EnumLotteryType.wfc] = f,
        e = {},
        _.each([20010101, 20020101, 20020301, 20020501, 20050101, 20050401, 20060101],
        function(n) {
            e[n] = 2001
        }),
        _.each([20030501, 20040501, 20070301],
        function(n) {
            e[n] = 2006
        }),
        _.each([20050501],
        function(n) {
            e[n] = 2007
        }),
        e[20080101] = 2002,
        e[201801] = 2002,
        n.typeDict[EnumLotteryType.yfc] = e,
        d = {},
        _.each([6010101, 6040101],
        function(n) {
            d[n] = 601
        }),
        _.each([6020101, 6030101],
        function(n) {
            d[n] = 607
        }),
        d[61101] = 603,
        n.typeDict[EnumLotteryType.fc3d] = d,
        k = {},
        _.each([13010101, 13040101],
        function(n) {
            k[n] = 1301
        }),
        _.each([13020101, 13030101],
        function(n) {
            k[n] = 1307
        }),
        k[131101] = 1303,
        n.typeDict[EnumLotteryType.kcjs3d] = k,
        b = {},
        _.each([5010101, 5040101],
        function(n) {
            b[n] = 501
        }),
        _.each([5020101, 5030101],
        function(n) {
            b[n] = 508
        }),
        b[51101] = 503,
        n.typeDict[EnumLotteryType.pl3] = b,
        o = {},
        _.each([10010101, 10020101, 10030101, 10040101, 10050101, 10060101, 10070101, 101801, 101901],
        function(n) {
            o[n] = 1013
        }),
        _.each([10080101, 10100101, 10120101],
        function(n) {
            o[n] = 1001
        }),
        o[10090101] = 1011,
        o[10110101] = 1012,
        o[102001] = 1003,
        n.typeDict[EnumLotteryType.sd11x5] = o,
        t = {},
        _.each([21010101, 21020101, 21030101, 21040101, 21050101, 21060101, 21070101, 211801, 211901],
        function(n) {
            t[n] = 2113
        }),
        _.each([21080101, 21100101, 21120101],
        function(n) {
            t[n] = 2101
        }),
        t[21090101] = 2111,
        t[21110101] = 2112,
        t[212001] = 2103,
        n.typeDict[EnumLotteryType.gd11x5] = t,
        s = {},
        _.each([22010101, 22020101, 22030101, 22040101, 22050101, 22060101, 22070101, 221801, 221901],
        function(n) {
            s[n] = 2213
        }),
        _.each([22080101, 22100101, 22120101],
        function(n) {
            s[n] = 2201
        }),
        s[22090101] = 2211,
        s[22110101] = 2212,
        s[222001] = 2203,
        n.typeDict[EnumLotteryType.jx11x5] = s,
        h = {},
        _.each([23010101, 23020101, 23030101, 23040101, 23050101, 23060101, 23070101, 231801, 231901],
        function(n) {
            h[n] = 2313
        }),
        _.each([23080101, 23100101, 23120101],
        function(n) {
            h[n] = 2301
        }),
        h[23090101] = 2311,
        h[23110101] = 2312,
        h[232001] = 2303,
        n.typeDict[EnumLotteryType.sh11x5] = h,
        c = {},
        _.each([24010101, 24020101, 24030101, 24040101, 24050101, 24060101, 24070101, 241801, 241901],
        function(n) {
            c[n] = 2413
        }),
        _.each([24080101, 24100101, 24120101],
        function(n) {
            c[n] = 2401
        }),
        c[24090101] = 2411,
        c[24110101] = 2412,
        c[242001] = 2403,
        n.typeDict[EnumLotteryType.hlj11x5] = c,
        g = {},
        _.each([8010101, 8020101, 8030101, 8040101, 8050101, 8060101, 8070101, 8080101, 8090101, 8100101, 8140101, 8140102],
        function(n) {
            g[n] = 801
        }),
        g[81201] = 802,
        n.typeDict[EnumLotteryType.pk10] = g,
        tt = {},
        _.each([70601, 70701, 70801, 70901, 71001, 71101],
        function(n) {
            tt[n] = 707
        }),
        n.typeDict[EnumLotteryType.klpk] = tt,
        y = {},
        _.each([40401, 40601, 40901, 41001],
        function(n) {
            y[n] = 401
        }),
        y[40501] = "401,412",
        y[40502] = 412,
        y[40101] = "402,410",
        n.typeDict[EnumLotteryType.jsk3] = y,
        v = {},
        _.each([30401, 30601, 30901, 31001],
        function(n) {
            v[n] = 301
        }),
        v[30501] = "301,312",
        v[30502] = 312,
        v[30101] = "302,310",
        n.typeDict[EnumLotteryType.jlk3] = v,
        a = {},
        _.each([150401, 150601, 150901, 151001],
        function(n) {
            a[n] = 1501
        }),
        a[150501] = "1501,1512",
        a[150502] = 1512,
        a[150101] = "1502,1510",
        n.typeDict[EnumLotteryType.gxk3] = a,
        l = {},
        _.each([160401, 160601, 160901, 161001],
        function(n) {
            l[n] = 1601
        }),
        l[160501] = "1601,1612",
        l[160502] = 1612,
        l[160101] = "1602,1610",
        n.typeDict[EnumLotteryType.ahk3] = l,
        w = {},
        _.each([170401, 170601, 170901, 171001],
        function(n) {
            w[n] = 1701
        }),
        w[170501] = "1701,1712",
        w[170502] = 1712,
        w[170101] = "1702,1710",
        n.typeDict[EnumLotteryType.hubk3] = w,
        p = {},
        _.each([120401, 120601, 120901, 121001],
        function(n) {
            p[n] = 1201
        }),
        p[120501] = "1201,1212",
        p[120502] = 1212,
        p[120101] = "1202,1210",
        n.typeDict[EnumLotteryType.kck3] = p,
        n.typeDict
    }
},
HeaderToggle = function() {
    var n = this;
    n.$handler = $("#nav-toggle-handle"),
    n.cookieKey = "nav-toggle-status",
    n.init = function() {
        var t = $.cookie(n.cookieKey);
        t ? t == 1 && setTimeout(function() {
            n.$handler.click()
        },
        1500) : (t = 0, $.cookie(n.cookieKey, t));
        n.$handler.on("click", "a",
        function() {
            var i = $.cookie(n.cookieKey),
            t;
            t = i == 0 ? 1 : 0,
            $.cookie(n.cookieKey, t)
        })
    }
};ComputeBetTotalNumber = [], ComputeBetTotalNumber.WeiSign = ",", ComputeBetTotalNumber.NumSign = " ", ComputeBetTotalNumber.ComputeNumber = function(n, t) {
    var r = parseInt(n.RuleId / 1e6),
    i = 0;
    return r == 5 || r == 6 || r == 13 ? i = ComputeBetTotalNumber._computeNumber_PL3(n, t) : gl.isShiShiCai ? i = ComputeBetTotalNumber._computeNumber_SSC(n, t) : gl.isK3 ? i = ComputeBetTotalNumber._computeNumber_K3(n, t) : r == 7 ? i = ComputeBetTotalNumber._computeNumber_KLPK(n, t) : r == 8 ? i = ComputeBetTotalNumber._computeNumber_PK10(n, t) : gl.is11Xuan5 && (i = ComputeBetTotalNumber._computeNumber_SD11X5(n, t)),
    i
},
ComputeBetTotalNumber.ComputeNumber_SSC_RenXuanWeiBeiShu = function(n, t) {
    var i = 0;
    switch (n.RuleName) {
    case "任二直选":
    case "任二组选":
    case "任二单式":
        t.length >= 2 && (i = ComputeBetTotalNumber._computeCombinationsVariations(t.length, 2));
        break;
    case "任三直选":
    case "任三组三":
    case "任三组六":
    case "任三单式":
        t.length >= 3 && (i = ComputeBetTotalNumber._computeCombinationsVariations(t.length, 6));
        break;
    case "任四直选":
    case "任四单式":
        t.length >= 4 && (i = t.length == 5 ? 5 : 1);
        break;
    default:
        i = 1
    }
    return i
},
ComputeBetTotalNumber._computeNumber_SSC = function(n, t) {
    var s, d, k, p, h, w, g, y, v, a, l, e, c, b, nt;
    if (ComputeBetTotalNumber._computeNumber_SSC_isRenXuan(parseInt(n.SubTypeId / 100))) return ComputeBetTotalNumber._computeNumber_SSC_RenXuan(n, t);
    var tt = n.MatchType,
    r = ComputeBetTotalNumber._getAllNumsItemValue(t),
    o = r[0] ? r[0].split(ComputeBetTotalNumber.NumSign) : null,
    u = 0,
    i,
    f;
    switch (tt) {
    case "不定位":
    case "不定胆":
    case "不定位胆":
    case "定位胆":
    case "自由双面":
        for (i = 0; i < r.length; i++) u += r[i].split(ComputeBetTotalNumber.NumSign).length;
        break;
    case "组六":
        for (i = 0; i < r.length; i++) u += ComputeBetTotalNumber._computeCombinationsVariations(r[i].split(ComputeBetTotalNumber.NumSign).length, 6);
        break;
    case "组三":
        for (i = 0; i < r.length; i++) u += ComputeBetTotalNumber._computeCombinationsVariations(r[i].split(ComputeBetTotalNumber.NumSign).length, 3);
        break;
    case "组二":
        for (i = 0; i < r.length; i++) u += ComputeBetTotalNumber._computeCombinationsVariations(r[i].split(ComputeBetTotalNumber.NumSign).length, 2);
        break;
    case "组选120":
        if (o.length >= 5) for (f = 4; f <= o.length; f++) u += ComputeBetTotalNumber._getCountRecursiveDownSum(f, 4);
        break;
    case "组选60":
        if (r[0] && r[1] && r[1].length >= 3) for (s = r[0].split(ComputeBetTotalNumber.NumSign), d = ComputeBetTotalNumber.NumSign + r[1] + ComputeBetTotalNumber.NumSign, i = 0; i < s.length; i++) for (k = d.replace(ComputeBetTotalNumber.NumSign + s[i] + ComputeBetTotalNumber.NumSign, ComputeBetTotalNumber.NumSign), p = k.split(ComputeBetTotalNumber.NumSign).length - 2, f = 1; f <= p - 2; f++) u += ComputeBetTotalNumber._getCountDownSum(f);
        break;
    case "组选30":
        if (r[0] && r[1] && r[0].length >= 2) for (h = r[1].split(ComputeBetTotalNumber.NumSign), w = ComputeBetTotalNumber.NumSign + r[0] + ComputeBetTotalNumber.NumSign, i = 0; i < h.length; i++) g = w.replace(ComputeBetTotalNumber.NumSign + h[i] + ComputeBetTotalNumber.NumSign, ComputeBetTotalNumber.NumSign),
        y = g.split(ComputeBetTotalNumber.NumSign).length - 2,
        u += ComputeBetTotalNumber._getCountDownSum(y - 1);
        break;
    case "组选20":
        if (r[0] && r[1] && r[1].length >= 2) for (e = r[0].split(ComputeBetTotalNumber.NumSign), v = ComputeBetTotalNumber.NumSign + r[1] + ComputeBetTotalNumber.NumSign, i = 0; i < e.length; i++) a = v.replace(ComputeBetTotalNumber.NumSign + e[i] + ComputeBetTotalNumber.NumSign, ComputeBetTotalNumber.NumSign),
        l = a.split(ComputeBetTotalNumber.NumSign).length - 2,
        u += ComputeBetTotalNumber._getCountDownSum(l - 1);
        break;
    case "组选10":
    case "组选5":
        if (r[0] && r[1]) for (e = r[0].split(ComputeBetTotalNumber.NumSign), c = ComputeBetTotalNumber.NumSign + r[1] + ComputeBetTotalNumber.NumSign, i = 0; i < e.length; i++) b = c.replace(ComputeBetTotalNumber.NumSign + e[i] + ComputeBetTotalNumber.NumSign, ComputeBetTotalNumber.NumSign),
        nt = b.split(ComputeBetTotalNumber.NumSign).length - 2,
        u += nt;
        break;
    case "大小单双":
        r[0] && r[1] && (u = r[0].split(ComputeBetTotalNumber.NumSign).length * r[1].split(ComputeBetTotalNumber.NumSign).length);
        break;
    default:
        for (u = o.length, i = 1; i < r.length; i++) u = u * r[i].split(ComputeBetTotalNumber.NumSign).length
    }
    return u
},
ComputeBetTotalNumber._computeNumber_SSC_RenXuan = function(n, t) {
    var e = t.substr(0, t.indexOf(")")),
    r,
    f,
    i,
    u,
    o,
    s;
    e = e.replace("(", ""),
    r = 0;
    switch (n.RuleName) {
    case "任二直选":
        if (e.length >= 2) for (f = t.substr(t.indexOf(")") + 1), i = ComputeBetTotalNumber._getAllNumsItemValue(f), o = i[0] ? i[0].split(ComputeBetTotalNumber.NumSign) : null, r = o.length, u = 1; u < i.length; u++) r = r * i[u].split(ComputeBetTotalNumber.NumSign).length;
        break;
    case "任二组选":
        e.length >= 2 && (f = t.substr(t.indexOf(")") + 1), i = ComputeBetTotalNumber._getAllNumsItemValue(f), r = ComputeBetTotalNumber._computeCombinationsVariations(i[0].split(ComputeBetTotalNumber.NumSign).length, 2));
        break;
    case "任二单式":
        if (e.length >= 2) for (f = t.substr(t.indexOf(")") + 1), i = ComputeBetTotalNumber._getAllNumsItemValue(f), o = i[0] ? i[0].split(ComputeBetTotalNumber.NumSign) : null, r = o.length, u = 1; u < i.length; u++) r = r * i[u].split(ComputeBetTotalNumber.NumSign).length;
        break;
    case "任三直选":
        if (e.length >= 3) for (f = t.substr(t.indexOf(")") + 1), i = ComputeBetTotalNumber._getAllNumsItemValue(f), o = i[0] ? i[0].split(ComputeBetTotalNumber.NumSign) : null, r = o.length, u = 1; u < i.length; u++) r = r * i[u].split(ComputeBetTotalNumber.NumSign).length;
        break;
    case "任三组三":
        e.length >= 3 && (f = t.substr(t.indexOf(")") + 1), i = ComputeBetTotalNumber._getAllNumsItemValue(f), r = ComputeBetTotalNumber._computeCombinationsVariations(i[0].split(ComputeBetTotalNumber.NumSign).length, 3));
        break;
    case "任三组六":
        e.length >= 3 && (f = t.substr(t.indexOf(")") + 1), i = ComputeBetTotalNumber._getAllNumsItemValue(f), r = ComputeBetTotalNumber._computeCombinationsVariations(i[0].split(ComputeBetTotalNumber.NumSign).length, 6));
        break;
    case "任三单式":
        if (e.length >= 3) for (f = t.substr(t.indexOf(")") + 1), i = ComputeBetTotalNumber._getAllNumsItemValue(f), o = i[0] ? i[0].split(ComputeBetTotalNumber.NumSign) : null, r = o.length, u = 1; u < i.length; u++) r = r * i[u].split(ComputeBetTotalNumber.NumSign).length;
        break;
    case "任四直选":
        if (e.length >= 4) for (f = t.substr(t.indexOf(")") + 1), i = ComputeBetTotalNumber._getAllNumsItemValue(f), o = i[0] ? i[0].split(ComputeBetTotalNumber.NumSign) : null, r = o.length, u = 1; u < i.length; u++) r = r * i[u].split(ComputeBetTotalNumber.NumSign).length;
        break;
    case "任四单式":
        if (e.length >= 4) for (f = t.substr(t.indexOf(")") + 1), i = ComputeBetTotalNumber._getAllNumsItemValue(f), o = i[0] ? i[0].split(ComputeBetTotalNumber.NumSign) : null, r = o.length, u = 1; u < i.length; u++) r = r * i[u].split(ComputeBetTotalNumber.NumSign).length
    }
    return r > 0 && (s = ComputeBetTotalNumber.ComputeNumber_SSC_RenXuanWeiBeiShu(n, e), r = r * s),
    r
},
ComputeBetTotalNumber._computeNumber_SSC_isRenXuan = function(n) {
    return n == 109 || n == 209 || n == 909 || n == 1409 || n == 1109 || n == 2009
},
ComputeBetTotalNumber._computeNumber_K3 = function(n, t) {
    var s = n.MatchType,
    i = ComputeBetTotalNumber._getAllNumsItemValue(t),
    e = i[0] ? i[0].split(ComputeBetTotalNumber.NumSign) : null,
    r = 0,
    u,
    o,
    f;
    switch (s) {
    case "粘贴":
    case "单式":
        r = i.length;
        break;
    case "三不同号":
    case "三不同号单选":
        for (o = i[0].split(ComputeBetTotalNumber.NumSign).length, f = 1; f <= o - 2; f++) r += ComputeBetTotalNumber._getCountDownSum(f);
        break;
    case "二同号单选":
        i[0] && i[1] && (r = i[0].split(ComputeBetTotalNumber.NumSign).length * i[1].split(ComputeBetTotalNumber.NumSign).length);
        break;
    case "二不同号":
        r = ComputeBetTotalNumber._getCountDownSum(e.length - 1);
        break;
    default:
        for (r = e.length, u = 1; u < i.length; u++) r = r * i[u].split(ComputeBetTotalNumber.NumSign).length
    }
    return r
},
ComputeBetTotalNumber._computeNumber_PL3 = function(n, t) {
    var f = n.MatchType,
    r = ComputeBetTotalNumber._getAllNumsItemValue(t),
    e = r[0] ? r[0].split(ComputeBetTotalNumber.NumSign) : null,
    u = 0,
    i;
    switch (f) {
    case "定位胆":
    case "自由双面":
        for (i = 0; i < r.length; i++) u += r[i].split(ComputeBetTotalNumber.NumSign).length;
        break;
    case "组六":
        for (i = 0; i < r.length; i++) u += ComputeBetTotalNumber._computeCombinationsVariations(r[i].split(ComputeBetTotalNumber.NumSign).length, 6);
        break;
    case "组三":
        for (i = 0; i < r.length; i++) u += ComputeBetTotalNumber._computeCombinationsVariations(r[i].split(ComputeBetTotalNumber.NumSign).length, 3);
        break;
    case "粘贴":
    case "单式":
    default:
        for (u = e.length, i = 1; i < r.length; i++) u = u * r[i].split(ComputeBetTotalNumber.NumSign).length
    }
    return u
},
ComputeBetTotalNumber._computeNumber_KLPK = function(n, t) {
    var s = n.MatchType,
    e = ComputeBetTotalNumber._getAllNumsItemValue(t),
    i = e[0] ? e[0].split(ComputeBetTotalNumber.NumSign) : null,
    r = 0,
    u,
    f,
    o;
    switch (s) {
    case "任选一":
        r = i.length;
        break;
    case "任选二":
        r = ComputeBetTotalNumber._getCountDownSum(i.length - 1);
        break;
    case "任选三":
        if (i.length >= 3) for (u = 1; u <= i.length - 2; u++) r += ComputeBetTotalNumber._getCountDownSum(u);
        break;
    case "任选四":
        i.length >= 4 && (r = ComputeBetTotalNumber._getCountRecursiveDownSum(i.length, 3));
        break;
    case "任选五":
        if (i.length >= 5) for (f = 4; f <= i.length; f++) r += ComputeBetTotalNumber._getCountRecursiveDownSum(f, 4);
        break;
    case "任选六":
        if (i.length >= 6) for (f = 5; f <= i.length; f++) for (o = 5; o <= f; o++) r += ComputeBetTotalNumber._getCountRecursiveDownSum(o, 5);
        break;
    case "粘贴":
    case "单式":
        r = e.length;
        break;
    default:
        for (r = i.length, u = 1; u < e.length; u++) r = r * e[u].split(ComputeBetTotalNumber.NumSign).length
    }
    return r
},
ComputeBetTotalNumber._computeNumber_PK10 = function(n, t) {
    var d = n.MatchType,
    i = ComputeBetTotalNumber._getAllNumsItemValue(t),
    s = i[0] ? i[0].split(ComputeBetTotalNumber.NumSign) : null,
    v = 0,
    f,
    u,
    o,
    h,
    a,
    p,
    k,
    b,
    l,
    w,
    y,
    c,
    e,
    r;
    switch (d) {
    case "猜前五名":
    case "猜前五名单式":
    case "趣味猜前五名":
        if (i.length >= 5 && i[0] && i[1] && i[2] && i[3] && i[4]) for (f = "", u = "", o = "", l = "", p = "", s = i[0].split(ComputeBetTotalNumber.NumSign), h = i[1].split(ComputeBetTotalNumber.NumSign), a = i[2].split(ComputeBetTotalNumber.NumSign), w = i[3].split(ComputeBetTotalNumber.NumSign), k = i[4].split(ComputeBetTotalNumber.NumSign), e = 0; e < s.length; e++) for (f = s[e], r = 0; r < h.length; r++) if (u = h[r], u != f) for (c = 0; c < a.length; c++) if (o = a[c], o != u && o != f) for (y = 0; y < w.length; y++) if (l = w[y], l != f && l != u && l != o) for (b = 0; b < k.length; b++)(p = k[b], p != f && p != u && p != o && p != l) && v++;
        break;
    case "猜前四名":
    case "猜前四名单式":
    case "趣味猜前四名":
        if (i.length >= 4 && i[0] && i[1] && i[2] && i[3]) for (f = "", u = "", o = "", l = "", s = i[0].split(ComputeBetTotalNumber.NumSign), h = i[1].split(ComputeBetTotalNumber.NumSign), a = i[2].split(ComputeBetTotalNumber.NumSign), w = i[3].split(ComputeBetTotalNumber.NumSign), e = 0; e < s.length; e++) for (f = s[e], r = 0; r < h.length; r++) if (u = h[r], u != f) for (c = 0; c < a.length; c++) if (o = a[c], o != u && o != f) for (y = 0; y < w.length; y++)(l = w[y], l != f && l != u && l != o) && v++;
        break;
    case "猜前三名":
    case "猜前三名单式":
        if (i.length >= 3 && i[0] && i[1] && i[2]) for (f = "", u = "", o = "", s = i[0].split(ComputeBetTotalNumber.NumSign), h = i[1].split(ComputeBetTotalNumber.NumSign), a = i[2].split(ComputeBetTotalNumber.NumSign), e = 0; e < s.length; e++) for (f = s[e], r = 0; r < h.length; r++) if (u = h[r], u != f) for (c = 0; c < a.length; c++)(o = a[c], o != u && o != f) && v++;
        break;
    case "猜冠亚军":
    case "猜冠亚军单式":
        if (i.length >= 2 && i[0] && i[1]) for (f = "", u = "", s = i[0].split(ComputeBetTotalNumber.NumSign), h = i[1].split(ComputeBetTotalNumber.NumSign), e = 0; e < s.length; e++) for (f = s[e], r = 0; r < h.length; r++)(u = h[r], u != f) && v++;
        break;
    case "自由双面":
    case "定位胆":
        for (r = 0; r < i.length; r++) v += i[r].split(ComputeBetTotalNumber.NumSign).length;
        break;
    default:
        for (v = s.length, r = 1; r < i.length; r++) v = v * i[r].split(ComputeBetTotalNumber.NumSign).length
    }
    return v
},
ComputeBetTotalNumber._computeNumber_SD11X5 = function(n, t) {
    var y = n.MatchType,
    i = ComputeBetTotalNumber._getAllNumsItemValue(t),
    u = i[0] ? i[0].split(ComputeBetTotalNumber.NumSign) : null,
    f = 0,
    l,
    s,
    h,
    a,
    c,
    v,
    o,
    r,
    e;
    switch (y) {
    case "前三组选复式":
        for (r = 0; r < i.length; r++) f += ComputeBetTotalNumber._computeCombinationsVariations(i[r].split(ComputeBetTotalNumber.NumSign).length, 6);
        break;
    case "前二组选复式":

        for (r = 0; r < i.length; r++) f += ComputeBetTotalNumber._computeCombinationsVariations(i[r].split(ComputeBetTotalNumber.NumSign).length, 2);
        break;
    case "任二复式":
        i && i[0] && (f = ComputeBetTotalNumber._computeCombinationsVariations(i[0].split(ComputeBetTotalNumber.NumSign).length, 2));
        break;
    case "任三复式":
        if (u.length >= 3) for (r = 1; r <= u.length - 2; r++) f += ComputeBetTotalNumber._getCountDownSum(r);
        break;
    case "任四复式":
        u.length >= 4 && (f = ComputeBetTotalNumber._getCountRecursiveDownSum(u.length, 3));
        break;
    case "任五复式":
        if (u.length >= 5) for (e = 4; e <= u.length; e++) f += ComputeBetTotalNumber._getCountRecursiveDownSum(e, 4);
        break;
    case "任六复式":
        if (u.length >= 6) for (e = 5; e <= u.length; e++) for (l = 5; l <= e; l++) f += ComputeBetTotalNumber._getCountRecursiveDownSum(l, 5);
        break;
    case "任七复式":
        u.length >= 7 && (f = ComputeBetTotalNumber._getCountPermutationAndCombination(u.length, 7));
        break;
    case "任八复式":
        u.length >= 8 && (f = ComputeBetTotalNumber._getCountPermutationAndCombination(u.length, 8));
        break;
    case "前二直选复式":
        if (i.length >= 2 && i[0] && i[1]) for (s = "", h = "", u = i[0].split(ComputeBetTotalNumber.NumSign), c = i[1].split(ComputeBetTotalNumber.NumSign), o = 0; o < u.length; o++) for (s = u[o], r = 0; r < c.length; r++)(h = c[r], h != s) && f++;
        break;
    case "前三直选复式":
        if (i.length >= 3 && i[0] && i[1] && i[2]) for (s = "", h = "", a = "", u = i[0].split(ComputeBetTotalNumber.NumSign), c = i[1].split(ComputeBetTotalNumber.NumSign), v = i[2].split(ComputeBetTotalNumber.NumSign), o = 0; o < u.length; o++) for (s = u[o], r = 0; r < c.length; r++) if (h = c[r], h != s) for (e = 0; e < v.length; e++)(a = v[e], a != h && a != s) && f++;
        break;
    case "大小单双":
        i[0] && i[1] && (f = i[0].split(ComputeBetTotalNumber.NumSign).length * i[1].split(ComputeBetTotalNumber.NumSign).length);
        break;
    case "自由双面":
        for (r = 0; r < i.length; r++) f += i[r].split(ComputeBetTotalNumber.NumSign).length;
        break;
    default:
        for (f = u.length, r = 1; r < i.length; r++) f = f * i[r].split(ComputeBetTotalNumber.NumSign).length
    }
    return f
},
ComputeBetTotalNumber._getAllNumsItemValue = function(n) {
    var r = [],
    i,
    t;
    if (n) for (i = n.split(ComputeBetTotalNumber.WeiSign), t = 0; t < i.length; t++) i[t] && r.push(i[t]);
    return r
},
ComputeBetTotalNumber._computeCombinationsVariations = function(n, t) {
    var i = 0,
    r;
    if (t == 6) {
        if (n < 3) return 0;
        for (r = 1; r <= n - 2; r++) i += ComputeBetTotalNumber._getCountDownSum(r);
        return i
    }
    return t == 3 ? n < 2 ? 0 : (i = ComputeBetTotalNumber._getCountDownSum(n - 1), i * 2) : t == 2 ? n < 2 ? 0 : i = ComputeBetTotalNumber._getCountDownSum(n - 1) : 0
},
ComputeBetTotalNumber._getCountDownSum = function(n) {
    var i = 0,
    t;
    if (n > 0) for (t = 1; t <= n; t++) i += t;
    return i
},
ComputeBetTotalNumber._getCountRecursiveDownSum = function(n, t) {
    for (var u = 0,
    r, i = t; i < n; i++) for (r = 1; r <= n - i; r++) u += ComputeBetTotalNumber._getCountDownSum(r);
    return u
},
ComputeBetTotalNumber._getCountPermutationAndCombination = function(n, t) {
    var i = ComputeBetTotalNumber._getCountRecursiveDownMultiply(n),
    r = ComputeBetTotalNumber._getCountRecursiveDownMultiply(t),
    u = ComputeBetTotalNumber._getCountRecursiveDownMultiply(n - t);
    return parseInt(i / r / u)
},
ComputeBetTotalNumber._getCountRecursiveDownMultiply = function(n) {
    for (var i = 1,
    t = 1; t <= n; t++) i = i * t;
    return i
},
ComputeBetTotalNumber.CalC = function(n, t) {
    for (var r = 1,
    u = 1,
    i = 0; i < t; i++) r *= n - i,
    u *= t - i;
    return r / u
};
var _tplSelectNums = '<%_.each(data,function(item){%>        <li ruleId="<%=item.ruleId%>"  jsOdds="<%=item.jsOdds%>"><div class="item">            <span class="bof-tb-mode"><em><%=item.ruleName%></em></span>            <span class="bof-tb-number" allnums="<%=item.selNums%>" title="<%=item.selNums.maxShow(600)%>"><em><i><%=item.subSelNums%></i></em></span>            <span class="bof-tb-count"><em><%=item.betNum%></em></span>            <span class="bof-th-multiple"><input type="text" value="<%=item.itemTimes%>" data-type="depart" fixed="1" class="betting-multiple" /></span>            <span class="bof-tb-method"> <%=GetBetPriceMode(item)%> </span>            <span class="bof-tb-total-price"><em><i><%=(1.0*item.betNum*item.price*item.itemTimes*GetBetPriceValue(item)).toFixed(2)%></i></em></span>            <span class="bof-tb-option"><a href="javascript:void(0);">删除</a></span>        </div></li><%});%>',
_selectNumsTmpl = _.template(_tplSelectNums), _tplTraceOrder = '<%_.each(data,function(item){%>        <tr IssueNumber="<%=item.IssueNumber%>">            <td>                <input type="checkbox" class="trace-checkbox" /></td>            <td><span><%=item.IssueNumber%></span></td>            <td>                <input type="text" class="trace-text traceTimes" value="1" disabled="disabled"/>                倍</td>            <td>&yen;<span class="traceUnitPrice">0.00</span></td>            <td class="timesTraceClass" class="timesTraceClass"><span><%=item.StopTimeEx%></span></td>            <td class="advanceTraceClass"><span class="jiLeiAmount">--</span></td>            <td class="advanceTraceClass"><span class="jiLeiProfit">--</span></td>            <td class="advanceTraceClass"><span class="jiLeiProfitPercent">--</span></td>        </tr>        <%});%>', _traceOrderTmpl = _.template(_tplTraceOrder), _tplTop10 = '<%_.each(data,function(item,index){ %>        <li>            <div class="item <%=item[20]%>">                <div class="kc-tag rank-tag"><i><%=index%></i></div>                <div class="name"><span><a class="fc-red top10OrderDetail" href="javascript:void(0);" EnOrderID="<%=item[0]%>" title="查看订单详情"><%=item[2]%></a></span></div>                <div class="score"><span>¥<em><%=item[7]%></em></span></div>            </div>        </li>    <%});%>', _tplRecent = '<%_.each(data,function(item){%>            <tr IssueNumber="<%=item[4]%>" totalBonus="<%=item[10]%>" class="<%=item[15]?"ggc_scratched":""%>">            <%if(gl.lotteryId==EnumLotteryType.ggc){%>                <td class="td-center"><span class="ggc-bt-number">                <em><%if(item[15]){_.each(item[15].split(","),function(num){%>                            <i><%=(gl.lotteryName==item[1]?num:"")%></i>                        <%});}else{%>                            <i>0</i><i>0</i><i>0</i><i>0</i><i>0</i>                        <%}%>                </em></span></td>            <%}%>            <td class="td-center" title="查看订单详情"><a class="bl-order-id fc-red" href="javascript:void(0);"><%=item[0]%></a></td>                        <%if(gl.lotteryId!=EnumLotteryType.ggc){%>                                <td class="td-center"><span><%=item[1]%></span></td>                        <%}%>                                <td class="td-center" title="<%=item[4]%>"><span><%=item[4].maxShow(12,1)%></span></td>                                <td class="td-center"><span class="fc-yellow"><%=item[2]%></span></td>                                <td class="td-center"><span class="fc-orgen"><%=item[3]%></span></td>                                <td class="td-center" title="<%=item[5]%>"><span><%=item[5].maxShow(12)%></span></td>                                <td class="td-center"><span class="fc-blue betAmount"><%=item[6]%></span></td>                                <td class="td-center"><span class="fc-blue totalMoney"><%=item[23]%></span></td>                                <%if(gl.lotteryId!=EnumLotteryType.ggc){%>                                    <td class="td-center"><span class="fc-green"><%=item[8]%></span></td>                                <%}%>                                <td class="td-center"><span><%=item[9]%></span></td>                                <%if(gl.lotteryId==EnumLotteryType.ggc){%>                                     <td class="td-center">                                      <%if(item[15]){%>                                            <span class="fc-gry">已刮奖</span>                                      <%}else if(item[18]==10){%>                                            <span class="fc-gry">已撤单</span>                                      <%}else{%>                                            <a class="ggc-ta-betting" t="1" href="javascript:void(0);">刮奖</a>                                            <a class="ggc-ta-betting" t="0" href="javascript:void(0);">撤单</a></td>                                      <%}%>                                <%}%>        </tr><%});%>', _top10Tmpl = _.template(_tplTop10), _recentTmpl = _.template(_tplRecent), _tplTraceList = '<%_.each(data,function(item,index){ %>        <li  title="点击期号进入追号详情页面">            <span class="title"><%=item.LotteryName%></span>            <a href="#membertraceorderdetail/<%=item.EncodeId%>"  target="_blank"><span class="period">第一期:<em><%=item.IssueNumber%></em></span></a>            <span class="count"><em><%=item.TotalIssue%></em>期</span>            <span class="mode"><em><%=item.RuleName%></em></span>            <span class="status fc-green"><%=item.TStatus%></span>        </li>    <%});%>', _traceListTmpl = _.template(_tplTraceList);_recentData = [], _top10Data = [], _betOrderDetailHtml = '<div class="table ta-center table-line-hor">', _betOrderDetailHtml += "<table><tbody>", _betOrderDetailHtml += '<tr class="needMultsInfo" style="display:none;">', _betOrderDetailHtml += '<td colspan="6"><span class="fc-red">此次追号有多笔投注项，当前只显示第一笔订单详情!</span></td>', _betOrderDetailHtml += "</tr>", _betOrderDetailHtml += "<tr>", _betOrderDetailHtml += '<td class="ta-right"><span>订单编号：</span></td>', _betOrderDetailHtml += '<td colspan="2"><span class="fc-red">{0}</span></td>', _betOrderDetailHtml += '<td class="ta-right"><span>发单人：</span></td>', _betOrderDetailHtml += '<td colspan="2"><span class="fc-red">{14}</span></td>', _betOrderDetailHtml += "</tr>", _betOrderDetailHtml += "<tr>", _betOrderDetailHtml += '<td class="ta-right"><span>彩种：</span></td>', _betOrderDetailHtml += '<td colspan="2"><span class="fc-blue">{1}</span></td>', _betOrderDetailHtml += '<td class="ta-right"><span>期号：</span></td>', _betOrderDetailHtml += '<td colspan="2"><span class="fc-blue">{4}</span></td>', _betOrderDetailHtml += "</tr>", _betOrderDetailHtml += "<tr>", _betOrderDetailHtml += '<td class="ta-right"><span>玩法：</span></td>', _betOrderDetailHtml += '<td colspan="2"><span class="fc-green">{2}</span></td>', _betOrderDetailHtml += '<td class="ta-right"><span>奖金/赔率：</span></td>', _betOrderDetailHtml += '<td colspan="2"><span class="fc-green">{3}</span></td>', _betOrderDetailHtml += "</tr>", _betOrderDetailHtml += "<tr>", _betOrderDetailHtml += '<td class="ta-right"><span>订单时间：</span></td>', _betOrderDetailHtml += '<td colspan="2"><span>{9}</span></td>', _betOrderDetailHtml += '<td class="ta-right"><span>开奖号码：</span></td>', _betOrderDetailHtml += '<td colspan="2" title="{15}"><span>{22}</span></td>', _betOrderDetailHtml += "</tr>", _betOrderDetailHtml += "<tr>", _betOrderDetailHtml += '<td class="ta-right"><span>选号：</span></td>', _betOrderDetailHtml += '<td colspan="5" class="logs-order-number" title="{5}"><span class="fc-red"><em>{16}</em></span></td>', _betOrderDetailHtml += "</tr>", _betOrderDetailHtml += "<tr>", _betOrderDetailHtml += '<td class="ta-right"><span>注数：</span></td>', _betOrderDetailHtml += '<td colspan="2"><span class="fc-blue">{12}</span></td>', _betOrderDetailHtml += '<td class="ta-right"><span>倍数：</span></td>', _betOrderDetailHtml += '<td colspan="2"><span class="fc-blue">{11}</span></td>', _betOrderDetailHtml += "</tr>", _betOrderDetailHtml += "<tr>", _betOrderDetailHtml += '<td class="ta-right"><span>投注总额：</span></td>', _betOrderDetailHtml += '<td colspan="2"><span class="fc-green">{6} 元</span></td>', _betOrderDetailHtml += '<td class="ta-right"><span>中奖金额：</span></td>', _betOrderDetailHtml += '<td colspan="2"><span class="fc-green">{7} 元</span></td>', _betOrderDetailHtml += "</tr>", _betOrderDetailHtml += "<tr>", _betOrderDetailHtml += '<td class="ta-right"><span>说明：</span></td>', _betOrderDetailHtml += '<td colspan="2"><span>{8}</span></td>', _betOrderDetailHtml += '<td class="ta-right"><span>盈亏：</span></td>', _betOrderDetailHtml += '<td colspan="2"><span>{13}</span></td>', _betOrderDetailHtml += "</tr>", _betOrderDetailHtml += "</tbody></table>", _betOrderDetailHtml += "</div>", initOrderDetailClick(), renderRecentBetOrderList = function(n) {
    _recentData = BetOrderDataToArray(n);
    var t = _recentTmpl({
        data: _recentData
    });
    $("#recentContainerId").html(t),
    initOrderDetailClick(),
    gl.lotteryId == EnumLotteryType.ggc && gl.ggc.initHistoryScratch()
},
gl.renderRecentBetOrderList = renderRecentBetOrderList, GgcClient = function(n) {
    function w(n) {
        for (var i = $("<ul>"), r = null, t = 0; t < 5; t++) r = $("<li>").append("<span>" + (n ? n[t] : 0) + "</span>").appendTo(i);
        return i
    }
    function tt() {
        var n = h.find("ul"),
        t,
        r;
        n.empty(),
        t = $('<li><a href="javascript:void(0);">继续游戏</a></li>').on("click",
        function() {
            a(),
            _.delay(function() {
                gl.ggc.reFillTopScratch()
            },
            1e3)
        }),
        r = $('<li><a href="javascript:void(0);">重新刮奖</a></li>').on("click",
        function() {
            f(0),
            setTimeout(function() {
                i.removeClass("fixed"),
                v.stop(!0, !1).animate({
                    scrollTop: d.offset().top
                })
            },
            1e3)
        }),
        n.append(t)
    }
    function k(n, i, f, e) {
        if (y = {
            number: n,
            mode: ["大", "双"],
            time: "2015-04-14 18:18:55"
        },
        p = i, i == 0) u = "";
        else {
            u = "中奖注数：<span>" + i + "</span>注，";
            var o = f - e;
            u += t.profitTip(o)
        }
        r.children("ul").remove(),
        r.append(w(y.number)).trigger("_fill"),
        i != -1 && r.trigger("_scratch"),
        $(".ggc-waiting").hide()
    }
    function b(n, t) {
        s.empty();
        var i = $('<div class="s-mode animated">');
        switch (parseInt(n)) {
        case 0:
            i.addClass("sm-fail flipInX").attr("title", "很遗憾，没有中奖，祝您下次好运！");
            break;
        case - 1 : i.addClass("sm-net fadeInUp").attr("title", "哦~网络请求出错了");
            break;
        default:
            i.addClass("sm-success zoomInDown"),
            e.html(t).show()
        }
        s.show().append(i)
    }
    function a() {
        f(0),
        i.removeClass("fixed"),
        e.is(":visible") && e.hide(),
        $(".ggc-waiting").hide()
    }
    function f(n) {
        n ? (o.show(), l.show(), b(p, u), tt(), h.show()) : (o.hide(), h.hide(), s.hide(), l.hide(), g.hide())
    }
    var v = $("html,body"),
    d = $("#betting-panel"),
    i = $("#ggc-card"),
    nt = i.find(".card:first"),
    l = i.find(".board:first"),
    s = i.find(".status:first"),
    h = i.find(".operate-bar:first"),
    g = i.find(".adorn:first"),
    c = nt.find(".gcc-item:first"),
    r = $('<div class="number">'),
    e = i.find(".order:first"),
    rt = $("#betting-history tbody tr"),
    o = $('<div class="tp-ui-mask ggc-mask">'),
    y = null,
    it = null,
    p = 0,
    u = "",
    t;
    c.append(' <div style="display:none" class="ggc-waiting">数据交互中...</div>'),
    r.append(w()).appendTo(c).kcScratch({
        brusheSize: 2,
        fillImage: "images/ggc/ggc-betting-base-mask.png",
        scratchPatch: "5,220|15,150|45,120|60,300|50,150",
        onScratch: function() {
            f(1)
        }
    }),
    o.appendTo($("body")).hide(),
    t = this,
    t.$submitBtn = $("#bettingBtn"),
    t.$addBettingNumber = $("#addBettingNumberId"),
    t.$ggcDrawingBase = $("#ggc-betting-base"),
    t.isScratchAll = !1,
    t.$recentContainerId = $("#recentContainerId"),
    t.init = function() {
        var i = ["red", "orgen", "green", "blue", "purple"];
        $.each($(".ticket-play-type li"),
        function(n) {
            $(this).addClass("tpt-" + i[n % 5])
        }),
        init_betComm(n),
        t.bind()
    },
    t.bind = function() {
        $("#bonusBtnContainer").on("click", "a",
        function() {
            gl.isLogined ? (gl.bet.ggcBonusMode = $(this).hasClass("cob-h-rightaway") ? "now": "later", $("#selectNumsContainerId").empty(), t.$addBettingNumber.click()) : $("#login-enter").click()
        });
        $("#scratchAll").on("click",
        function() {
            t.isScratchAll = !0;
            var n = t.$recentContainerId.find(".ggc-ta-betting[t=1]:visible");
            n.length > 0 ? n.eq(0).trigger("click.ggcScratch") : alert("没有未刮奖的订单！")
        });
        $("#totalTimesInput").bind("changekc",
        function() {
            var n = parseFloat($("#emBetAmount").html().replaceAll(",", "")),
            t = parseInt($(this).val()),
            i = n * t;
            $("#totalAmountId").html(FormatNumber(i, 2))
        });
        var n = $(".ggc-waiting");
        setInterval(function() {
            n.length > 0 && (n.html().length >= "数据交互中 . . .".length ? n.html("数据交互中") : n.html(n.html() + " ."))
        },
        1e3)
    },
    t.waitingBouns = function() {
        var n = $("#drawing-lite").find("li:last");
        n.find("i").html("?"),
        n.find("em").html("-"),
        t.showScratchPanel()
    },
    t.reFillTopScratch = function() {
        r.trigger("_fill")
    },
    t.showScratchPanel = function() {
        v.stop(!0, !1).animate({
            scrollTop: 0
        },
        function() {
            i.addClass("fixed")
        }),
        $(".ggc-waiting").show()
    },
    t.topOpenBonus = function(n, i, r, u) {
        var f, e, o;
        n != "" ? (f = n.split(","), k(f, i, r, u), e = t.$ggcDrawingBase.find("ul"), e.html(""), _.each(f,
        function(n) {
            e.append("<li><span>" + n + "</span></li>")
        }), o = [gl.LotteryId, String(Date.parse(new Date)), n], gl.betAssist.newBonus.refleshLotteryHistory(o)) : a()
    },
    t.profitTip = function(n) {
        return msg = "",
        msg += n > 0 ? "盈利": "亏",
        msg += "<span>&yen;" + Math.abs(n.toFixed(2)) + "</span>元"
    },
    t.initHistoryScratch = function() {
        var n = $("#betting-history tbody tr");
        $.each(n,
        function(n, i) {
            var r = $(i),
            e = "ggc_scratched",
            o = r.hasClass(e) ? !0 : !1,
            f = r.find(".ggc-bt-number:first"),
            u = r.find(".ggc-ta-betting");
            f.kcScratch({
                brusheSize: 2,
                fillImage: "images/ggc/ggc-hostory-mask.png",
                scratchPatch: "1,90|5,95|14,95|16,100|24,95",
                onFill: function() {
                    o && f.triggerHandler("_scratch")
                },
                onScratch: function() {
                    r.addClass("ggc_scratched"),
                    u.eq(0).before($('<span class="fc-gry">已刮奖</span>')),
                    u.hide()
                }
            });
            u.off(".ggcScratch").on("click.ggcScratch",
            function() {
                var n = $(this);
                if (n.attr("t") == 1) {
                    var u = n.closest("tr"),
                    i = t.isScratchAll ? "a": u.attr("IssueNumber"),
                    r = $("body");
                    r.tpuiLoading("_show"),
                    ctx.postTokenEx({
                        url: "../Bet/ScratchBonus/" + i,
                        data: {},
                        success: function(n) {
                            var r, f, e, o;
                            if (n.Ok == 1) {
                                var s = n.TotalMoney - n.BetAmount,
                                u = "很遗憾，未中奖！",
                                h = "第{}期刮奖结果".replace("{}", i);
                                if (t.isScratchAll && (h = "全部刮奖结果"), n.BonusTotalNumber > 0 && (u = s > 0 ? "恭喜您，": "", u += "刮中" + n.BonusTotalNumber + "注，", u += t.profitTip(s)), $.appAlert({
                                    useTitle: h,
                                    title: u,
                                    message: ""
                                },
                                "success"), r = [], t.isScratchAll) for (f = 0; f < n.BoNums.length; f++) r = [gl.lotteryId, String(Date.parse(new Date)), n.BoNums[f]],
                                gl.betAssist.newBonus.refleshLotteryHistory(r);
                                else r = [gl.lotteryId, String(Date.parse(new Date)), n.BoNums],
                                gl.betAssist.newBonus.refleshLotteryHistory(r)
                            } else e = n.Tip,
                            o = "warning",
                            e == "没有可派奖的订单数据" && (e = "该订单已刮奖，正在刷新数据，请稍候。若网络不佳请偿试刷新页面", o = "info"),
                            $.appAlert({
                                useTitle: "刮奖结果",
                                title: "刮奖通知",
                                message: e
                            },
                            o);
                            gl.renderRecentBetOrderList(n.Orders)
                        },
                        complete: function() {
                            t.isScratchAll = !1,
                            r.tpuiLoading("_hide")
                        },
                        error: function() {
                            alert("网络异常，请检查您的网络或偿试刷新页面。"),
                            gl.refreshHistoryData(1)
                        }
                    })
                }
            })
        })
    }
},
BetPauseHelper = [], BetPauseHelper.MaxPauseNum = 999, BetPauseHelper.doPause = function(n) {
    var f = $(".betRuleClass.active"),
    t = f.attr("isfun") == "1",
    u,
    i,
    r;
    u = t ? f.attr("betsubtype") + "01": f.attr("betrule"),
    i = GetDataDetailById(u, gl.rules, "RuleId");
    try {
        n = n ? parseInt(n) : 1
    } catch(e) {
        n = 1
    }
    n > BetPauseHelper.MaxPauseNum && (n = BetPauseHelper.MaxPauseNum),
    r = parseInt(u / 1e6),
    r == 5 || r == 6 || r == 13 ? BetPauseHelper._doPause_PL3(i, t, n) : gl.isShiShiCai ? BetPauseHelper._doPause_SSC(i, t, n) : gl.isK3 ? BetPauseHelper._doPause_K3(i, t, n) : r == 7 ? BetPauseHelper._doPause_KLPK(i, t, n) : r == 8 ? BetPauseHelper._doPause_PK10(i, t, n) : gl.is11Xuan5 && BetPauseHelper._doPause_Sd11X5(i, t, n)
},
BetPauseHelper._doPause_SSC = function(n, t, i) {
    var f = $(".betting-checker-panel"),
    b = $("#selectNumsContainerId"),
    e = [],
    v,
    y,
    u,
    r = "",
    h = i,
    o = [],
    p,
    c,
    l,
    a,
    s,
    w;
    if (!t || t && ($(".betRuleClass:visible").length == 1 || n.MatchType == "自由双面")) if (n.MatchType == "单式" && n.RuleName != "任二单式" && n.RuleName != "任三单式" && n.RuleName != "任四单式") for (p = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], c = 1, n.RuleName == "五星单式" ? c = 5 : n.RuleName == "前三单式" || n.RuleName == "中三单式" || n.RuleName == "后三单式" ? c = 3 : (n.RuleName == "前二单式" || n.RuleName == "后二单式") && (c = 2), l = 0; l < h; l++) {
        if (e.length == i) break;
        if (l > BetPauseHelper.MaxPauseNum * 11) break;
        u = BetPauseHelper._getSingleRandomNumBall(p, c),
        o.length == 0 || !o.contain(u) || l > BetPauseHelper.MaxPauseNum * 10 ? (o[o.length] = u, v = ComputeBetTotalNumber.ComputeNumber(n, u), u = u.replaceAll(" ", ""), y = {
            ruleId: n.RuleId,
            ruleName: n.DisplayName,
            selNums: u,
            subSelNums: u.maxShow(12),
            price: gl.price,
            betNum: v,
            jsOdds: n.UserOdds * 1 + n.UserPlusOdds * 1,
            itemTimes: 1
        },
        e.push(y)) : e.length < i && h++
    } else for (a = 0; a < h; a++) {
        if (e.length == i) break;
        if (a > BetPauseHelper.MaxPauseNum * 11) break;
        r = "",
        u = "",
        n.RuleName == "前三组三" || n.RuleName == "中三组三" || n.RuleName == "后三组三" ? u = BetPauseHelper._getRandomNumBall(f, [2]) : n.RuleName == "前三组六" || n.RuleName == "中三组六" || n.RuleName == "后三组六" ? u = BetPauseHelper._getRandomNumBall(f, [3]) : n.RuleName == "前二组选" || n.RuleName == "后二组选" ? u = BetPauseHelper._getRandomNumBall(f, [2]) : n.RuleName == "组选120" ? u = BetPauseHelper._getRandomNumBall(f, [5]) : n.RuleName == "组选60" ? u = BetPauseHelper._getRandomNumBall(f, [1, 3], !0) : n.RuleName == "组选30" ? u = BetPauseHelper._getRandomNumBall(f, [2, 1], !0) : n.RuleName == "组选20" ? u = BetPauseHelper._getRandomNumBall(f, [1, 2], !0) : n.RuleName == "组选10" ? u = BetPauseHelper._getRandomNumBall(f, [1, 1], !0) : n.RuleName == "组选5" || n.RuleName == "大小单双" ? u = BetPauseHelper._getRandomNumBall(f, [1, 1], !0) : n.RuleName == "任二直选" ? (r = BetPauseHelper._getSingleRandomNumBall(["1万", "2千", "3百", "4十", "5个"], 2), r = r.replaceAll(",", "").replaceAll("1", "").replaceAll("2", "").replaceAll("3", "").replaceAll("4", "").replaceAll("5", ""), r = "(" + r + ")", u = BetPauseHelper._getRandomNumBall(f, [1, 1], !0)) : n.RuleName == "任三直选" ? (r = BetPauseHelper._getSingleRandomNumBall(["1万", "2千", "3百", "4十", "5个"], 3), r = r.replaceAll(",", "").replaceAll("1", "").replaceAll("2", "").replaceAll("3", "").replaceAll("4", "").replaceAll("5", ""), r = "(" + r + ")", u = BetPauseHelper._getRandomNumBall(f, [1, 1, 1], !0)) : n.RuleName == "任二单式" || n.RuleName == "任三单式" || n.RuleName == "任四单式" ? (s = 2, n.RuleName == "任三单式" ? s = 3 : n.RuleName == "任四单式" && (s = 4), r = BetPauseHelper._getSingleRandomNumBall(["1万", "2千", "3百", "4十", "5个"], s), r = r.replaceAll(",", "").replaceAll("1", "").replaceAll("2", "").replaceAll("3", "").replaceAll("4", "").replaceAll("5", ""), r = "(" + r + ")", u = BetPauseHelper._getSingleRandomNumBall([0, 1, 2, 3, 4, 5, 6, 7, 8, 9], s)) : n.RuleName == "任四直选" ? (r = BetPauseHelper._getSingleRandomNumBall(["1万", "2千", "3百", "4十", "5个"], 4), r = r.replaceAll(",", "").replaceAll("1", "").replaceAll("2", "").replaceAll("3", "").replaceAll("4", "").replaceAll("5", ""), r = "(" + r + ")", u = BetPauseHelper._getRandomNumBall(f, [1, 1, 1, 1], !0)) : n.RuleName == "任二组选" ? (r = BetPauseHelper._getSingleRandomNumBall(["1万", "2千", "3百", "4十", "5个"], 2), r = r.replaceAll(",", "").replaceAll("1", "").replaceAll("2", "").replaceAll("3", "").replaceAll("4", "").replaceAll("5", ""), r = "(" + r + ")", u = BetPauseHelper._getRandomNumBall(f, [2])) : n.RuleName == "任三组三" ? (r = BetPauseHelper._getSingleRandomNumBall(["1万", "2千", "3百", "4十", "5个"], 3), r = r.replaceAll(",", "").replaceAll("1", "").replaceAll("2", "").replaceAll("3", "").replaceAll("4", "").replaceAll("5", ""), r = "(" + r + ")", u = BetPauseHelper._getRandomNumBall(f, [2])) : n.RuleName == "任三组六" ? (r = BetPauseHelper._getSingleRandomNumBall(["1万", "2千", "3百", "4十", "5个"], 3), r = r.replaceAll(",", "").replaceAll("1", "").replaceAll("2", "").replaceAll("3", "").replaceAll("4", "").replaceAll("5", ""), r = "(" + r + ")", u = BetPauseHelper._getRandomNumBall(f, [3])) : u = BetPauseHelper._getRandomNumBall(f, [1]),
        o.length == 0 || !o.contain(u) || a > BetPauseHelper.MaxPauseNum * 10 ? (o[o.length] = u, r && (u = r + u), v = ComputeBetTotalNumber.ComputeNumber(n, u), u = u.replaceAll(" ", ""), y = {
            ruleId: n.RuleId,
            ruleName: n.DisplayName,
            selNums: u,
            subSelNums: u.maxShow(12),
            price: gl.price,
            betNum: v,
            jsOdds: n.UserOdds * 1 + n.UserPlusOdds * 1,
            itemTimes: 1
        },
        e.push(y)) : e.length < i && h++
    } else e = BetPauseHelper._getRandomNumBallOfQuWei(f, n, h);
    w = _selectNumsTmpl({
        data: e
    }),
    b.append(w),
    $("input.betting-multiple").tpuiNumber({
        type: "depart"
    })
},
BetPauseHelper._doPause_K3 = function(n, t, i) {
    var k = $(".betting-checker-panel"),
    tt = $("#selectNumsContainerId"),
    o = [],
    b,
    w,
    s,
    v = i,
    r = [],
    p,
    c,
    h,
    l,
    a,
    d,
    f,
    y,
    u,
    g,
    e,
    nt;
    if (n.RuleName == "二不同号") for (p = 0; p < v; p++) {
        if (o.length == i) break;
        if (p > BetPauseHelper.MaxPauseNum * 11) break;
        s = BetPauseHelper._getRandomNumBall(k, [2]),
        r.length == 0 || r.length >= 6 || !r.contain(s) ? (r.contain(s) || (r[r.length] = s), b = ComputeBetTotalNumber.ComputeNumber(n, s), w = {
            ruleId: n.RuleId,
            ruleName: n.DisplayName,
            selNums: s,
            subSelNums: s.maxShow(12),
            price: gl.price,
            betNum: b,
            jsOdds: n.UserOdds * 1 + n.UserPlusOdds * 1,
            itemTimes: 1
        },
        o.push(w)) : o.length < i && v++
    } else if (n.RuleName == "二同号复选") for (p = 0; p < v; p++) {
        if (o.length == i) break;
        if (p > BetPauseHelper.MaxPauseNum * 11) break;
        s = BetPauseHelper._getRandomNumBall(k, [1]),
        r.length == 0 || r.length >= 6 || !r.contain(s) ? (r.contain(s) || (r[r.length] = s), b = ComputeBetTotalNumber.ComputeNumber(n, s), w = {
            ruleId: n.RuleId,
            ruleName: n.DisplayName,
            selNums: s,
            subSelNums: s.maxShow(12),
            price: gl.price,
            betNum: b,
            jsOdds: n.UserOdds * 1 + n.UserPlusOdds * 1,
            itemTimes: 1
        },
        o.push(w)) : o.length < i && v++
    } else if (n.RuleName.indexOf("三不同号") >= 0) for (f = ["1", "2", "3", "4", "5", "6"], y = 0; y < v; y++) {
        if (o.length == i) break;
        if (y > BetPauseHelper.MaxPauseNum * 11) break;
        if (u = Math.floor(Math.random() * 31), u == 0) h = "三不同号通选",
        l = parseInt(n.RuleId / 100) + "01";
        else {
            for (c = [], u = Math.floor(Math.random() * f.length), e = f[u], c[c.length] = e, u = Math.floor(Math.random() * f.length), e = f[u]; c.contain(e);) u = Math.floor(Math.random() * f.length),
            e = f[u];
            for (c[c.length] = e, u = Math.floor(Math.random() * f.length), e = f[u]; c.contain(e);) u = Math.floor(Math.random() * f.length),
            e = f[u];
            c[c.length] = e,
            c.sort(),
            h = c[0] + " " + c[1] + " " + c[2],
            l = parseInt(n.RuleId / 100) + "02"
        }
        l ? (a = l + "_" + h, n = GetDataDetailById(l, gl.rules, "RuleId")) : a = h,
        r.length == 0 || r.length >= 20 || !r.contain(a) ? (r.contain(a) || (r[r.length] = a), b = ComputeBetTotalNumber.ComputeNumber(n, h), w = {
            ruleId: n.RuleId,
            ruleName: n.DisplayName,
            selNums: h,
            subSelNums: h.maxShow(12),
            price: gl.price,
            betNum: b,
            jsOdds: n.UserOdds * 1 + n.UserPlusOdds * 1,
            itemTimes: 1
        },
        o.push(w)) : o.length < i && v++
    } else if (n.RuleName == "二同号通选") for (d = ["11", "22", "33", "44", "55", "66"], f = ["1", "2", "3", "4", "5", "6"], y = 0; y < v; y++) {
        if (o.length == i) break;
        if (y > BetPauseHelper.MaxPauseNum * 11) break;
        if (u = Math.floor(Math.random() * 21), u == 0) h = "二同号通选",
        l = parseInt(n.RuleId / 100) + "01";
        else {
            for (u = Math.floor(Math.random() * d.length), g = d[u], u = Math.floor(Math.random() * f.length), e = f[u]; g.indexOf(e) >= 0;) u = Math.floor(Math.random() * f.length),
            e = f[u];
            h = g + "," + e,
            l = parseInt(n.RuleId / 100) + "02"
        }
        l ? (a = l + "_" + h, n = GetDataDetailById(l, gl.rules, "RuleId")) : a = h,
        r.length == 0 || r.length >= 31 || !r.contain(a) ? (r.contain(a) || (r[r.length] = a), b = ComputeBetTotalNumber.ComputeNumber(n, h), w = {
            ruleId: n.RuleId,
            ruleName: n.DisplayName,
            selNums: h,
            subSelNums: h.maxShow(12),
            price: gl.price,
            betNum: b,
            jsOdds: n.UserOdds * 1 + n.UserPlusOdds * 1,
            itemTimes: 1
        },
        o.push(w)) : o.length < i && v++
    } else o = BetPauseHelper._getRandomNumBallOfQuWei(k, n, v, !0);
    nt = _selectNumsTmpl({
        data: o
    }),
    tt.append(nt),
    $("input.betting-multiple").tpuiNumber({
        type: "depart"
    })
},
BetPauseHelper._doPause_PL3 = function(n, t, i) {
    var e = $(".betting-checker-panel"),
    a = $("#selectNumsContainerId"),
    u = [],
    h,
    c,
    r,
    s = i,
    o = [],
    f,
    l;
    if (t && n.RuleName != "自由双面") u = BetPauseHelper._getRandomNumBallOfQuWei(e, n, s);
    else for (f = 0; f < s; f++) {
        if (u.length == i) break;
        if (f > BetPauseHelper.MaxPauseNum * 11) break;
        r = n.RuleName == "单式" ? BetPauseHelper._getSingleRandomNumBall([0, 1, 2, 3, 4, 5, 6, 7, 8, 9], 3) : n.RuleName == "组三" ? BetPauseHelper._getRandomNumBall(e, [2]) : n.RuleName == "组六" ? BetPauseHelper._getRandomNumBall(e, [3]) : BetPauseHelper._getRandomNumBall(e, [1]),
        o.length == 0 || !o.contain(r) || f > BetPauseHelper.MaxPauseNum * 10 ? (o[o.length] = r, h = ComputeBetTotalNumber.ComputeNumber(n, r), r = r.replaceAll(" ", ""), c = {
            ruleId: n.RuleId,
            ruleName: n.DisplayName,
            selNums: r,
            subSelNums: r.maxShow(12),
            price: gl.price,
            betNum: h,
            jsOdds: n.UserOdds * 1 + n.UserPlusOdds * 1,
            itemTimes: 1
        },
        u.push(c)) : u.length < i && s++
    }
    l = _selectNumsTmpl({
        data: u
    }),
    a.append(l),
    $("input.betting-multiple").tpuiNumber({
        type: "depart"
    })
},
BetPauseHelper._doPause_KLPK = function(n, t, i) {
    var y = $(".betting-checker-panel"),
    k = $("#selectNumsContainerId"),
    c = [],
    v,
    p,
    u,
    a = i,
    h = [],
    s,
    l,
    f,
    e,
    o,
    r,
    w;
    if (n.RuleName == "任选一" || n.RuleName == "任选二" || n.RuleName == "任选三" || n.RuleName == "任选四" || n.RuleName == "任选五" || n.RuleName == "任选六") for (s = 0, n.RuleName == "任选一" ? s = 1 : n.RuleName == "任选二" ? s = 2 : n.RuleName == "任选三" ? s = 3 : n.RuleName == "任选四" ? s = 4 : n.RuleName == "任选五" ? s = 5 : n.RuleName == "任选六" && (s = 6), l = 0; l < a; l++) {
        if (c.length == i) break;
        if (l > BetPauseHelper.MaxPauseNum * 11) break;
        if (u = BetPauseHelper._getRandomNumBall(y, [s]), h.length == 0 || h.length >= 6 || !h.contain(u)) {
            if (u.indexOf("A") >= 0 || u.indexOf("J") >= 0 || u.indexOf("Q") >= 0 || u.indexOf("K") >= 0) {
                function b(n, t) {
                    return n > t ? 1 : n < t ? -1 : void 0
                }
                for (f = u.split(" "), r = 0; r < f.length; r++) f[r] == "A"@f[r] = "1": f[r] == "J"@f[r] = "11": f[r] == "Q"@f[r] = "12": f[r] == "K" && (f[r] = "13");
                for (e = [], r = 0; r < f.length; r++) e[r] = parseInt(f[r]);
                for (e.sort(b), u = "", o = "", r = 0; r < e.length; r++) o = e[r] == "1" ? "A": e[r] == "11" ? "J": e[r] == "12" ? "Q": e[r] == "13" ? "K": e[r].toString(),
                u ? u += " " + o: u = o
            }
            h.contain(u) || (h[h.length] = u),
            v = ComputeBetTotalNumber.ComputeNumber(n, u),
            p = {
                ruleId: n.RuleId,
                ruleName: n.DisplayName,
                selNums: u,
                subSelNums: u.maxShow(12),
                price: gl.price,
                betNum: v,
                jsOdds: n.UserOdds * 1 + n.UserPlusOdds * 1,
                itemTimes: 1
            },
            c.push(p)
        } else c.length < i && a++
    } else c = BetPauseHelper._getRandomNumBallOfQuWei(y, n, a, !0);
    w = _selectNumsTmpl({
        data: c
    }),
    k.append(w),
    $("input.betting-multiple").tpuiNumber({
        type: "depart"
    })
},
BetPauseHelper._doPause_PK10 = function(n, t, i) {
    var s = $(".betting-checker-panel"),
    y = $("#selectNumsContainerId"),
    f = [],
    c,
    l,
    r,
    h = i,
    o = [],
    e,
    a,
    u,
    v;
    if (t && n.MatchType != "自由双面" && n.MatchType != "趣味猜前四名" && n.MatchType != "趣味猜前五名") f = BetPauseHelper._getRandomNumBallOfQuWei(s, n, h);
    else for (e = 0; e < h; e++) {
        if (f.length == i) break;
        if (e > BetPauseHelper.MaxPauseNum * 11) break;
        n.MatchType == "猜冠亚军单式" || n.MatchType == "猜前三名单式" || n.MatchType == "猜前四名单式" || n.MatchType == "猜前五名单式" ? (a = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10"], u = 1, n.MatchType == "猜冠亚军单式" ? u = 2 : n.MatchType == "猜前三名单式" ? u = 3 : n.MatchType == "猜前四名单式" ? u = 4 : n.MatchType == "猜前五名单式" && (u = 5), r = BetPauseHelper._getSingleRandomNumBall(a, u, !1, !0)) : r = n.MatchType == "猜冠亚军" || n.MatchType == "猜前三名" || n.MatchType == "猜前四名" || n.MatchType == "猜前五名" || n.MatchType == "猜前六名" || n.MatchType == "猜前七名" || n.MatchType == "猜前八名" || n.MatchType == "猜前九名" || n.MatchType == "猜前十名" || n.MatchType == "趣味猜前四名" || n.MatchType == "趣味猜前五名" || n.MatchType == "定位胆" ? BetPauseHelper._getRandomNumBall(s, [1], !0) : BetPauseHelper._getRandomNumBall(s, [1]),
        o.length == 0 || !o.contain(r) || e > BetPauseHelper.MaxPauseNum * 10 ? (o[o.length] = r, c = ComputeBetTotalNumber.ComputeNumber(n, r), l = {
            ruleId: n.RuleId,
            ruleName: n.DisplayName,
            selNums: r,
            subSelNums: r.maxShow(12),
            price: gl.price,
            betNum: c,
            jsOdds: n.UserOdds * 1 + n.UserPlusOdds * 1,
            itemTimes: 1
        },
        f.push(l)) : f.length < i && h++
    }
    v = _selectNumsTmpl({
        data: f
    }),
    y.append(v),
    $("input.betting-multiple").tpuiNumber({
        type: "depart"
    })
},
BetPauseHelper._doPause_Sd11X5 = function(n, t, i) {
    var l = $(".betting-checker-panel"),
    w = $("#selectNumsContainerId"),
    e = [],
    h,
    c,
    u,
    s = i,
    o = [],
    r = 1,
    f,
    y;
    if (t && n.MatchType != "自由双面") e = BetPauseHelper._getRandomNumBallOfQuWei(l, n, s);
    else if (n.MatchType == "任二单式" || n.MatchType == "任三单式" || n.MatchType == "任四单式" || n.MatchType == "任五单式" || n.MatchType == "任六单式" || n.MatchType == "任七单式" || n.MatchType == "任八单式" || n.MatchType == "前一单式" || n.MatchType == "前二直选单式" || n.MatchType == "前二直选复式" || n.MatchType == "前二组选单式" || n.MatchType == "前三直选单式" || n.MatchType == "前三直选复式" || n.MatchType == "前三组选单式") {
        var a = !0,
        v = !1,
        p = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11"];
        for (n.MatchType == "前三直选单式" ? (r = 3, a = !1) : n.MatchType == "前三直选复式" || n.MatchType == "前二直选复式" ? v = !0 : n.MatchType == "前三组选单式" ? r = 3 : n.MatchType == "前二直选单式" ? (r = 2, a = !1) : n.MatchType == "前二组选单式" ? r = 2 : n.MatchType == "任二单式" ? r = 2 : n.MatchType == "任三单式" ? r = 3 : n.MatchType == "任四单式" ? r = 4 : n.MatchType == "任五单式" ? r = 5 : n.MatchType == "任六单式" ? r = 6 : n.MatchType == "任七单式" ? r = 7 : n.MatchType == "任八单式" && (r = 8), f = 0; f < s; f++) {
            if (e.length == i) break;
            if (f > BetPauseHelper.MaxPauseNum * 11) break;
            u = v ? BetPauseHelper._getRandomNumBall(l, [1], !0) : BetPauseHelper._getSingleRandomNumBall(p, r, a),
            o.length == 0 || !o.contain(u) || f > BetPauseHelper.MaxPauseNum * 10 ? (o[o.length] = u, h = ComputeBetTotalNumber.ComputeNumber(n, u), c = {
                ruleId: n.RuleId,
                ruleName: n.DisplayName,
                selNums: u,
                subSelNums: u.maxShow(12),
                price: gl.price,
                betNum: h,
                jsOdds: n.UserOdds * 1 + n.UserPlusOdds * 1,
                itemTimes: 1
            },
            e.push(c)) : e.length < i && s++
        }
    } else for (n.MatchType == "任二复式" || n.MatchType == "前二组选复式" ? r = 2 : n.MatchType == "任三复式" || n.MatchType == "前三组选复式" ? r = 3 : n.MatchType == "任四复式" ? r = 4 : n.MatchType == "任五复式" ? r = 5 : n.MatchType == "任六复式" ? r = 6 : n.MatchType == "任七复式" ? r = 7 : n.MatchType == "任八复式" && (r = 8), f = 0; f < s; f++) {
        if (e.length == i) break;
        if (f > BetPauseHelper.MaxPauseNum * 11) break;
        u = BetPauseHelper._getRandomNumBall(l, [r]),
        o.length == 0 || !o.contain(u) || f > BetPauseHelper.MaxPauseNum * 10 ? (o[o.length] = u, h = ComputeBetTotalNumber.ComputeNumber(n, u), c = {
            ruleId: n.RuleId,
            ruleName: n.DisplayName,
            selNums: u,
            subSelNums: u.maxShow(12),
            price: gl.price,
            betNum: h,
            jsOdds: n.UserOdds * 1 + n.UserPlusOdds * 1,
            itemTimes: 1
        },
        e.push(c)) : e.length < i && s++
    }
    y = _selectNumsTmpl({
        data: e
    }),
    w.append(y),
    $("input.betting-multiple").tpuiNumber({
        type: "depart"
    })
},
BetPauseHelper._getRandomNumBallOfQuWei = function(n, t, i, r) {
    for (var c = [], l, a, f, e = [], v = n.find(".bc-sub:visible").find(".numBallClass:visible").length, o = "", u = "", s = "", h = 0; h < i; h++) u = "",
    f = BetPauseHelper._getRandomNumBall(n, [1], !1, !0, r),
    t && t.MatchType == "猜名次" ? (u += f[0][0], o = f[1][0][1]) : Object.prototype.toString.call(f[0][0]) == "[object Array]" ? (u = f[0][0][0], o = f[0][0][1]) : u = f[0][0],
    s = o ? o + "_" + u: u,
    e.length == 0 || e.length >= v || !e.contain(s) ? (e.contain(s) || (e[e.length] = s), o && (t = GetDataDetailById(o, gl.rules, "RuleId")), l = ComputeBetTotalNumber.ComputeNumber(t, u), a = {
        ruleId: t.RuleId,
        ruleName: t.DisplayName,
        selNums: u,
        subSelNums: u.maxShow(12),
        price: gl.price,
        betNum: l,
        jsOdds: t.UserOdds * 1 + t.UserPlusOdds * 1,
        itemTimes: 1
    },
    c.push(a)) : i++;
    return c
},
BetPauseHelper._getRandomNumBall = function(n, t, i, r, u) {
    var h = [],
    e = "",
    f,
    c = 0,
    s = "",
    a = [],
    o = [],
    v = function(n) {
        if (n && n.length != 0) if (i ? (f = BetPauseHelper._getRandomWeiNum(n, t[c++], h), h[h.length] = f) : f = BetPauseHelper._getRandomWeiNum(n, t[c++]), r) a[c - 1] = f;
        else {
            e = "";
            for (var u = 0; u < f.length; u++) e ? e += " " + f[u] : e = f[u];
            s && (s += ","),
            s += e
        }
    },
    l;
    if (u) for (n.find(".bc-sub:visible").each(function() {
        for (var t = BetPauseHelper._getBCSubNumBallList($(this), r), n = 0; n < t.length; n++) o[o.length] = t[n]
    }), l = 0; l < t.length; l++) v(o);
    else n.find(".bc-sub:visible").each(function() {
        o = BetPauseHelper._getBCSubNumBallList($(this), r),
        v(o)
    });
    return r ? a: s
},
BetPauseHelper._getBCSubNumBallList = function(n, t) {
    var r = [],
    u = 0,
    i,
    f = ".numBallClass:visible",
    e = function() {
        n.find(f).each(function() {
            try {
                i = $($(this).find("span")[0]).text(),
                i || (i = $($(this)[0].firstChild.firstChild).text(), i || (i = $($(this)[0].firstChild.firstElementChild).text()))
            } catch(n) {
                i = ""
            }
            i && (i = i.replace(/[\r\n]/g, ""), u = r.length, r[u] = t && $(this).attr("ruleid") ? [i, $(this).attr("ruleid")] : i)
        })
    };
    return e(),
    r.length == 0 && (f = ".numBallClassNotSelNum:visible", e()),
    r
},
BetPauseHelper._getSingleRandomNumBall = function(n, t, i, r) {
    for (var e = BetPauseHelper._getRandomWeiNum(n, t, !1, r), u = "", f = 0; f < e.length; f++) u ? (u += i ? " ": ",", u += e[f]) : u = e[f];
    return u
},
BetPauseHelper._getRandomWeiNum = function(n, t, i, r) {
    var s = n.length,
    u, e, f, o;
    for ((!t || t < 1) && (t = 1), e = 0, f = [], o = 0; o < t; o++) u = Math.floor(Math.random() * s),
    n[u] && !f.contains(n[u]) && (!i || i.length >= n.length || !i.contains(n[u])) ? (f[e] = n[u], e = e + 1) : t = t + 1;
    return r || f.sort(),
    f
},
Array.prototype.contains = function(n) {
    return RegExp(n).test(this)
},
BetNumberAndProfitLossHelper = [], BetNumberAndProfitLossHelper.Compute = function() {
    var t = $(".betRuleClass.active").attr("betrule");
    t || (t = $(".betRuleClass.active").attr("betsubtype") + "01");
    var r = parseInt(t / 1e6),
    u = $(".betRuleClass.active"),
    i = u.attr("isfun") == "1",
    n;
    gl.isShiShiCai ? n = BetNumberAndProfitLossHelper._compute_SSC(t, i) : gl.isK3 ? n = BetNumberAndProfitLossHelper._compute_K3(t, i) : r == 7 ? n = BetNumberAndProfitLossHelper._compute_KLPK(t, i) : r == 8 ? n = BetNumberAndProfitLossHelper._compute_PK10(t, i) : gl.is11Xuan5 && (n = BetNumberAndProfitLossHelper._compute_SD11X5(t, i)),
    n && ($("#emBetNumber").html(n[0]), $("#emBetAmount").html(n[1]), $("#emBetBonus").html(n[2]), $("#emBetProfit").html(n[3])),
    r == 11 && $("#totalTimesInput").trigger("changekc")
},
BetNumberAndProfitLossHelper.Clear = function() {
    $("#emBetNumber").html("0"),
    $("#emBetAmount").html("0"),
    $("#emBetBonus").html("0"),
    $("#emBetProfit").html("0")
},
BetNumberAndProfitLossHelper._compute_SSC = function(n, t) {
    var lt = $(".bc-config"),
    s = 0,
    rt = "0",
    p = "0",
    y = "0",
    l = gl.priceMode == 0 ? 1 : gl.priceMode == 1 ? .1 : .01,
    i = GetDataDetailById(n, gl.rules, "RuleId"),
    e,
    r,
    c,
    v,
    w,
    tt,
    it,
    nt,
    ct,
    ot,
    h,
    o,
    f,
    u,
    ht,
    a;
    if (t) ot = $(".betting-checker-panel").find(".numBallClass.active"),
    s = ot.length,
    n = $(".betRuleClass.active").attr("betsubtype") + "01",
    i = GetDataDetailById(n, gl.rules, "RuleId"),
    h = 0,
    o = 0,
    i.MatchType == "自由双面" ? (f = 0, u = 0, $(".betting-checker-panel").find(".bc-sub:visible").each(function() {
        var n = !1,
        t = !1,
        i = !1,
        r = !1;
        $(this).find(".numBallClass.active").each(function() {
            var u = $(this).find("span").text();
            u == "大" ? n = !0 : u == "小" ? t = !0 : u == "单" ? i = !0 : u == "双" && (r = !0)
        }),
        (n || t || i || r) && (n && t && u++, i && r && u++, (n || t) && f++, (i || r) && f++)
    }), u == 0 && (u = 1), a = i.UserOdds * 1 + i.UserPlusOdds * 1, h = f * a, o = u * a) : i.RuleName == "猜必出号码" || i.RuleName == "猜不出号码" ? (f = 0, u = 0, i.RuleName == "猜必出号码"@f = s > i.Length ? i.Length: s: (ht = $(".betting-checker-panel").find(".bc-sub:visible").find(".numBallClass").length, f = s > ht - i.Length ? ht - i.Length: s), u = 1, a = i.UserOdds * 1 + i.UserPlusOdds * 1, h = f * a, o = u * a) : ot.each(function() {
        if (n = $(this).attr("ruleid"), n || (n = $(".betRuleClass.active").attr("betsubtype") + "01"), i = GetDataDetailById(n, gl.rules, "RuleId"), i) {
            var t = i.UserOdds * 1 + i.UserPlusOdds * 1;
            h < t && (h = t),
            (o == 0 || o > t) && (o = t)
        }
    }),
    e = s * gl.price * l,
    rt = FormatNumber(e, 2),
    h == o || o <= 0 ? (r = h * gl.price * l, c = r - e, p = FormatNumber(r, 2), y = FormatNumber(c, 2)) : (r = o * gl.price * l, c = r - e, v = h * gl.price * l, w = v - e, p = FormatNumber(r, 2) + " ~ " + FormatNumber(v, 2), y = FormatNumber(c, 2) + " ~ " + FormatNumber(w, 2));
    else if (tt = BetNumberAndProfitLossHelper._getAllSelNums(i), it = "", tt && (BetNumberAndProfitLossHelper._isRenXuanTypeId(parseInt(n / 1e4)) && (lt.find(".tp-ui-active").each(function() {
        it += $(this).parent().find("h4").text().substr(0, 1)
    }), tt = "(" + it + ")" + tt), s = ComputeBetTotalNumber.ComputeNumber(i, tt)), s > 0) if (nt = 0, e = s * gl.price * l, r = (i.UserOdds * 1 + i.UserPlusOdds * 1) * gl.price * l, BetNumberAndProfitLossHelper._isRenXuanTypeId(parseInt(n / 1e4)) && (ct = ComputeBetTotalNumber.ComputeNumber_SSC_RenXuanWeiBeiShu(i, it), r = r * ct), c = r - e, i.MatchType == "大小单双") {
        var f = 0,
        u = 0,
        et = !1,
        st = !1,
        ut = !1,
        ft = !1,
        g = !1,
        d = !1,
        k = !1,
        b = !1;
        $($(".betting-checker-panel").find(".bc-sub:visible")[0]).each(function() {
            $(this).find(".numBallClass.active").each(function() {
                var n = $(this).find("span").text();
                n == "大" ? et = !0 : n == "小" ? st = !0 : n == "单" ? ut = !0 : n == "双" && (ft = !0)
            })
        }),
        $($(".betting-checker-panel").find(".bc-sub:visible")[1]).each(function() {
            $(this).find(".numBallClass.active").each(function() {
                var n = $(this).find("span").text();
                n == "大" ? g = !0 : n == "小" ? d = !0 : n == "单" ? k = !0 : n == "双" && (b = !0)
            })
        }),
        et && st && (g && d && u++, k && b && u++),
        ut && ft && (g && d && u++, k && b && u++),
        (et || st) && ((g || d) && f++, (k || b) && f++),
        (ut || ft) && ((g || d) && f++, (k || b) && f++),
        u == 0 && (u = 1),
        a = i.UserOdds * 1 + i.UserPlusOdds * 1,
        h = f * a,
        o = u * a,
        e = s * gl.price * l,
        rt = FormatNumber(e, 2),
        h == o || o <= 0 ? (r = h * gl.price * l, c = r - e, p = FormatNumber(r, 2), y = FormatNumber(c, 2)) : (r = o * gl.price * l, c = r - e, v = h * gl.price * l, w = v - e, p = FormatNumber(r, 2) + " ~ " + FormatNumber(v, 2), y = FormatNumber(c, 2) + " ~ " + FormatNumber(w, 2))
    } else i.MatchType == "定位胆" ? nt = BetNumberAndProfitLossHelper._getAllSelWeiNums() : (i.MatchType == "不定位胆" || i.MatchType == "不定胆") && (nt = s > 3 ? 3 : s),
    nt > 1 ? (v = r * nt, w = v - e, p = FormatNumber(r, 2) + " ~ " + FormatNumber(v, 2), y = FormatNumber(c, 2) + " ~ " + FormatNumber(w, 2)) : (p = FormatNumber(r, 2), y = FormatNumber(c, 2)),
    rt = FormatNumber(e, 2);
    return [s, rt, p, y]
},
BetNumberAndProfitLossHelper._compute_K3 = function(n, t) {
    var f = 0,
    ft = "0",
    d = "0",
    k = "0",
    p = gl.priceMode == 0 ? 1 : gl.priceMode == 1 ? .1 : .01,
    i = GetDataDetailById(n, gl.rules, "RuleId"),
    h,
    u,
    a,
    l,
    b,
    r,
    at,
    ot,
    s,
    e,
    v,
    y,
    ct,
    nt,
    o,
    g,
    w,
    tt,
    c;
    if (t && i.MatchType != "二不同号") ot = $(".betting-checker-panel").find(".numBallClass.active"),
    f = ot.length,
    n = $(".betRuleClass.active").attr("betsubtype") + "01",
    i = GetDataDetailById(n, gl.rules, "RuleId"),
    s = 0,
    e = 0,
    i.RuleName == "猜必出号码" || i.RuleName == "猜不出号码" ? (v = 0, y = 0, i.RuleName == "猜必出号码"@v = f > i.Length ? i.Length: f: (ct = $(".betting-checker-panel").find(".bc-sub:visible").find(".numBallClass").length, v = f > ct - i.Length ? ct - i.Length: f), y = 1, c = i.UserOdds * 1 + i.UserPlusOdds * 1, s = v * c, e = y * c) : i.RuleName == "二同号通选" ? (f = 0, nt = $($(".betting-checker-panel").find(".bc-sub:visible")[0]).find(".numBallClass.active"), nt.length > 0 && (n = $(nt[0]).attr("ruleid"), i = GetDataDetailById(n, gl.rules, "RuleId"), s += i.UserOdds * 1 + i.UserPlusOdds * 1, e = s, f = 1), r = "", o = "", g = !1, $($(".betting-checker-panel").find(".bc-sub:visible")[1]).each(function() {
        if (w = $(this).find(".numBallClass.active"), w.length <= 0) return g = !0,
        !1;
        o = "",
        w.each(function() {
            o += " " + $(this).find("span:eq(0)").text()
        }),
        o = o.substr(1),
        r += "," + o
    }), $($(".betting-checker-panel").find(".bc-sub:visible")[2]).each(function() {
        if (w = $(this).find(".numBallClass.active"), w.length <= 0) return g = !0,
        !1;
        o = "",
        w.each(function() {
            o += " " + $(this).find("span:eq(0)").text()
        }),
        o = o.substr(1),
        r += "," + o
    }), r = r.substr(1), (g || !checkDistinct(r, $(".betTypeClass"))) && (r = ""), r && (n = $($($(".betting-checker-panel").find(".bc-sub:visible")[1]).find(".numBallClass.active")[0]).attr("ruleid"), i = GetDataDetailById(n, gl.rules, "RuleId"), i && (tt = ComputeBetTotalNumber.ComputeNumber(i, r), tt > 0 && (f += tt, c = i.UserOdds * 1 + i.UserPlusOdds * 1, c < e && (e = c), s += c)))) : i.RuleName == "三不同号通选" || i.RuleName == "三连号通选" || i.RuleName == "三同号通选" ? (f = 0, nt = $($(".betting-checker-panel").find(".bc-sub:visible").find(".button")[0]).find(".numBallClass.active"), nt.length > 0 && (n = $(nt[0]).attr("ruleid"), i = GetDataDetailById(n, gl.rules, "RuleId"), s += i.UserOdds * 1 + i.UserPlusOdds * 1, e = s, f = 1), r = "", o = "", g = !1, $($(".betting-checker-panel").find(".bc-sub:visible").find(".button")[1]).each(function() {
        if (w = $(this).find(".numBallClass.active"), w.length <= 0) return g = !0,
        !1;
        o = "",
        w.each(function() {
            o += " " + $(this).find("span:eq(0)").text()
        }),
        o = o.substr(1),
        r += "," + o
    }), r = r.substr(1), (g || !checkDistinct(r, $(".betTypeClass"))) && (r = ""), r && (n = $($($(".betting-checker-panel").find(".bc-sub:visible").find(".button")[1]).find(".numBallClass.active")[0]).attr("ruleid"), i = GetDataDetailById(n, gl.rules, "RuleId"), i && (tt = ComputeBetTotalNumber.ComputeNumber(i, r), tt > 0 && (f += tt, c = i.UserOdds * 1 + i.UserPlusOdds * 1, c < e && (e = c), s += c)))) : ot.each(function() {
        if (n = $(this).attr("ruleid"), n || (n = $(".betRuleClass.active").attr("betsubtype") + "01"), i = GetDataDetailById(n, gl.rules, "RuleId"), i) {
            var t = i.UserOdds * 1 + i.UserPlusOdds * 1;
            s < t && (s = t),
            (e == 0 || e > t) && (e = t)
        }
    }),
    h = f * gl.price * p,
    ft = FormatNumber(h, 2),
    s == e || e <= 0 ? (u = s * gl.price * p, a = u - h, d = FormatNumber(u, 2), k = FormatNumber(a, 2)) : (u = e * gl.price * p, a = u - h, l = s * gl.price * p, b = l - h, d = FormatNumber(u, 2) + " ~ " + FormatNumber(l, 2), k = FormatNumber(a, 2) + " ~ " + FormatNumber(b, 2));
    else if (r = BetNumberAndProfitLossHelper._getAllSelNums(i), r && (f = ComputeBetTotalNumber.ComputeNumber(i, r)), f > 0) if (at = 0, h = f * gl.price * p, u = (i.UserOdds * 1 + i.UserPlusOdds * 1) * gl.price * p, a = u - h, i.MatchType == "大小单双") {
        var v = 0,
        y = 0,
        vt = !1,
        lt = !1,
        ht = !1,
        st = !1,
        ut = !1,
        et = !1,
        it = !1,
        rt = !1;
        $($(".betting-checker-panel").find(".bc-sub:visible")[0]).each(function() {
            $(this).find(".numBallClass.active").each(function() {
                var n = $(this).find("span").text();
                n == "大" ? vt = !0 : n == "小" ? lt = !0 : n == "单" ? ht = !0 : n == "双" && (st = !0)
            })
        }),
        $($(".betting-checker-panel").find(".bc-sub:visible")[1]).each(function() {
            $(this).find(".numBallClass.active").each(function() {
                var n = $(this).find("span").text();
                n == "大" ? ut = !0 : n == "小" ? et = !0 : n == "单" ? it = !0 : n == "双" && (rt = !0)
            })
        }),
        vt && lt && (ut && et && y++, it && rt && y++),
        ht && st && (ut && et && y++, it && rt && y++),
        (vt || lt) && ((ut || et) && v++, (it || rt) && v++),
        (ht || st) && ((ut || et) && v++, (it || rt) && v++),
        y == 0 && (y = 1),
        c = i.UserOdds * 1 + i.UserPlusOdds * 1,
        s = v * c,
        e = y * c,
        h = f * gl.price * p,
        ft = FormatNumber(h, 2),
        s == e || e <= 0 ? (u = s * gl.price * p, a = u - h, d = FormatNumber(u, 2), k = FormatNumber(a, 2)) : (u = e * gl.price * p, a = u - h, l = s * gl.price * p, b = l - h, d = FormatNumber(u, 2) + " ~ " + FormatNumber(l, 2), k = FormatNumber(a, 2) + " ~ " + FormatNumber(b, 2))
    } else i.MatchType == "二不同号" && f >= 3 ? (l = u * 3, b = l - h, d = FormatNumber(u, 2) + " ~ " + FormatNumber(l, 2), k = FormatNumber(a, 2) + " ~ " + FormatNumber(b, 2), ft = FormatNumber(h, 2)) : (at > 1 ? (l = u * at, b = l - h, d = FormatNumber(u, 2) + " ~ " + FormatNumber(l, 2), k = FormatNumber(a, 2) + " ~ " + FormatNumber(b, 2)) : (d = FormatNumber(u, 2), k = FormatNumber(a, 2)), ft = FormatNumber(h, 2));
    return [f, ft, d, k]
},
BetNumberAndProfitLossHelper._compute_KLPK = function(n, t) {
    var r = 0,
    d = "0",
    p = "0",
    y = "0",
    l = gl.priceMode == 0 ? 1 : gl.priceMode == 1 ? .1 : .01,
    i = GetDataDetailById(n, gl.rules, "RuleId"),
    o,
    e,
    h,
    c,
    b,
    a,
    v,
    k,
    u,
    f,
    s,
    g,
    w,
    nt;
    if (t) {
        if (k = $(".betting-checker-panel").find(".numBallClass.active"), r = k.length, n = $(".betRuleClass.active").attr("betsubtype") + "01", i = GetDataDetailById(n, gl.rules, "RuleId"), u = 0, f = 0, k.each(function() {
            if (n = $(this).attr("ruleid"), n || (n = $(".betRuleClass.active").attr("betsubtype") + "01"), i = GetDataDetailById(n, gl.rules, "RuleId"), i) {
                var t = i.UserOdds * 1 + i.UserPlusOdds * 1;
                u < t && (u = t),
                (f == 0 || f > t) && (f = t)
            }
        }), s = !1, i.RuleName == "任选一" || i.RuleName == "任选二") r >= 3 && (u = u * 3),
        s = !0;
        else if (i.RuleName == "任选三") r >= 3 ? (u = u * ComputeBetTotalNumber._getCountDownSum(r - 2), s = !0) : (r = 0, u = 0, f = 0);
        else if (i.RuleName == "任选四") r >= 4 ? (u = u * ComputeBetTotalNumber._computeCombinationsVariations(r - 1, 6), f = f * (r - 3), s = !0) : (r = 0, u = 0, f = 0);
        else if (i.RuleName == "任选五") r >= 5 ? (u = u * ComputeBetTotalNumber._getCountRecursiveDownSum(r - 1, 3), f = f * ComputeBetTotalNumber._getCountDownSum(r - 4), s = !0) : (r = 0, u = 0, f = 0);
        else if (i.RuleName == "任选六") if (r >= 6) {
            for (g = 0, w = 4; w <= r - 1; w++) g += ComputeBetTotalNumber._getCountRecursiveDownSum(w, 4);
            u = u * g,
            f = f * ComputeBetTotalNumber._computeCombinationsVariations(r - 3, 6),
            s = !0
        } else r = 0,
        u = 0,
        f = 0;
        else r > 0 && f != u && (i.RuleName == "同花包选" || i.RuleName == "顺子包选" || i.RuleName == "同花顺包选" || i.RuleName == "豹子包选" || i.RuleName == "对子包选" || i.RuleName == "三不同花包选" || i.RuleName == "花式对子包选") && (u = f + u);
        s && (a = BetNumberAndProfitLossHelper._getAllSelNums(i), nt = ComputeBetTotalNumber.ComputeNumber(i, a), r = nt),
        o = r * gl.price * l,
        d = FormatNumber(o, 2),
        u == f || f <= 0 ? (e = u * gl.price * l, h = e - o, p = FormatNumber(e, 2), y = FormatNumber(h, 2)) : (e = f * gl.price * l, h = e - o, c = u * gl.price * l, b = c - o, p = FormatNumber(e, 2) + " ~ " + FormatNumber(c, 2), y = FormatNumber(h, 2) + " ~ " + FormatNumber(b, 2))
    } else a = BetNumberAndProfitLossHelper._getAllSelNums(i),
    a && (r = ComputeBetTotalNumber.ComputeNumber(i, a)),
    r > 0 && (v = 0, o = r * gl.price * l, e = (i.UserOdds * 1 + i.UserPlusOdds * 1) * gl.price * l, h = e - o, i.MatchType == "定位胆" ? v = BetNumberAndProfitLossHelper._getAllSelWeiNums() : (i.MatchType == "不定位胆" || i.MatchType == "不定胆") && (v = r > 3 ? 3 : r), v > 1 ? (c = e * v, b = c - o, p = FormatNumber(e, 2) + " ~ " + FormatNumber(c, 2), y = FormatNumber(h, 2) + " ~ " + FormatNumber(b, 2)) : (p = FormatNumber(e, 2), y = FormatNumber(h, 2)), d = FormatNumber(o, 2));
    return [r, d, p, y]
},
BetNumberAndProfitLossHelper._compute_PK10 = function(n, t) {
    var s = 0,
    b = "0",
    v = "0",
    l = "0",
    c = gl.priceMode == 0 ? 1 : gl.priceMode == 1 ? .1 : .01,
    i = GetDataDetailById(n, gl.rules, "RuleId"),
    f,
    u,
    o,
    h,
    y,
    it,
    w,
    d,
    g,
    rt,
    tt,
    e,
    r,
    nt,
    p,
    a,
    ut,
    ft;
    if (t && i.MatchType != "趣味猜前四名" && i.MatchType != "趣味猜前五名") tt = $(".betting-checker-panel").find(".numBallClass.active"),
    s = tt.length,
    n = $(".betRuleClass.active").attr("betsubtype") + "01",
    i = GetDataDetailById(n, gl.rules, "RuleId"),
    e = 0,
    r = 0,
    i.MatchType == "自由双面" ? (nt = 0, p = 0, $(".betting-checker-panel").find(".bc-sub:visible").each(function() {
        var n = !1,
        t = !1,
        i = !1,
        r = !1;
        $(this).find(".numBallClass.active").each(function() {
            var u = $(this).find("span").text();
            u == "大" ? n = !0 : u == "小" ? t = !0 : u == "单" ? i = !0 : u == "双" && (r = !0)
        }),
        (n || t || i || r) && (n && t && p++, i && r && p++, (n || t) && nt++, (i || r) && nt++)
    }), p == 0 && (p = 1), a = i.UserOdds * 1 + i.UserPlusOdds * 1, e = nt * a, r = p * a) : i.MatchType == "猜名次" ? (ut = $($($(".betting-checker-panel").find(".bc-sub:visible")[0]).find(".numBallClass.active")).length, ft = $($($(".betting-checker-panel").find(".bc-sub:visible")[1]).find(".numBallClass.active")).length, s = ft * ut, s > 0 ? $($($(".betting-checker-panel").find(".bc-sub:visible")[1]).find(".numBallClass.active")).each(function() {
        if (n = $(this).attr("ruleid"), i = GetDataDetailById(n, gl.rules, "RuleId"), i) {
            var t = i.UserOdds * 1 + i.UserPlusOdds * 1;
            e < t && (e = t),
            (r == 0 || r > t) && (r = t)
        }
    }) : e = r = 0) : tt.each(function() {
        if (n = $(this).attr("ruleid"), n || (n = $(".betRuleClass.active").attr("betsubtype") + "01"), i = GetDataDetailById(n, gl.rules, "RuleId"), i) {
            var t = i.UserOdds * 1 + i.UserPlusOdds * 1;
            e < t && (e = t),
            (r == 0 || r > t) && (r = t)
        }
    }),
    f = s * gl.price * c,
    b = FormatNumber(f, 2),
    e == r || r <= 0 ? (u = e * gl.price * c, o = u - f, v = FormatNumber(u, 2), l = FormatNumber(o, 2)) : (u = r * gl.price * c, o = u - f, h = e * gl.price * c, y = h - f, v = FormatNumber(u, 2) + " ~ " + FormatNumber(h, 2), l = FormatNumber(o, 2) + " ~ " + FormatNumber(y, 2));
    else if (it = BetNumberAndProfitLossHelper._getAllSelNums(i), it && (s = ComputeBetTotalNumber.ComputeNumber(i, it)), s > 0) if (w = 0, f = s * gl.price * c, u = (i.UserOdds * 1 + i.UserPlusOdds * 1) * gl.price * c, o = u - f, i.MatchType == "猜冠亚军" || i.MatchType == "猜前三名" || i.MatchType == "猜前四名" || i.MatchType == "猜前五名" || i.MatchType == "猜前六名" || i.MatchType == "猜前七名" || i.MatchType == "猜前八名" || i.MatchType == "猜前九名" || i.MatchType == "趣味猜前四名" || i.MatchType == "趣味猜前五名") {
        var a = 0,
        r = 0,
        e = 0,
        et = parseInt(n / 100),
        k = BetNumberAndProfitLossHelper._getDataDetailListById(et, gl.rules, "SubTypeId");
        if (k && k.length > 0 && (a = k[0].UserOdds * 1 + k[0].UserPlusOdds * 1, e = a, r = a, d = BetNumberAndProfitLossHelper._getDataDetailListById(k[0].RuleId, gl.PK10RuleDetail, "RuleId"), d && d.length > 0)) for (g = 0; g < d.length; g++) rt = a / d[g].Modulus,
        rt < r && (r = rt);
        r != e ? (u = r * gl.price * c, o = u - f, h = e * gl.price * c, y = h - f, b = FormatNumber(f, 2), v = FormatNumber(u, 2) + " ~ " + FormatNumber(h, 2), l = FormatNumber(o, 2) + " ~ " + FormatNumber(y, 2)) : (u = r * gl.price * c, o = u - f, b = FormatNumber(f, 2), v = FormatNumber(u, 2), l = FormatNumber(o, 2))
    } else i.MatchType == "定位胆" ? w = BetNumberAndProfitLossHelper._getAllSelWeiNums() : (i.MatchType == "不定位胆" || i.MatchType == "不定胆") && (w = s > 3 ? 3 : s),
    w > 1 ? (h = u * w, y = h - f, v = FormatNumber(u, 2) + " ~ " + FormatNumber(h, 2), l = FormatNumber(o, 2) + " ~ " + FormatNumber(y, 2)) : (v = FormatNumber(u, 2), l = FormatNumber(o, 2)),
    b = FormatNumber(f, 2);
    return [s, b, v, l]
},
BetNumberAndProfitLossHelper._compute_SD11X5 = function(n, t) {
    var h = 0,
    nt = "0",
    y = "0",
    v = "0",
    d = gl.priceMode == 0 ? 1 : gl.priceMode == 1 ? .1 : .01,
    i = GetDataDetailById(n, gl.rules, "RuleId"),
    o,
    f,
    p,
    c,
    b,
    tt,
    e,
    u,
    it,
    g,
    et,
    s,
    r,
    a,
    rt,
    w,
    l,
    k,
    ft,
    ut,
    ot;
    if (t) rt = $(".betting-checker-panel").find(".numBallClass.active"),
    h = rt.length,
    n = $(".betRuleClass.active").attr("betsubtype") + "01",
    i = GetDataDetailById(n, gl.rules, "RuleId"),
    w = 0,
    l = 0,
    i.RuleName == "猜必出号码" || i.RuleName == "猜不出号码" ? (k = 0, ft = 0, i.RuleName == "猜必出号码"@k = h > i.Length ? i.Length: h: (ut = $(".betting-checker-panel").find(".bc-sub:visible").find(".numBallClass").length, k = h > ut - i.Length ? ut - i.Length: h), ft = 1, ot = i.UserOdds * 1 + i.UserPlusOdds * 1, w = k * ot, l = ft * ot) : rt.each(function() {
        if (n = $(this).attr("ruleid"), n || (n = $(".betRuleClass.active").attr("betsubtype") + "01"), i = GetDataDetailById(n, gl.rules, "RuleId"), i) {
            var t = i.UserOdds * 1 + i.UserPlusOdds * 1;
            w < t && (w = t),
            (l == 0 || l > t) && (l = t)
        }
    }),
    o = h * gl.price * d,
    nt = FormatNumber(o, 2),
    w == l || l <= 0 ? (f = w * gl.price * d, p = f - o, y = FormatNumber(f, 2), v = FormatNumber(p, 2)) : (f = l * gl.price * d, p = f - o, c = w * gl.price * d, b = c - o, y = FormatNumber(f, 2) + " ~ " + FormatNumber(c, 2), v = FormatNumber(p, 2) + " ~ " + FormatNumber(b, 2));
    else if (tt = BetNumberAndProfitLossHelper._getAllSelNums(i), tt && (h = ComputeBetTotalNumber.ComputeNumber(i, tt)), h > 0) if (e = 0, o = h * gl.price * d, f = (i.UserOdds * 1 + i.UserPlusOdds * 1) * gl.price * d, p = f - o, i.MatchType == "任二复式" || i.MatchType == "任三复式" || i.MatchType == "任四复式" || i.MatchType == "任五复式" || i.MatchType == "任六复式" || i.MatchType == "任七复式" || i.MatchType == "任八复式") {
        if (u = tt.split(" ").length, it = u, u > 5 && (it = 5), i.MatchType == "任六复式") e = u > 6 ? r = ComputeBetTotalNumber.CalC(u - 5, u - 6) : r = 1;
        else if (i.MatchType == "任七复式") e = u > 7 ? r = ComputeBetTotalNumber.CalC(u - 5, u - 7) : r = 1;
        else if (i.MatchType == "任八复式") e = u > 8 ? r = ComputeBetTotalNumber.CalC(u - 5, u - 8) : r = 1;
        else {
            for (s = "", a = 1; a <= it; a++) s += "0" + a + " ";
            if (s = s.substring(0, s.length - 1), e = ComputeBetTotalNumber.ComputeNumber(i, s), r = u - 6, r <= 2) r = 1;
            else {
                for (s = "", a = 1; a <= r; a++) s += "0" + a + " ";
                s = s.substring(0, s.length - 1),
                r = ComputeBetTotalNumber.ComputeNumber(i, s),
                r < 1 && (r = 1)
            }
        }
        g = f * r,
        et = g - o,
        e > 1 && r != e ? (c = f * e, b = c - o, y = FormatNumber(g, 2) + " ~ " + FormatNumber(c, 2), v = FormatNumber(et, 2) + " ~ " + FormatNumber(b, 2)) : (y = FormatNumber(g, 2), v = FormatNumber(et, 2)),
        nt = FormatNumber(o, 2)
    } else e > 1 ? (c = f * e, b = c - o, y = FormatNumber(f, 2) + " ~ " + FormatNumber(c, 2), v = FormatNumber(p, 2) + " ~ " + FormatNumber(b, 2)) : (y = FormatNumber(f, 2), v = FormatNumber(p, 2)),
    nt = FormatNumber(o, 2);
    return [h, nt, y, v]
},
BetNumberAndProfitLossHelper._isRenXuanTypeId = function(n) {
    return n == 109 || n == 209 || n == 909 || n == 1409 || n == 1109 || n == 2009
},
BetNumberAndProfitLossHelper._getAllSelNums = function(n) {
    var t = "",
    u = !1,
    i = "",
    r;
    return ($(".betting-checker-panel").find(".bc-sub:visible").each(function() {
        if (r = $(this).find(".numBallClass.active"), r.length <= 0 && n.MatchType != "定位胆" && n.RuleName != "自由双面") return u = !0,
        !1;
        i = "",
        r.each(function() {
            i += " " + $(this).find("span:eq(0)").text()
        }),
        i = i.substr(1),
        t += "," + i
    }), t = t.substr(1), u || !checkDistinct(t, $(".betTypeClass"))) ? "": t
},
BetNumberAndProfitLossHelper._getAllSelWeiNums = function() {
    var n = 0;
    return $(".betting-checker-panel").find(".bc-sub:visible").each(function() {
        var t = $(this).find(".numBallClass.active");
        t.length > 0 && n++
    }),
    n
},
BetNumberAndProfitLossHelper._getDataDetailListById = function(n, t, i, r) {
    var e = t.length,
    f = [],
    u;
    if (i) for (u = 0; u < e; u++) n == t[u][i] && (f[f.length] = t[u]);
    else for (r == undefined && (r = 0), u = 0; u < e; u++) n == t[u][r] && (f[f.length] = t[u]);
    return f.length == 0 && (f = null),
    f
},
_justOneKey = _tempGoStr.substr(5), $.lotteryTopic_Dev = function(n) {
    function o() {
        f = t.children(),
        $.each(f,
        function(t, i) {
            var u = $(i),
            f = u.find(".image:first img:first"),
            e = u.find(".lo-topic:first"),
            o = u.find(".lo-replace:first");
            e.off().on("click",
            function() {
                gl.isLogined ? (k(u), n.addToTop(u)) : $("#login-enter").click()
            });
            o.off().on("click",
            function() {
                s = t,
                r(1)
            });
            f.hide(),
            setTimeout(function() {
                var n = "animated bounceIn";
                f.addClass(n).fadeIn(1e3,
                function() {
                    f.removeClass(n)
                })
            },
            100 * t)
        }),
        e(1)
    }
    function e(r) {
        y = f.map(function() {
            return parseInt($(this).attr("data-index"))
        }),
        r != 1 && n.saveLotterySort(i, t)
    }
    function r(n) {
        var t = $("body"),
        i = c.find("#lc-close");
        c.stop(!0, !0).toggle(n,
        function() {
            if (w.toggleClass("lock", n), b(), n) {
                i.on("click.replaceClose",
                function() {
                    r(0)
                });
                t.on("click.replaceBlank",
                function(n) {
                    $(n.target).closest(".ld-checker").length <= 0 && r(0)
                })
            } else i.off(".replaceClose"),
            t.off(".replaceBlank")
        })
    }
    function b() {
        var n = c.find("ul:first li");
        n.off().on("click.itemCkecked",
        function() {
            var c = $(this),
            n = h(c),
            l = t.find("li").slice(0, 8),
            u = _.find(l,
            function(t) {
                return $(t).attr("data-name") == n.name
            });
            u = u || i.find("ul:first").find("li:first").attr("code") == n.name,
            u ? alertTip("列表中已存在该采种，可通过拖动排序！") : (f.eq(s).before(a(n)).remove(), o(), s = -1, e()),
            r(0)
        })
    }
    function k(n) {
        if (!u) {
            var f = h(i.find("li:first")),
            e = h(n),
            r = d(e);
            n.remove(),
            t.prepend(a(f)),
            i.empty().append(r),
            r.hide().addClass(l).fadeIn(1e3,
            function() {
                r.removeClass(l)
            }),
            u = setTimeout(function() {
                v(),
                o(),
                u = clearTimeout(u)
            },
            500)
        }
    }
    function a(n) {
        return $("<li>").attr({
            "data-title": n.title,
            "data-name": n.name,
            title: n.title,
            code: n.code
        }).append(' <span class="image"> <i class="ticket-icon t-s-96 ti-' + n.name + '"> </i></span>').append('<span class="opeart"><a class="ldb-betting" href="' + n.bettingUrl + '">立即投注</a>        <a class="ldb-option lo-topic" href="javascript:void(0);"><i>&nbsp;</i><em>置顶</em></a>        <a class="ldb-option lo-replace" href="javascript:void(0);"><i>&nbsp;</i><em>替换</em></a></span>')
    }
    function d(n) {
        return $("<li>").attr({
            "data-title": n.title,
            "data-name": n.name,
            title: n.title,
            code: n.code
        }).append('<div class="image"> <a href="' + n.bettingUrl + '"><span class="ticket-icon t-s-96 ti-' + n.name + '"></span></a> </div>').append('<div class="title"> <h4><a href="' + n.bettingUrl + '">' + n.title + "</a></h4> </div>").append('<div class="cutdown"><h4><span id="hallIssueId">第 加载中... 期</span>开奖时间：</h4> <div class="cutdown-lite" id="hallIssueTimeId"><span class="lc-loading">Loading···</span></div></div>').append('<div class="betting-btn"> <a href="' + n.bettingUrl + '">立即投注</a> </div>')
    }
    function v() {
        dealHallLotteryIssue(0)
    }
    function h(n) {
        return {
            name: n.attr("data-name"),
            title: n.attr("data-title"),
            bettingUrl: "#" + n.attr("data-name"),
            code: n.attr("code")
        }
    }
    if ($(".lottery-dragbel").get(0)) {
        var w = $(".lottery-dragbel"),
        c = $("#ld-checker"),
        p = $("#ld-topic"),
        i = p.find("ul:first"),
        nt = i.children(0),
        l = "animated rotateInDownRight",
        g = $("#ld-base"),
        t = g.find("ul:first"),
        f = t.children(),
        u = null,
        tt = {},
        y = null,
        s = -1;
        o(),
        t.dragsort({
            dragSelector: "li",
            dragSelectorExclude: "a,i,em,span",
            dragEnd: e,
            placeHolderTemplate: '<li class="ld-placeholder"><div></div></li>'
        })
    }
},
TrendClient = function(n, t) {
    var i = this;
    i._one = 0,
    i._needDrawLine = !0,
    i.lotteryCode = n,
    i.chartName = location.hash.toLowerCase().replace("#trend-", ""),
    i._dataSource = [],
    i._targets = [],
    i._dataList = [],
    i.issueLength = 50,
    i.targetAndStats = [],
    i.targetSplitIndex = [0],
    i.rowHighlightCls = "lc-hightlight",
    i.$canvasContainer = $("div.lc-canvas"),
    i.$chartBase = $("#chart-table-base"),
    i.$chartExtend = $("div.chart-table-extend"),
    i.$chart = new $.lotteryChart(i.$chartBase),
    i.$chartFixHead = $("#chart-table-head-fixd"),
    i.$lineToggle = $("#line-toggle"),
    i.$layerToggle = $("#layer-toggle"),
    i.$omissionToggler = $("#omission-toggle"),
    i.$crossToggler = $("#cross-toggle"),
    i.$processing = $(".trend-processing"),
    i.issueWidth = ko.observable(80),
    i.bonusWidth = ko.observable(60),
    i.showDatagrid = ko.observable(!1),
    i.isHistory = ko.observable(!0),
    i.pageStat = ko.observable({}),
    i.observableFlag = ko.observableArray([1]),
    i.drawLine = function() {
        var f, n, t;
        if (i._needDrawLine) {
            var h = $(".lc-canvas:first"),
            s = i.$chartBase.find(".line-point"),
            u = i.$chartBase.find("tbody tr").eq(1).find(".line-point").length;
            for (index = [], n = 0; n < u; n++) index[n] = n;
            for (f = i._dataList.length, n = 0; n < f; n++) {
                if (n >= f - 1) break;
                for (t = 0; t < index.length; t++) {
                    var c = index[t],
                    l = index[t] + u,
                    r = s.eq(c),
                    e = r,
                    o = "";
                    r.hasClass("lc-rectangle") ? (e = r.find("span"), o = e.hasClass("lc-cyanogen") ? "#8dbcbd": "#d6bd9a") : o = e.hasClass("lc-red") ? "#e74c3c": "#d6bd9a";
                    try {
                        i.$chart._drawLine(h, r, s.eq(l), o, 2)
                    } catch(a) {}
                    index[t] += u
                }
            }
        }
    },
    i.bindEvent = function() {
        var n = i.$chartBase,
        r = i.$chartBase.find("tbody tr"),
        t;
        pageScrollTop = 0;
        r.on({
            mouseup: function(n) {
                n.preventDefault(),
                $(this).toggleClass(i.rowHighlightCls, !$(this).hasClass(i.rowHighlightCls))
            }
        });
        if (i._one == 0) {
            i._setCurrentMenu(),
            t = i.$chartBase.find("table").attr("style"),
            i.$chartFixHead.append('<table style="' + t + '"><thead>' + n.find("thead").html() + "</thead></table>");
            $(window).on({
                scroll: function() {
                    pageScrollTop = $(this).scrollTop(),
                    pageScrollTop >= n.offset().top ? i.$chartFixHead.show() : i.$chartFixHead.hide()
                }
            });
            i.$crossToggler.on({
                change: function(n) {
                    n.preventDefault(),
                    $("div.lc-cross-line").remove(),
                    i.$chart = new $.lotteryChart(i.$chartBase),
                    i.$chart._crossToggle($(this).is(":checked"))
                }
            });
            i.$omissionToggler.on({
                change: function(n) {
                    n.preventDefault(),
                    i.$chart._omissionToggle($(this).is(":checked"))
                }
            });
            i.$lineToggle.on({
                change: function(n) {
                    n.preventDefault(),
                    i.$canvasContainer[$(this).is(":checked") ? "show": "hide"]()
                }
            });
            i.$layerToggle.on({
                change: function(n) {
                    n.preventDefault(),
                    i.toggleMissLayer()
                }
            });
            $("div.chart-tool-right").on("click", "a",
            function() {
                var n = $(this),
                t = "issue-selector-active",
                r;
                n.hasClass("issue-selector-active") || (n.closest("ul").find("a").removeClass(t), n.addClass(t), r = parseInt(n.attr("count")), i.rebindData(r))
            });
            $("#refreshPage").on("click",
            function() {
                var n = window.location.hash.replace("#", "");
                home_hash_changed(n)
            });
            i._one = 1
        }
        $("#tip-show-all").on("click",
        function() {
            $(this).closest("ul").hide().next().show()
        });
        $("#tip-fold-up").on("click",
        function() {
            $(this).closest("ul").hide().prev().show()
        });
        return this
    },
    i._tpuiInit = function() {
        $(".tpui-checkbox").tpuiCheckbox(),
        $(".tpui-radio").tpuiRadio()
    },
    i._setCurrentMenu = function() {
        var n = $("div.content");
        n.find("a.active").removeClass("active"),
        n.find("a[href$=" + i.chartName + "]").addClass("active")
    },
    i._setTableWidth = function() {
        var n = ["cqc-jiben", "cqc-zhenfu", "cqc-xingtai", "tjc-jiben", "tjc-zhenfu", "tjc-xingtai", "sd11x5-xingtai", "klpk-jiben", "klpk-zhenfu", "xjssc-jiben", "xjssc-zhenfu", "xjssc-xingtai", "wfc-jiben", "wfc-zhenfu", "wfc-xingtai", "yfc-jiben", "yfc-zhenfu", "yfc-xingtai", "gd11x5-xingtai", "sh11x5-xingtai", "jx11x5-xingtai", "hlj11x5-xingtai"];
        _.contains(n, i.chartName) ? ($("#content").css({
            width: 1240
        }), i.$chartFixHead.css({
            width: 1225
        }), i.chartName.indexOf("xingtai") == -1 && i.chartName != "klpk-jiben" && i.chartName != "klpk-zhenfu" && (i.$chartBase.find("table").css({
            "table-layout": "fixed"
        }), i.$chartExtend.find("table").css({
            "table-layout": "fixed"
        }))) : _.contains(["cqc-hezhi3", "tjc-hezhi3", "klpk-hezhi", "xjssc-hezhi3", "wfc-hezhi3", "yfc-hezhi3"], i.chartName) ? ($("#content").css({
            width: 1050
        }), i.$chartFixHead.css({
            width: 1035
        })) : ($("#content").css({
            width: 980
        }), i.$chartFixHead.css({
            width: 965
        })),
        i.lotteryCode == EnumLotteryType.sd11x5 || i.lotteryCode == EnumLotteryType.gd11x5 || i.lotteryCode == EnumLotteryType.sh11x5 || i.lotteryCode == EnumLotteryType.jx11x5 || i.lotteryCode == EnumLotteryType.hlj11x5 ? (i.issueWidth(60), i.bonusWidth(90)) : i.lotteryCode == EnumLotteryType.pk10 ? (i.issueWidth(55), i.bonusWidth(175)) : i.lotteryCode == EnumLotteryType.klpk && (i.issueWidth(60), i.bonusWidth(70))
    },
    i._setLotteryTip = function() {
        var r = [1, 2, 5, 6, 9, 11, 13, 14, 20].indexOf(i.lotteryCode) > -1,
        t = [10, 21, 22, 23, 24].indexOf(i.lotteryCode) > -1,
        n = "";
        r ? n = "大小号：5～9属大号，0～4属小号。"_3At@n = "大小号：6～11属大号，1～5属小号。": i.lotteryCode == EnumLotteryType.pk10 && (n = "大小号：6～10属大号，1～5属小号。"),
        i._trend_chart_desc = i._trend_chart_desc.replace("{大小号}", n),
        $(i._trend_chart_desc).hide().appendTo($("#tip-show-all").closest("dd"))
    },
    i.init = function() {
        t.length > 0 && (i._dataSource = t.slice(1), i._targets = t[0].split(","), t = null),
        i._tpuiInit(),
        i._dataSource = i._parseJson(i._dataSource),
        i.parseTargetAndStats(),
        i._prepareDatasource(),
        i._setTableWidth(),
        i._setLotteryTip(),
        i.render(),
        i.bindEvent(),
        ctx.trendReadyNotice = i._trendReadyNotice
    },
    i._parseJson = function(n) {
        var o = [],
        s = n.length,
        f,
        e,
        u,
        t,
        r;
        if (s > 0) for (f = "", e = "", u = 0; u < s; u++) t = n[u].split(";"),
        t[0] && (f = t[0], e = t[1]),
        r = {
            IssueNumber: i.formatIssueNum(t[0] == "" ? f: t[0]),
            BonusNumber: i.formatBonusNum(t[1] == "" ? e: t[1]),
            Target: i._targets[t[2]],
            TargetStat: t[3],
            MissTimes: parseInt(t[4]),
            MaxMiss: i.formatHistoryMiss(t[5]),
            MaxConti: i.formatHistoryMiss(t[6]),
            ContiTimes: parseInt(t[7]),
            LotteryCode: i.lotteryCode
        },
        r.TargetColumnClass = i.getTargetColumnClass(r),
        r.PointClass = i.getPointClass(r),
        o.push(r);
        return o
    },
    i.parseTargetAndStats = function() {
        var t, n, r;
        i._dataSource.length != 0 && (t = i._dataSource[0].IssueNumber, n = _.filter(i._dataSource,
        function(n) {
            return n.IssueNumber == t
        }), i.issueLength = n.length, r = _.groupBy(n,
        function(n) {
            return n.Target
        }), _.each(r,
        function(n) {
            var r = n[0].Target,
            t;
            i.targetAndStats.push({
                target: r,
                stats: n
            }),
            t = i.targetSplitIndex.slice( - 1)[0],
            i.targetSplitIndex.push(t + n.length)
        }))
    },
    i.loadNewData = function() {
        ctx.postToken("../Trend/Detail/" + i.chartName, {
            last: "yes"
        },
        function(n) {
            if (n.ok == 0) console.log(n.tip);
            else {
                n = i._parseJson(n),
                i._dataSource = _.union(i._dataSource, [n]).slice(1);
                var t = $("div.chart-tool-right").find(".issue-selector-active").attr("count");
                t = parseInt(t),
                i.rebindData(t)
            }
        })
    },
    i._refleshObservableData = function() {
        i.dataList([]),
        i.dataList(i._dataList)
    },
    i.render = function() {
        i._prepareDatalist(30),
        i._koDataBind(),
        i.drawLine()
    },
    i._displayProcessing = function(n) {
        n ? i.$processing.show() : i.$processing.hide()
    },
    i.rebindData = function(n) {
        var t = $("body");
        t.tpuiLoading("_show"),
        i._prepareDatalist(n),
        i._reinitToggle(),
        i.drawLine(),
        i.bindEvent(),
        t.tpuiLoading("_hide"),
        $("#radio-history").click()
    },
    i._reinitToggle = function() {
        i.$lineToggle.prop("checked", !0),
        i._activeCheckbox(i.$lineToggle),
        i.$canvasContainer.show().html(""),
        i.$chartBase.find("tbody").find("td.lc-omission,td.lc-circle").removeClass("lc-omission-highlight"),
        i.$layerToggle.prop("checked", !1),
        i._activeCheckbox(i.$layerToggle, !1),
        i.$omissionToggler.prop("checked", !1),
        i._activeCheckbox(i.$omissionToggler, !1)
    },
    i._activeCheckbox = function(n, t) {
        var i = n.closest("div.tp-ui-item");
        t == !1 ? i.removeClass("tp-ui-active") : i.hasClass("tp-ui-active") || i.addClass("tp-ui-active")
    },
    i._prepareDatasource = function() {
        var t = _.groupBy(i._dataSource,
        function(n) {
            return n.IssueNumber
        }),
        n = [];
        _.each(t,
        function(t) {
            n.push(t)
        }),
        i._dataSource = n
    },
    i._prepareDatalist = function(n) {
        var u = [],
        t = i._dataSource.length - n,
        r;
        t = t < 0 ? 0 : t,
        r = i._dataSource.slice(t),
        i._dataList = r,
        i.observableFlag([]),
        i.observableFlag([1])
    },
    i._koDataBind = function() {
        var t = i.$chartBase[0],
        n;
        ko.cleanNode(t),
        ko.applyBindings(i, t),
        n = i.$chartExtend[0],
        ko.cleanNode(n),
        ko.applyBindings(i, n),
        i.showDatagrid(!0)
    },
    i._tmpl = '<%_.each(data,function(issue,i){%>                    <%if(i%5==0){%>                        <tr class="lc-split-hide" name="split-tr"><th colspan="58">&nbsp;</th></tr>                    <%}%>                    <tr>                        <td><span><%=issue[0].IssueNumber%></span></td>                        <td class="lc-split">&nbsp;</td>                        <td class="lc-opencode"><span><%=issue[0].BonusNumber%></span></td>                        <%_.each(issue,function(bo,j){%>                            <%if(isTargetSplit(j)){%>                                <td class="lc-split">&nbsp;</td>                            <%}%>                            <%if(bo.MissTimes==0){%>                                <td class="<%=bo.TargetColumnClass%>"><span class="lc-open <%=bo.PointClass%>"><%=bo.TargetStat%></span></td>                            <%}else{%>                                <td class="lc-omission <%=bo.TargetColumnClass%>"><span><%=bo.MissTimes%></span></td>                            <%}%>                        <%});%>                    </tr>               <%});%>    ',
    i.statinfoTmpl = _.template(i._tmpl),
    i.buildTable = function() {
        return i.statinfoTmpl({
            data: i._dataList,
            isTargetSplit: i.isTargetSplit
        })
    },
    i.toggleMissLayer = function() {
        for (var s = i.$chartBase.find("tbody"), f = [], e = s.find("tr"), o, r, n, u, t = e.length; t > 0; t--) for (o = e.eq(t), r = o.find("td.lc-omission,td.lc-circle,td.lc-rectangle"), n = 0; n < r.length; n++) u = r.eq(n),
        f[n] == undefined && (u.hasClass("lc-omission") ? u.toggleClass("lc-omission-highlight") : f[n] = !0)
    },
    i._columnNeedLine = function(n) {
        return n.Target.indexOf("组选") != -1 || n.Target == "号码分布" || n.Target.indexOf("三不同") != -1 || n.Target.indexOf("二不同") != -1 || n.Target.indexOf("二同号") != -1 || n.LotteryCode == EnumLotteryType.jsk3 && n.Target == "号码形态" || n.LotteryCode == EnumLotteryType.ahk3 && n.Target == "号码形态" || n.LotteryCode == EnumLotteryType.gxk3 && n.Target == "号码形态" || n.LotteryCode == EnumLotteryType.hubk3 && n.Target == "号码形态" || n.LotteryCode == EnumLotteryType.jlk3 && n.Target == "号码形态" || n.LotteryCode == EnumLotteryType.kck3 && n.Target == "号码形态" ? !1 : !0
    },
    i.isTargetSplit = function(n) {
        return _.contains(i.targetSplitIndex, n)
    },
    i._isBall = function(n) {
        var t = n.TargetStat;
        return t == "0-13" || t == "35-45" || "AJQK".indexOf(t) != -1 ? !0 : n.Target.indexOf("三不同") != -1 || n.Target.indexOf("二不同") != -1 || n.Target.indexOf("二同号") != -1 ? !1 : $.isNumeric(n.TargetStat)
    },
    i._getTargetIndex = function(n) {
        for (var r = 0,
        t = 0; t < i._targets.length; t++) if (n.Target == i._targets[t]) {
            r = t;
            break
        }
        return r
    },
    i.getTargetColumnClass = function(n) {
        var u = i._getTargetIndex(n),
        r = i._isBall(n),
        t = r ? "lc-circle": "lc-rectangle";
        return r && (t += u % 2 == 0 ? " lc-red": " lc-brown"),
        n.MissTimes == 0 && i._columnNeedLine(n) && (t += " line-point"),
        t
    },
    i.getPointClass = function(n) {
        var t = i._getTargetIndex(n);
        return i._isBall(n) ? "": t % 2 == 0 ? " lc-cyanogen": " lc-yellow"
    },
    i.formatIssueNum = function(n) {
        switch (i.lotteryCode) {
        case EnumLotteryType.tjc:
        case EnumLotteryType.cqc:
        case EnumLotteryType.xjssc:
            n = n.substr(4)
        }
        return n
    },
    i.formatBonusNum = function(n) {
        var t;
        if (i.lotteryCode == EnumLotteryType.klpk) {
            var f = BonusNumHelper.pkSuitFilter(n).split(","),
            u = BonusNumHelper.pkNumGetOnlyNum(n).split(","),
            r = "";
            for (t = 0; t < f.length; t++) switch (f[t]) {
            case "1":
                r += "<span  style='color:black;'>♠" + u[t] + "</span>";
                break;
            case "2":
                r += "<span  style='color:red;'>♥" + u[t] + "</span>";
                break;
            case "3":
                r += "<span  style='color:black;'>♣" + u[t] + "</span>";
                break;
            case "4":
                r += "<span  style='color:red;'>♦" + u[t] + "</span>"
            }
            return r
        }
        return n
    },
    i.formatHistoryMiss = function(n) {
        return String(n).replace("1000000", "-").replace("10000", "-")
    },
    i._getStatInfoOfThisPage = function() {
        var u = 0,
        f = 0,
        e = 0,
        w = 0,
        o = 0,
        s = [],
        h = [],
        c = [],
        l = [],
        a = i._dataList.length,
        y,
        t,
        r,
        n,
        v,
        p;
        if (a > 0) {
            for (y = i._dataList[0].length, t = 0; t < y; t++) {
                for (u = 0, e = 0, o = 0, f = 0, r = 0; r < a; r++) n = i._dataList[r][t],
                n.MissTimes > u && (u = n.MissTimes),
                n.ContiTimes > f && (f = n.ContiTimes),
                n.MissTimes == 0 && (o += 1),
                r < a - 1 ? i._dataList[r + 1][t].MissTimes == 0 && (e += n.MissTimes) : e += n.MissTimes;
                i.isTargetSplit(t) && (s.push( - 1), h.push( - 1), l.push( - 1), c.push( - 1)),
                s.push(u),
                v = parseInt(e / (o + 1)),
                h.push(v == 0 ? 1 : v),
                l.push(o),
                c.push(f)
            }
            p = {
                maxMiss: s,
                avg: h,
                hit: l,
                maxConti: c
            },
            i.pageStat(p)
        }
    },
    i.switchTab = function(n, t) {
        var u = $(t.target),
        r = u.attr("id");
        i.isHistory(r == "radio-history"),
        r != "radio-history" && i._getStatInfoOfThisPage()
    },
    i._trendReadyNotice = function(n) {
        i.lotteryCode == n
    },
    i._trend_chart_desc = '<ul>    <li>遗漏：自上期开出到本期间隔的期数。</li>    <li>分隔线：每五期使用分隔线，使横向导航更加清晰。</li>    <li>遗漏分层：将当前遗漏以柱状图标示出。</li>    <li>出现总次数：统计周期内，某个号码的累计出现次数。</li>    <li>平均遗漏值：统计期数内遗漏的平均值（计算公式：平均遗漏＝统计期内的总遗漏数/(出现次数+1)）。</li>    <li>最大遗漏值：是指统计周期内所有遗漏值的最大值。</li>    <li>最大连出值：是指统计周期内所有连出值的最大值。</li>        <li>{大小号}</li>    <li>奇偶号：1、3 、5、7、9属奇数，0、2、4、6、8属偶数。</li>    <li>质合号：1、2、3、5、7属质数，0、4、6、8、9属合数。</li>    <li>        和值：开奖号码相加之和。示例：号码01 02 03 05 10和值为21。    </li>    <li>        和尾：开奖号码和值的个位数，范围为0-9。示例：号码01 02 03 05 10和尾为1。    </li>    <li>        012路：奖号除3得到的余数分布。1、4、7属1路，2、5、8属2路，0、3、6、9属0路。    </li>    <li>升平降：相同统计指标中，本期值大于上期值叫升，本期值等于上期值叫平，本期值小于上期值叫降。 <a href="javascript:void(0)" id="tip-fold-up">－收起</a></li></ul>'
},
!
function(n) {
    if ("object" == typeof exports && "undefined" != typeof module) module.exports = n();
    else if ("function" == typeof define && define.amd) define([], n);
    else {
        var t;
        "undefined" != typeof window ? t = window: "undefined" != typeof global ? t = global: "undefined" != typeof self && (t = self),
        t.JSZip = n()
    }
} (function() {
    return function n(t, i, r) {
        function u(f, o) {
            var h, s;
            if (!i[f]) {
                if (!t[f]) {
                    if (h = "function" == typeof require && require, !o && h) return h(f, !0);
                    if (e) return e(f, !0);
                    throw new Error("Cannot find module '" + f + "'");
                }
                s = i[f] = {
                    exports: {}
                },
                t[f][0].call(s.exports,
                function(n) {
                    var i = t[f][1][n];
                    return u(i ? i: n)
                },
                s, s.exports, n, t, i, r)
            }
            return i[f].exports
        }
        for (var e = "function" == typeof require && require,
        f = 0; f < r.length; f++) u(r[f]);
        return u
    } ({
        1 : [function(n, t, i) {
            "use strict";
            var r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
            i.encode = function(n) {
                for (var e, t, i, h, c, o, u, s = "",
                f = 0; f < n.length;) e = n.charCodeAt(f++),
                t = n.charCodeAt(f++),
                i = n.charCodeAt(f++),
                h = e >> 2,
                c = (3 & e) << 4 | t >> 4,
                o = (15 & t) << 2 | i >> 6,
                u = 63 & i,
                isNaN(t) ? o = u = 64 : isNaN(i) && (u = 64),
                s = s + r.charAt(h) + r.charAt(c) + r.charAt(o) + r.charAt(u);
                return s
            },
            i.decode = function(n) {
                var o, s, h, c, f, i, e, u = "",
                t = 0;
                for (n = n.replace(/[^A-Za-z0-9\+\/\=]/g, ""); t < n.length;) c = r.indexOf(n.charAt(t++)),
                f = r.indexOf(n.charAt(t++)),
                i = r.indexOf(n.charAt(t++)),
                e = r.indexOf(n.charAt(t++)),
                o = c << 2 | f >> 4,
                s = (15 & f) << 4 | i >> 2,
                h = (3 & i) << 6 | e,
                u += String.fromCharCode(o),
                64 != i && (u += String.fromCharCode(s)),
                64 != e && (u += String.fromCharCode(h));
                return u
            }
        },
        {}],
        2 : [function(n, t) {
            "use strict";
            function i() {
                this.compressedSize = 0,
                this.uncompressedSize = 0,
                this.crc32 = 0,
                this.compressionMethod = null,
                this.compressedContent = null
            }
            i.prototype = {
                getContent: function() {
                    return null
                },
                getCompressedContent: function() {
                    return null
                }
            },
            t.exports = i
        },
        {}],
        3 : [function(n, t, i) {
            "use strict";
            i.STORE = {
                magic: "\x00\x00",
                compress: function(n) {
                    return n
                },
                uncompress: function(n) {
                    return n
                },
                compressInputType: null,
                uncompressInputType: null
            },
            i.DEFLATE = n("./flate")
        },
        {
            "./flate": 8
        }],
        4 : [function(n, t) {
            "use strict";
            var i = n("./utils"),
            r = [0, 1996959894, 3993919788, 2567524794, 124634137, 1886057615, 3915621685, 2657392035, 249268274, 2044508324, 3772115230, 2547177864, 162941995, 2125561021, 3887607047, 2428444049, 498536548, 1789927666, 4089016648, 2227061214, 450548861, 1843258603, 4107580753, 2211677639, 325883990, 1684777152, 4251122042, 2321926636, 335633487, 1661365465, 4195302755, 2366115317, 997073096, 1281953886, 3579855332, 2724688242, 1006888145, 1258607687, 3524101629, 2768942443, 901097722, 1119000684, 3686517206, 2898065728, 853044451, 1172266101, 3705015759, 2882616665, 651767980, 1373503546, 3369554304, 3218104598, 565507253, 1454621731, 3485111705, 3099436303, 671266974, 1594198024, 3322730930, 2970347812, 795835527, 1483230225, 3244367275, 3060149565, 1994146192, 31158534, 2563907772, 4023717930, 1907459465, 112637215, 2680153253, 3904427059, 2013776290, 251722036, 2517215374, 3775830040, 2137656763, 141376813, 2439277719, 3865271297, 1802195444, 476864866, 2238001368, 4066508878, 1812370925, 453092731, 2181625025, 4111451223, 1706088902, 314042704, 2344532202, 4240017532, 1658658271, 366619977, 2362670323, 4224994405, 1303535960, 984961486, 2747007092, 3569037538, 1256170817, 1037604311, 2765210733, 3554079995, 1131014506, 879679996, 2909243462, 3663771856, 1141124467, 855842277, 2852801631, 3708648649, 1342533948, 654459306, 3188396048, 3373015174, 1466479909, 544179635, 3110523913, 3462522015, 1591671054, 702138776, 2966460450, 3352799412, 1504918807, 783551873, 3082640443, 3233442989, 3988292384, 2596254646, 62317068, 1957810842, 3939845945, 2647816111, 81470997, 1943803523, 3814918930, 2489596804, 225274430, 2053790376, 3826175755, 2466906013, 167816743, 2097651377, 4027552580, 2265490386, 503444072, 1762050814, 4150417245, 2154129355, 426522225, 1852507879, 4275313526, 2312317920, 282753626, 1742555852, 4189708143, 2394877945, 397917763, 1622183637, 3604390888, 2714866558, 953729732, 1340076626, 3518719985, 2797360999, 1068828381, 1219638859, 3624741850, 2936675148, 906185462, 1090812512, 3747672003, 2825379669, 829329135, 1181335161, 3412177804, 3160834842, 628085408, 1382605366, 3423369109, 3138078467, 570562233, 1426400815, 3317316542, 2998733608, 733239954, 1555261956, 3268935591, 3050360625, 752459403, 1541320221, 2607071920, 3965973030, 1969922972, 40735498, 2617837225, 3943577151, 1913087877, 83908371, 2512341634, 3803740692, 2075208622, 213261112, 2463272603, 3855990285, 2094854071, 198958881, 2262029012, 4057260610, 1759359992, 534414190, 2176718541, 4139329115, 1873836001, 414664567, 2282248934, 4279200368, 1711684554, 285281116, 2405801727, 4167216745, 1634467795, 376229701, 2685067896, 3608007406, 1308918612, 956543938, 2808555105, 3495958263, 1231636301, 1047427035, 2932959818, 3654703836, 1088359270, 936918e3, 2847714899, 3736837829, 1202900863, 817233897, 3183342108, 3401237130, 1404277552, 615818150, 3134207493, 3453421203, 1423857449, 601450431, 3009837614, 3294710456, 1567103746, 711928724, 3020668471, 3272380065, 1510334235, 755167117];
            t.exports = function(n, t) {
                var f, u, h;
                if ("undefined" == typeof n || !n.length) return 0;
                f = "string" !== i.getTypeOf(n),
                "undefined" == typeof t && (t = 0);
                var e = 0,
                o = 0,
                s = 0;
                for (t = -1 ^ t, u = 0, h = n.length; h > u; u++) s = f ? n[u] : n.charCodeAt(u),
                o = 255 & (t ^ s),
                e = r[o],
                t = t >>> 8 ^ e;
                return - 1 ^ t
            }
        },
        {
            "./utils": 21
        }],
        5 : [function(n, t) {
            "use strict";
            function i() {
                this.data = null,
                this.length = 0,
                this.index = 0
            }
            var r = n("./utils");
            i.prototype = {
                checkOffset: function(n) {
                    this.checkIndex(this.index + n)
                },
                checkIndex: function(n) {
                    if (this.length < n || 0 > n) throw new Error("End of data reached (data length = " + this.length + ", asked index = " + n + "). Corrupted zip ?");
                },
                setIndex: function(n) {
                    this.checkIndex(n),
                    this.index = n
                },
                skip: function(n) {
                    this.setIndex(this.index + n)
                },
                byteAt: function() {},
                readInt: function(n) {
                    var t, i = 0;
                    for (this.checkOffset(n), t = this.index + n - 1; t >= this.index; t--) i = (i << 8) + this.byteAt(t);
                    return this.index += n,
                    i
                },
                readString: function(n) {
                    return r.transformTo("string", this.readData(n))
                },
                readData: function() {},
                lastIndexOfSignature: function() {},
                readDate: function() {
                    var n = this.readInt(4);
                    return new Date((n >> 25 & 127) + 1980, (n >> 21 & 15) - 1, n >> 16 & 31, n >> 11 & 31, n >> 5 & 63, (31 & n) << 1)
                }
            },
            t.exports = i
        },
        {
            "./utils": 21
        }],
        6 : [function(n, t, i) {
            "use strict";
            i.base64 = !1,
            i.binary = !1,
            i.dir = !1,
            i.createFolders = !1,
            i.date = null,
            i.compression = null,
            i.compressionOptions = null,
            i.comment = null,
            i.unixPermissions = null,
            i.dosPermissions = null
        },
        {}],
        7 : [function(n, t, i) {
            "use strict";
            var r = n("./utils");
            i.string2binary = function(n) {
                return r.string2binary(n)
            },
            i.string2Uint8Array = function(n) {
                return r.transformTo("uint8array", n)
            },
            i.uint8Array2String = function(n) {
                return r.transformTo("string", n)
            },
            i.string2Blob = function(n) {
                var t = r.transformTo("arraybuffer", n);
                return r.arrayBuffer2Blob(t)
            },
            i.arrayBuffer2Blob = function(n) {
                return r.arrayBuffer2Blob(n)
            },
            i.transformTo = function(n, t) {
                return r.transformTo(n, t)
            },
            i.getTypeOf = function(n) {
                return r.getTypeOf(n)
            },
            i.checkSupport = function(n) {
                return r.checkSupport(n)
            },
            i.MAX_VALUE_16BITS = r.MAX_VALUE_16BITS,
            i.MAX_VALUE_32BITS = r.MAX_VALUE_32BITS,
            i.pretty = function(n) {
                return r.pretty(n)
            },
            i.findCompression = function(n) {
                return r.findCompression(n)
            },
            i.isRegExp = function(n) {
                return r.isRegExp(n)
            }
        },
        {
            "./utils": 21
        }],
        8 : [function(n, t, i) {
            "use strict";
            var r = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Uint32Array,
            u = n("pako");
            i.uncompressInputType = r ? "uint8array": "array",
            i.compressInputType = r ? "uint8array": "array",
            i.magic = "\b\x00",
            i.compress = function(n, t) {
                return u.deflateRaw(n, {
                    level: t.level || -1
                })
            },
            i.uncompress = function(n) {
                return u.inflateRaw(n)
            }
        },
        {
            pako: 24
        }],
        9 : [function(n, t) {
            "use strict";
            function i(n, t) {
                return this instanceof i ? (this.files = {},
                this.comment = null, this.root = "", n && this.load(n, t), void(this.clone = function() {
                    var t = new i,
                    n;
                    for (n in this)"function" != typeof this[n] && (t[n] = this[n]);
                    return t
                })) : new i(n, t)
            }
            var r = n("./base64");
            i.prototype = n("./object"),
            i.prototype.load = n("./load"),
            i.support = n("./support"),
            i.defaults = n("./defaults"),
            i.utils = n("./deprecatedPublicUtils"),
            i.base64 = {
                encode: function(n) {
                    return r.encode(n)
                },
                decode: function(n) {
                    return r.decode(n)
                }
            },
            i.compressions = n("./compressions"),
            t.exports = i
        },
        {
            "./base64": 1,
            "./compressions": 3,
            "./defaults": 6,
            "./deprecatedPublicUtils": 7,
            "./load": 10,
            "./object": 13,
            "./support": 17
        }],
        10 : [function(n, t) {
            "use strict";
            var i = n("./base64"),
            r = n("./zipEntries");
            t.exports = function(n, t) {
                var o, f, e, u;
                for (t = t || {},
                t.base64 && (n = i.decode(n)), f = new r(n, t), o = f.files, e = 0; e < o.length; e++) u = o[e],
                this.file(u.fileName, u.decompressed, {
                    binary: !0,
                    optimizedBinaryString: !0,
                    date: u.date,
                    dir: u.dir,
                    comment: u.fileComment.length ? u.fileComment: null,
                    unixPermissions: u.unixPermissions,
                    dosPermissions: u.dosPermissions,
                    createFolders: t.createFolders
                });
                return f.zipComment.length && (this.comment = f.zipComment),
                this
            }
        },
        {
            "./base64": 1,
            "./zipEntries": 22
        }],
        11 : [function(n, t) { (function(n) {
                "use strict";
                t.exports = function(t, i) {
                    return new n(t, i)
                },
                t.exports.test = function(t) {
                    return n.isBuffer(t)
                }
            }).call(this, "undefined" != typeof Buffer ? Buffer: void 0)
        },
        {}],
        12 : [function(n, t) {
            "use strict";
            function i(n) {
                this.data = n,
                this.length = this.data.length,
                this.index = 0
            }
            var r = n("./uint8ArrayReader");
            i.prototype = new r,
            i.prototype.readData = function(n) {
                this.checkOffset(n);
                var t = this.data.slice(this.index, this.index + n);
                return this.index += n,
                t
            },
            t.exports = i
        },
        {
            "./uint8ArrayReader": 18
        }],
        13 : [function(n, t) {
            "use strict";
            var tt = n("./support"),
            r = n("./utils"),
            l = n("./crc32"),
            c = n("./signature"),
            rt = n("./defaults"),
            y = n("./base64"),
            a = n("./compressions"),
            f = n("./compressedObject"),
            st = n("./nodeBuffer"),
            u = n("./utf8"),
            et = n("./stringWriter"),
            ft = n("./uint8ArrayWriter"),
            v = function(n) {
                if (n._data instanceof f && (n._data = n._data.getContent(), n.options.binary = !0, n.options.base64 = !1, "uint8array" === r.getTypeOf(n._data))) {
                    var t = n._data;
                    n._data = new Uint8Array(t.length),
                    0 !== t.length && n._data.set(t, 0)
                }
                return n._data
            },
            s = function(n) {
                var t = v(n),
                i = r.getTypeOf(t);
                return "string" === i ? !n.options.binary && tt.nodebuffer ? st(t, "utf-8") : n.asBinary() : t
            },
            w = function(n) {
                var t = v(this);
                return null === t || "undefined" == typeof t ? "": (this.options.base64 && (t = y.decode(t)), t = n && this.options.binary ? h.utf8decode(t) : r.transformTo("string", t), n || this.options.binary || (t = r.transformTo("string", h.utf8encode(t))), t)
            },
            o = function(n, t, i) {
                this.name = n,
                this.dir = i.dir,
                this.date = i.date,
                this.comment = i.comment,
                this.unixPermissions = i.unixPermissions,
                this.dosPermissions = i.dosPermissions,
                this._data = t,
                this.options = i,
                this._initialMetadata = {
                    dir: i.dir,
                    date: i.date
                }
            };
            o.prototype = {
                asText: function() {
                    return w.call(this, !0)
                },
                asBinary: function() {
                    return w.call(this, !1)
                },
                asNodeBuffer: function() {
                    var n = s(this);
                    return r.transformTo("nodebuffer", n)
                },
                asUint8Array: function() {
                    var n = s(this);
                    return r.transformTo("uint8array", n)
                },
                asArrayBuffer: function() {
                    return this.asUint8Array().buffer
                }
            };
            var i = function(n, t) {
                for (var r = "",
                i = 0; t > i; i++) r += String.fromCharCode(255 & n),
                n >>>= 8;
                return r
            },
            e = function() {
                for (var t, i = {},
                n = 0; n < arguments.length; n++) for (t in arguments[n]) arguments[n].hasOwnProperty(t) && "undefined" == typeof i[t] && (i[t] = arguments[n][t]);
                return i
            },
            it = function(n) {
                return n = n || {},
                n.base64 !== !0 || null !== n.binary && void 0 !== n.binary || (n.binary = !0),
                n = e(n, rt),
                n.date = n.date || new Date,
                null !== n.compression && (n.compression = n.compression.toUpperCase()),
                n
            },
            k = function(n, t, i) {
                var s, u = r.getTypeOf(t),
                e;
                if (i = it(i), "string" == typeof i.unixPermissions && (i.unixPermissions = parseInt(i.unixPermissions, 8)), i.unixPermissions && 16384 & i.unixPermissions && (i.dir = !0), i.dosPermissions && 16 & i.dosPermissions && (i.dir = !0), i.dir && (n = b(n)), i.createFolders && (s = ot(n)) && p.call(this, s, !0), i.dir || null === t || "undefined" == typeof t) i.base64 = !1,
                i.binary = !1,
                t = null,
                u = null;
                else if ("string" === u) i.binary && !i.base64 && i.optimizedBinaryString !== !0 && (t = r.string2binary(t));
                else {
                    if (i.base64 = !1, i.binary = !0, !(u || t instanceof f)) throw new Error("The data of '" + n + "' is in an unsupported format !");
                    "arraybuffer" === u && (t = r.transformTo("uint8array", t))
                }
                return e = new o(n, t, i),
                this.files[n] = e,
                e
            },
            ot = function(n) {
                "../default.htm" == n.slice( - 1) && (n = n.substring(0, n.length - 1));
                var t = n.lastIndexOf("/");
                return t > 0 ? n.substring(0, t) : ""
            },
            b = function(n) {
                return "../default.htm" != n.slice( - 1) && (n += "/"),
                n
            },
            p = function(n, t) {
                return t = "undefined" != typeof t ? t: !1,
                n = b(n),
                this.files[n] || k.call(this, n, null, {
                    dir: !0,
                    createFolders: t
                }),
                this.files[n]
            },
            nt = function(n, t, i) {
                var e, u = new f;
                return n._data instanceof f ? (u.uncompressedSize = n._data.uncompressedSize, u.crc32 = n._data.crc32, 0 === u.uncompressedSize || n.dir ? (t = a.STORE, u.compressedContent = "", u.crc32 = 0) : n._data.compressionMethod === t.magic ? u.compressedContent = n._data.getCompressedContent() : (e = n._data.getContent(), u.compressedContent = t.compress(r.transformTo(t.compressInputType, e), i))) : (e = s(n), (!e || 0 === e.length || n.dir) && (t = a.STORE, e = ""), u.uncompressedSize = e.length, u.crc32 = l(e), u.compressedContent = t.compress(r.transformTo(t.compressInputType, e), i)),
                u.compressedSize = u.compressedContent.length,
                u.compressionMethod = t.magic,
                u
            },
            g = function(n, t) {
                var i = n;
                return n || (i = t ? 16893 : 33204),
                (65535 & i) << 16
            },
            d = function(n) {
                return 63 & (n || 0)
            },
            ut = function(n, t, f, e, o) {
                var a, v, nt, h, y = (f.compressedContent, r.transformTo("string", u.utf8encode(t.name))),
                et = t.comment || "",
                b = r.transformTo("string", u.utf8encode(et)),
                ot = y.length !== t.name.length,
                rt = b.length !== et.length,
                ut = t.options,
                w = "",
                tt = "",
                it = "",
                p,
                k,
                s,
                ft,
                st;
                return nt = t._initialMetadata.dir !== t.dir ? t.dir: ut.dir,
                h = t._initialMetadata.date !== t.date ? t.date: ut.date,
                p = 0,
                k = 0,
                nt && (p |= 16),
                "UNIX" === o ? (k = 798, p |= g(t.unixPermissions, nt)) : (k = 20, p |= d(t.dosPermissions, nt)),
                a = h.getHours(),
                a <<= 6,
                a |= h.getMinutes(),
                a <<= 5,
                a |= h.getSeconds() / 2,
                v = h.getFullYear() - 1980,
                v <<= 4,
                v |= h.getMonth() + 1,
                v <<= 5,
                v |= h.getDate(),
                ot && (tt = i(1, 1) + i(l(y), 4) + y, w += "up" + i(tt.length, 2) + tt),
                rt && (it = i(1, 1) + i(this.crc32(b), 4) + b, w += "uc" + i(it.length, 2) + it),
                s = "",
                s += "\n\x00",
                s += ot || rt ? "\x00\b": "\x00\x00",
                s += f.compressionMethod,
                s += i(a, 2),
                s += i(v, 2),
                s += i(f.crc32, 4),
                s += i(f.compressedSize, 4),
                s += i(f.uncompressedSize, 4),
                s += i(y.length, 2),
                s += i(w.length, 2),
                ft = c.LOCAL_FILE_HEADER + s + y + w,
                st = c.CENTRAL_FILE_HEADER + i(k, 2) + s + i(b.length, 2) + "\x00\x00\x00\x00" + i(p, 4) + i(e, 4) + y + w + b,
                {
                    fileRecord: ft,
                    dirRecord: st,
                    compressedObject: f
                }
            },
            h = {
                load: function() {
                    throw new Error("Load method is not defined. Is the file jszip-load.js included ?");
                },
                filter: function(n) {
                    var t, u, i, r, f = [];
                    for (t in this.files) this.files.hasOwnProperty(t) && (i = this.files[t], r = new o(i.name, i._data, e(i.options)), u = t.slice(this.root.length, t.length), t.slice(0, this.root.length) === this.root && n(u, r) && f.push(r));
                    return f
                },
                file: function(n, t, i) {
                    if (1 === arguments.length) {
                        if (r.isRegExp(n)) {
                            var u = n;
                            return this.filter(function(n, t) {
                                return ! t.dir && u.test(n)
                            })
                        }
                        return this.filter(function(t, i) {
                            return ! i.dir && t === n
                        })[0] || null
                    }
                    return n = this.root + n,
                    k.call(this, n, t, i),
                    this
                },
                folder: function(n) {
                    if (!n) return this;
                    if (r.isRegExp(n)) return this.filter(function(t, i) {
                        return i.dir && n.test(t)
                    });
                    var i = this.root + n,
                    u = p.call(this, i),
                    t = this.clone();
                    return t.root = u.name,
                    t
                },
                remove: function(n) {
                    var t, r, i;
                    if (n = this.root + n, t = this.files[n], t || ("../default.htm" != n.slice( - 1) && (n += "/"), t = this.files[n]), t && !t.dir) delete this.files[n];
                    else for (r = this.filter(function(t, i) {
                        return i.name.slice(0, n.length) === n
                    }), i = 0; i < r.length; i++) delete this.files[r[i].name];
                    return this
                },
                generate: function(n) {
                    var p, l, h, f;
                    n = e(n || {},
                    {
                        base64: !0,
                        compression: "STORE",
                        compressionOptions: null,
                        type: "base64",
                        platform: "DOS",
                        comment: null,
                        mimeType: "application/zip"
                    }),
                    r.checkSupport(n.type),
                    ("darwin" === n.platform || "freebsd" === n.platform || "linux" === n.platform || "sunos" === n.platform) && (n.platform = "UNIX"),
                    "win32" === n.platform && (n.platform = "DOS");
                    var o, t, u = [],
                    s = 0,
                    v = 0,
                    k = r.transformTo("string", this.utf8encode(n.comment || this.comment || ""));
                    for (p in this.files) if (this.files.hasOwnProperty(p)) {
                        var w = this.files[p],
                        d = w.options.compression || n.compression.toUpperCase(),
                        g = a[d];
                        if (!g) throw new Error(d + " is not a valid compression method !");
                        var it = w.options.compressionOptions || n.compressionOptions || {},
                        tt = nt.call(this, w, g, it),
                        b = ut.call(this, p, w, tt, s, n.platform);
                        s += b.fileRecord.length + tt.compressedSize,
                        v += b.dirRecord.length,
                        u.push(b)
                    }
                    for (l = "", l = c.CENTRAL_DIRECTORY_END + "\x00\x00\x00\x00" + i(u.length, 2) + i(u.length, 2) + i(v, 4) + i(s, 4) + i(k.length, 2) + k, h = n.type.toLowerCase(), o = "uint8array" === h || "arraybuffer" === h || "blob" === h || "nodebuffer" === h ? new ft(s + v + l.length) : new et(s + v + l.length), t = 0; t < u.length; t++) o.append(u[t].fileRecord),
                    o.append(u[t].compressedObject.compressedContent);
                    for (t = 0; t < u.length; t++) o.append(u[t].dirRecord);
                    o.append(l),
                    f = o.finalize();
                    switch (n.type.toLowerCase()) {
                    case "uint8array":
                    case "arraybuffer":
                    case "nodebuffer":
                        return r.transformTo(n.type.toLowerCase(), f);
                    case "blob":
                        return r.arrayBuffer2Blob(r.transformTo("arraybuffer", f), n.mimeType);
                    case "base64":
                        return n.base64 ? y.encode(f) : f;
                    default:
                        return f
                    }
                },
                crc32: function(n, t) {
                    return l(n, t)
                },
                utf8encode: function(n) {
                    return r.transformTo("string", u.utf8encode(n))
                },
                utf8decode: function(n) {
                    return u.utf8decode(n)
                }
            };
            t.exports = h
        },
        {
            "./base64": 1,
            "./compressedObject": 2,
            "./compressions": 3,
            "./crc32": 4,
            "./defaults": 6,
            "./nodeBuffer": 11,
            "./signature": 14,
            "./stringWriter": 16,
            "./support": 17,
            "./uint8ArrayWriter": 19,
            "./utf8": 20,
            "./utils": 21
        }],
        14 : [function(n, t, i) {
            "use strict";
            i.LOCAL_FILE_HEADER = "PK\x03\x04",
            i.CENTRAL_FILE_HEADER = "PK\x01\x02",
            i.CENTRAL_DIRECTORY_END = "PK\x05\x06",
            i.ZIP64_CENTRAL_DIRECTORY_LOCATOR = "PK\x06\x07",
            i.ZIP64_CENTRAL_DIRECTORY_END = "PK\x06\x06",
            i.DATA_DESCRIPTOR = "PK\x07\b"
        },
        {}],
        15 : [function(n, t) {
            "use strict";
            function i(n, t) {
                this.data = n,
                t || (this.data = u.string2binary(this.data)),
                this.length = this.data.length,
                this.index = 0
            }
            var r = n("./dataReader"),
            u = n("./utils");
            i.prototype = new r,
            i.prototype.byteAt = function(n) {
                return this.data.charCodeAt(n)
            },
            i.prototype.lastIndexOfSignature = function(n) {
                return this.data.lastIndexOf(n)
            },
            i.prototype.readData = function(n) {
                this.checkOffset(n);
                var t = this.data.slice(this.index, this.index + n);
                return this.index += n,
                t
            },
            t.exports = i
        },
        {
            "./dataReader": 5,
            "./utils": 21
        }],
        16 : [function(n, t) {
            "use strict";
            var r = n("./utils"),
            i = function() {
                this.data = []
            };
            i.prototype = {
                append: function(n) {
                    n = r.transformTo("string", n),
                    this.data.push(n)
                },
                finalize: function() {
                    return this.data.join("")
                }
            },
            t.exports = i
        },
        {
            "./utils": 21
        }],
        17 : [function(n, t, i) { (function(n) {
                "use strict";
                var t, u, r;
                if (i.base64 = !0, i.array = !0, i.string = !0, i.arraybuffer = "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array, i.nodebuffer = "undefined" != typeof n, i.uint8array = "undefined" != typeof Uint8Array, "undefined" == typeof ArrayBuffer) i.blob = !1;
                else {
                    t = new ArrayBuffer(0);
                    try {
                        i.blob = 0 === new Blob([t], {
                            type: "application/zip"
                        }).size
                    } catch(f) {
                        try {
                            u = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder,
                            r = new u,
                            r.append(t),
                            i.blob = 0 === r.getBlob("application/zip").size
                        } catch(f) {
                            i.blob = !1
                        }
                    }
                }
            }).call(this, "undefined" != typeof Buffer ? Buffer: void 0)
        },
        {}],
        18 : [function(n, t) {
            "use strict";
            function i(n) {
                n && (this.data = n, this.length = this.data.length, this.index = 0)
            }
            var r = n("./dataReader");
            i.prototype = new r,
            i.prototype.byteAt = function(n) {
                return this.data[n]
            },
            i.prototype.lastIndexOfSignature = function(n) {
                for (var i = n.charCodeAt(0), r = n.charCodeAt(1), u = n.charCodeAt(2), f = n.charCodeAt(3), t = this.length - 4; t >= 0; --t) if (this.data[t] === i && this.data[t + 1] === r && this.data[t + 2] === u && this.data[t + 3] === f) return t;
                return - 1
            },
            i.prototype.readData = function(n) {
                if (this.checkOffset(n), 0 === n) return new Uint8Array(0);
                var t = this.data.subarray(this.index, this.index + n);
                return this.index += n,
                t
            },
            t.exports = i
        },
        {
            "./dataReader": 5
        }],
        19 : [function(n, t) {
            "use strict";
            var r = n("./utils"),
            i = function(n) {
                this.data = new Uint8Array(n),
                this.index = 0
            };
            i.prototype = {
                append: function(n) {
                    0 !== n.length && (n = r.transformTo("uint8array", n), this.data.set(n, this.index), this.index += n.length)
                },
                finalize: function() {
                    return this.data
                }
            },
            t.exports = i
        },
        {
            "./utils": 21
        }],
        20 : [function(n, t, i) {
            "use strict";
            for (var e = n("./utils"), u = n("./support"), s = n("./nodeBuffer"), f = new Array(256), r = 0; 256 > r; r++) f[r] = r >= 252 ? 6 : r >= 248 ? 5 : r >= 240 ? 4 : r >= 224 ? 3 : r >= 192 ? 2 : 1;
            f[254] = f[254] = 1;
            var h = function(n) {
                for (var r, t, e, f, s = n.length,
                o = 0,
                i = 0; s > i; i++) t = n.charCodeAt(i),
                55296 == (64512 & t) && s > i + 1 && (e = n.charCodeAt(i + 1), 56320 == (64512 & e) && (t = 65536 + (t - 55296 << 10) + (e - 56320), i++)),
                o += 128 > t ? 1 : 2048 > t ? 2 : 65536 > t ? 3 : 4;
                for (r = u.uint8array ? new Uint8Array(o) : new Array(o), f = 0, i = 0; o > f; i++) t = n.charCodeAt(i),
                55296 == (64512 & t) && s > i + 1 && (e = n.charCodeAt(i + 1), 56320 == (64512 & e) && (t = 65536 + (t - 55296 << 10) + (e - 56320), i++)),
                128 > t ? r[f++] = t: 2048 > t ? (r[f++] = 192 | t >>> 6, r[f++] = 128 | 63 & t) : 65536 > t ? (r[f++] = 224 | t >>> 12, r[f++] = 128 | t >>> 6 & 63, r[f++] = 128 | 63 & t) : (r[f++] = 240 | t >>> 18, r[f++] = 128 | t >>> 12 & 63, r[f++] = 128 | t >>> 6 & 63, r[f++] = 128 | 63 & t);
                return r
            },
            c = function(n, t) {
                var i;
                for (t = t || n.length, t > n.length && (t = n.length), i = t - 1; i >= 0 && 128 == (192 & n[i]);) i--;
                return 0 > i ? t: 0 === i ? t: i + f[n[i]] > t ? i: t
            },
            o = function(n) {
                for (var t, u, s = n.length,
                i = new Array(2 * s), r = 0, o = 0; s > o;) if (t = n[o++], 128 > t) i[r++] = t;
                else if (u = f[t], u > 4) i[r++] = 65533,
                o += u - 1;
                else {
                    for (t &= 2 === u ? 31 : 3 === u ? 15 : 7; u > 1 && s > o;) t = t << 6 | 63 & n[o++],
                    u--;
                    u > 1 ? i[r++] = 65533 : 65536 > t ? i[r++] = t: (t -= 65536, i[r++] = 55296 | t >> 10 & 1023, i[r++] = 56320 | 1023 & t)
                }
                return i.length !== r && (i.subarray ? i = i.subarray(0, r) : i.length = r),
                e.applyFromCharCode(i)
            };
            i.utf8encode = function(n) {
                return u.nodebuffer ? s(n, "utf-8") : h(n)
            },
            i.utf8decode = function(n) {
                var i;
                if (u.nodebuffer) return e.transformTo("nodebuffer", n).toString("utf-8");
                n = e.transformTo(u.uint8array ? "uint8array": "array", n);
                for (var r = [], t = 0, f = n.length, s = 65536; f > t;) i = c(n, Math.min(t + s, f)),
                r.push(u.uint8array ? o(n.subarray(t, i)) : o(n.slice(t, i))),
                t = i;
                return r.join("")
            }
        },
        {
            "./nodeBuffer": 11,
            "./support": 17,
            "./utils": 21
        }],
        21 : [function(n, t, i) {
            "use strict";
            function f(n) {
                return n
            }
            function c(n, t) {
                for (var i = 0; i < n.length; ++i) t[i] = 255 & n.charCodeAt(i);
                return t
            }
            function e(n) {
                var t = 65536,
                h = [],
                e = n.length,
                o = i.getTypeOf(n),
                r = 0,
                c = !0,
                s,
                f;
                try {
                    switch (o) {
                    case "uint8array":
                        String.fromCharCode.apply(null, new Uint8Array(0));
                        break;
                    case "nodebuffer":
                        String.fromCharCode.apply(null, u(0))
                    }
                } catch(l) {
                    c = !1
                }
                if (!c) {
                    for (s = "", f = 0; f < n.length; f++) s += String.fromCharCode(n[f]);
                    return s
                }
                for (; e > r && t > 1;) try {
                    h.push("array" === o || "nodebuffer" === o ? String.fromCharCode.apply(null, n.slice(r, Math.min(r + t, e))) : String.fromCharCode.apply(null, n.subarray(r, Math.min(r + t, e)))),
                    r += t
                } catch(l) {
                    t = Math.floor(t / 2)
                }
                return h.join("")
            }
            function o(n, t) {
                for (var i = 0; i < n.length; i++) t[i] = n[i];
                return t
            }
            var s = n("./support"),
            h = n("./compressions"),
            u = n("./nodeBuffer"),
            r;
            i.string2binary = function(n) {
                for (var i = "",
                t = 0; t < n.length; t++) i += String.fromCharCode(255 & n.charCodeAt(t));
                return i
            },
            i.arrayBuffer2Blob = function(n, t) {
                i.checkSupport("blob"),
                t = t || "application/zip";
                try {
                    return new Blob([n], {
                        type: t
                    })
                } catch(f) {
                    try {
                        var u = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder,
                        r = new u;
                        return r.append(n),
                        r.getBlob(t)
                    } catch(f) {
                        throw new Error("Bug : can't construct the Blob.");
                    }
                }
            },
            i.applyFromCharCode = e,
            r = {},
            r.string = {
                string: f,
                array: function(n) {
                    return c(n, new Array(n.length))
                },
                arraybuffer: function(n) {
                    return r.string.uint8array(n).buffer
                },
                uint8array: function(n) {
                    return c(n, new Uint8Array(n.length))
                },
                nodebuffer: function(n) {
                    return c(n, u(n.length))
                }
            },
            r.array = {
                string: e,
                array: f,
                arraybuffer: function(n) {
                    return new Uint8Array(n).buffer
                },
                uint8array: function(n) {
                    return new Uint8Array(n)
                },
                nodebuffer: function(n) {
                    return u(n)
                }
            },
            r.arraybuffer = {
                string: function(n) {
                    return e(new Uint8Array(n))
                },
                array: function(n) {
                    return o(new Uint8Array(n), new Array(n.byteLength))
                },
                arraybuffer: f,
                uint8array: function(n) {
                    return new Uint8Array(n)
                },
                nodebuffer: function(n) {
                    return u(new Uint8Array(n))
                }
            },
            r.uint8array = {
                string: e,
                array: function(n) {
                    return o(n, new Array(n.length))
                },
                arraybuffer: function(n) {
                    return n.buffer
                },
                uint8array: f,
                nodebuffer: function(n) {
                    return u(n)
                }
            },
            r.nodebuffer = {
                string: e,
                array: function(n) {
                    return o(n, new Array(n.length))
                },
                arraybuffer: function(n) {
                    return r.nodebuffer.uint8array(n).buffer
                },
                uint8array: function(n) {
                    return o(n, new Uint8Array(n.length))
                },
                nodebuffer: f
            },
            i.transformTo = function(n, t) {
                if (t || (t = ""), !n) return t;
                i.checkSupport(n);
                var u = i.getTypeOf(t);
                return r[u][n](t)
            },
            i.getTypeOf = function(n) {
                return "string" == typeof n ? "string": "[object Array]" === Object.prototype.toString.call(n) ? "array": s.nodebuffer && u.test(n) ? "nodebuffer": s.uint8array && n instanceof Uint8Array ? "uint8array": s.arraybuffer && n instanceof ArrayBuffer ? "arraybuffer": void 0
            },
            i.checkSupport = function(n) {
                var t = s[n.toLowerCase()];
                if (!t) throw new Error(n + " is not supported by this browser");
            },
            i.MAX_VALUE_16BITS = 65535,
            i.MAX_VALUE_32BITS = -1,
            i.pretty = function(n) {
                for (var i, r = "",
                t = 0; t < (n || "").length; t++) i = n.charCodeAt(t),
                r += "\\x" + (16 > i ? "0": "") + i.toString(16).toUpperCase();
                return r
            },
            i.findCompression = function(n) {
                for (var t in h) if (h.hasOwnProperty(t) && h[t].magic === n) return h[t];
                return null
            },
            i.isRegExp = function(n) {
                return "[object RegExp]" === Object.prototype.toString.call(n)
            }
        },
        {
            "./compressions": 3,
            "./nodeBuffer": 11,
            "./support": 17
        }],
        22 : [function(n, t) {
            "use strict";
            function u(n, t) {
                this.files = [],
                this.loadOptions = t,
                n && this.load(n)
            }
            var f = n("./stringReader"),
            e = n("./nodeBufferReader"),
            o = n("./uint8ArrayReader"),
            i = n("./utils"),
            r = n("./signature"),
            s = n("./zipEntry"),
            h = n("./support"),
            c = n("./object");
            u.prototype = {
                checkSignature: function(n) {
                    var t = this.reader.readString(4);
                    if (t !== n) throw new Error("Corrupted zip or bug : unexpected signature (" + i.pretty(t) + ", expected " + i.pretty(n) + ")");
                },
                readBlockEndOfCentral: function() {
                    this.diskNumber = this.reader.readInt(2),
                    this.diskWithCentralDirStart = this.reader.readInt(2),
                    this.centralDirRecordsOnThisDisk = this.reader.readInt(2),
                    this.centralDirRecords = this.reader.readInt(2),
                    this.centralDirSize = this.reader.readInt(4),
                    this.centralDirOffset = this.reader.readInt(4),
                    this.zipCommentLength = this.reader.readInt(2),
                    this.zipComment = this.reader.readString(this.zipCommentLength),
                    this.zipComment = c.utf8decode(this.zipComment)
                },
                readBlockZip64EndOfCentral: function() {
                    this.zip64EndOfCentralSize = this.reader.readInt(8),
                    this.versionMadeBy = this.reader.readString(2),
                    this.versionNeeded = this.reader.readInt(2),
                    this.diskNumber = this.reader.readInt(4),
                    this.diskWithCentralDirStart = this.reader.readInt(4),
                    this.centralDirRecordsOnThisDisk = this.reader.readInt(8),
                    this.centralDirRecords = this.reader.readInt(8),
                    this.centralDirSize = this.reader.readInt(8),
                    this.centralDirOffset = this.reader.readInt(8),
                    this.zip64ExtensibleData = {};
                    for (var n, t, i, r = this.zip64EndOfCentralSize - 44,
                    u = 0; r > u;) n = this.reader.readInt(2),
                    t = this.reader.readInt(4),
                    i = this.reader.readString(t),
                    this.zip64ExtensibleData[n] = {
                        id: n,
                        length: t,
                        value: i
                    }
                },
                readBlockZip64EndOfCentralLocator: function() {
                    if (this.diskWithZip64CentralDirStart = this.reader.readInt(4), this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8), this.disksCount = this.reader.readInt(4), this.disksCount > 1) throw new Error("Multi-volumes zip are not supported");
                },
                readLocalFiles: function() {
                    for (var n, t = 0; t < this.files.length; t++) n = this.files[t],
                    this.reader.setIndex(n.localHeaderOffset),
                    this.checkSignature(r.LOCAL_FILE_HEADER),
                    n.readLocalPart(this.reader),
                    n.handleUTF8(),
                    n.processAttributes()
                },
                readCentralDir: function() {
                    var n;
                    for (this.reader.setIndex(this.centralDirOffset); this.reader.readString(4) === r.CENTRAL_FILE_HEADER;) n = new s({
                        zip64: this.zip64
                    },
                    this.loadOptions),
                    n.readCentralPart(this.reader),
                    this.files.push(n)
                },
                readEndOfCentral: function() {
                    var n = this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END),
                    t;
                    if ( - 1 === n) {
                        t = !0;
                        try {
                            this.reader.setIndex(0),
                            this.checkSignature(r.LOCAL_FILE_HEADER),
                            t = !1
                        } catch(u) {}
                        throw new Error(t ? "Can't find end of central directory : is this a zip file @ If it is, see http_3A_2F_2Fstuk.github.io_2Fjszip_2Fdocumentation_2Fhowto_2Fread_zip.html": "Corrupted zip : can't find end of central directory");
                    }
                    if (this.reader.setIndex(n), this.checkSignature(r.CENTRAL_DIRECTORY_END), this.readBlockEndOfCentral(), this.diskNumber === i.MAX_VALUE_16BITS || this.diskWithCentralDirStart === i.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === i.MAX_VALUE_16BITS || this.centralDirRecords === i.MAX_VALUE_16BITS || this.centralDirSize === i.MAX_VALUE_32BITS || this.centralDirOffset === i.MAX_VALUE_32BITS) {
                        if (this.zip64 = !0, n = this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR), -1 === n) throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");
                        this.reader.setIndex(n),
                        this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),
                        this.readBlockZip64EndOfCentralLocator(),
                        this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),
                        this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),
                        this.readBlockZip64EndOfCentral()
                    }
                },
                prepareReader: function(n) {
                    var t = i.getTypeOf(n);
                    this.reader = "string" !== t || h.uint8array ? "nodebuffer" === t ? new e(n) : new o(i.transformTo("uint8array", n)) : new f(n, this.loadOptions.optimizedBinaryString)
                },
                load: function(n) {
                    this.prepareReader(n),
                    this.readEndOfCentral(),
                    this.readCentralDir(),
                    this.readLocalFiles()
                }
            },
            t.exports = u
        },
        {
            "./nodeBufferReader": 12,
            "./object": 13,
            "./signature": 14,
            "./stringReader": 15,
            "./support": 17,
            "./uint8ArrayReader": 18,
            "./utils": 21,
            "./zipEntry": 23
        }],
        23 : [function(n, t) {
            "use strict";
            function f(n, t) {
                this.options = n,
                this.loadOptions = t
            }
            var u = n("./stringReader"),
            i = n("./utils"),
            e = n("./compressedObject"),
            r = n("./object"),
            o = 0,
            s = 3;
            f.prototype = {
                isEncrypted: function() {
                    return 1 == (1 & this.bitFlag)
                },
                useUTF8: function() {
                    return 2048 == (2048 & this.bitFlag)
                },
                prepareCompressedContent: function(n, t, i) {
                    return function() {
                        var u = n.index,
                        r;
                        return n.setIndex(t),
                        r = n.readData(i),
                        n.setIndex(u),
                        r
                    }
                },
                prepareContent: function(n, t, r, u, f) {
                    return function() {
                        var t = i.transformTo(u.uncompressInputType, this.getCompressedContent()),
                        n = u.uncompress(t);
                        if (n.length !== f) throw new Error("Bug : uncompressed data size mismatch");
                        return n
                    }
                },
                readLocalPart: function(n) {
                    var t, u;
                    if (n.skip(22), this.fileNameLength = n.readInt(2), u = n.readInt(2), this.fileName = n.readString(this.fileNameLength), n.skip(u), -1 == this.compressedSize || -1 == this.uncompressedSize) throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");
                    if (t = i.findCompression(this.compressionMethod), null === t) throw new Error("Corrupted zip : compression " + i.pretty(this.compressionMethod) + " unknown (inner file : " + this.fileName + ")");
                    if (this.decompressed = new e, this.decompressed.compressedSize = this.compressedSize, this.decompressed.uncompressedSize = this.uncompressedSize, this.decompressed.crc32 = this.crc32, this.decompressed.compressionMethod = this.compressionMethod, this.decompressed.getCompressedContent = this.prepareCompressedContent(n, n.index, this.compressedSize, t), this.decompressed.getContent = this.prepareContent(n, n.index, this.compressedSize, t, this.uncompressedSize), this.loadOptions.checkCRC32 && (this.decompressed = i.transformTo("string", this.decompressed.getContent()), r.crc32(this.decompressed) !== this.crc32)) throw new Error("Corrupted zip : CRC32 mismatch");
                },
                readCentralPart: function(n) {
                    if (this.versionMadeBy = n.readInt(2), this.versionNeeded = n.readInt(2), this.bitFlag = n.readInt(2), this.compressionMethod = n.readString(2), this.date = n.readDate(), this.crc32 = n.readInt(4), this.compressedSize = n.readInt(4), this.uncompressedSize = n.readInt(4), this.fileNameLength = n.readInt(2), this.extraFieldsLength = n.readInt(2), this.fileCommentLength = n.readInt(2), this.diskNumberStart = n.readInt(2), this.internalFileAttributes = n.readInt(2), this.externalFileAttributes = n.readInt(4), this.localHeaderOffset = n.readInt(4), this.isEncrypted()) throw new Error("Encrypted zip are not supported");
                    this.fileName = n.readString(this.fileNameLength),
                    this.readExtraFields(n),
                    this.parseZIP64ExtraField(n),
                    this.fileComment = n.readString(this.fileCommentLength)
                },
                processAttributes: function() {
                    this.unixPermissions = null,
                    this.dosPermissions = null;
                    var n = this.versionMadeBy >> 8;
                    this.dir = 16 & this.externalFileAttributes ? !0 : !1,
                    n === o && (this.dosPermissions = 63 & this.externalFileAttributes),
                    n === s && (this.unixPermissions = this.externalFileAttributes >> 16 & 65535),
                    this.dir || "/" !== this.fileName.slice( - 1) || (this.dir = !0)
                },
                parseZIP64ExtraField: function() {
                    if (this.extraFields[1]) {
                        var n = new u(this.extraFields[1].value);
                        this.uncompressedSize === i.MAX_VALUE_32BITS && (this.uncompressedSize = n.readInt(8)),
                        this.compressedSize === i.MAX_VALUE_32BITS && (this.compressedSize = n.readInt(8)),
                        this.localHeaderOffset === i.MAX_VALUE_32BITS && (this.localHeaderOffset = n.readInt(8)),
                        this.diskNumberStart === i.MAX_VALUE_32BITS && (this.diskNumberStart = n.readInt(4))
                    }
                },
                readExtraFields: function(n) {
                    var t, i, r, u = n.index;
                    for (this.extraFields = this.extraFields || {}; n.index < u + this.extraFieldsLength;) t = n.readInt(2),
                    i = n.readInt(2),
                    r = n.readString(i),
                    this.extraFields[t] = {
                        id: t,
                        length: i,
                        value: r
                    }
                },
                handleUTF8: function() {
                    var n, t;
                    this.useUTF8() ? (this.fileName = r.utf8decode(this.fileName), this.fileComment = r.utf8decode(this.fileComment)) : (n = this.findExtraFieldUnicodePath(), null !== n && (this.fileName = n), t = this.findExtraFieldUnicodeComment(), null !== t && (this.fileComment = t))
                },
                findExtraFieldUnicodePath: function() {
                    var t = this.extraFields[28789],
                    n;
                    return t ? (n = new u(t.value), 1 !== n.readInt(1) ? null: r.crc32(this.fileName) !== n.readInt(4) ? null: r.utf8decode(n.readString(t.length - 5))) : null
                },
                findExtraFieldUnicodeComment: function() {
                    var t = this.extraFields[25461],
                    n;
                    return t ? (n = new u(t.value), 1 !== n.readInt(1) ? null: r.crc32(this.fileComment) !== n.readInt(4) ? null: r.utf8decode(n.readString(t.length - 5))) : null
                }
            },
            t.exports = f
        },
        {
            "./compressedObject": 2,
            "./object": 13,
            "./stringReader": 15,
            "./utils": 21
        }],
        24 : [function(n, t) {
            "use strict";
            var r = n("./lib/utils/common").assign,
            u = n("./lib/deflate"),
            f = n("./lib/inflate"),
            e = n("./lib/zlib/constants"),
            i = {};
            r(i, u, f, e),
            t.exports = i
        },
        {
            "./lib/deflate": 25,
            "./lib/inflate": 26,
            "./lib/utils/common": 27,
            "./lib/zlib/constants": 30
        }],
        25 : [function(n, t, i) {
            "use strict";
            function o(n, t) {
                var i = new u(t);
                if (i.push(n, !0), i.err) throw i.msg;
                return i.result
            }
            function b(n, t) {
                return t = t || {},
                t.raw = !0,
                o(n, t)
            }
            function l(n, t) {
                return t = t || {},
                t.gzip = !0,
                o(n, t)
            }
            var f = n("./zlib/deflate.js"),
            r = n("./utils/common"),
            h = n("./utils/strings"),
            k = n("./zlib/messages"),
            v = n("./zlib/zstream"),
            y = 0,
            s = 4,
            e = 0,
            c = 1,
            p = -1,
            w = 0,
            a = 8,
            u = function(n) {
                var t, i;
                if (this.options = r.assign({
                    level: p,
                    method: a,
                    chunkSize: 16384,
                    windowBits: 15,
                    memLevel: 8,
                    strategy: w,
                    to: ""
                },
                n || {}), t = this.options, t.raw && t.windowBits > 0 ? t.windowBits = -t.windowBits: t.gzip && t.windowBits > 0 && t.windowBits < 16 && (t.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new v, this.strm.avail_out = 0, i = f.deflateInit2(this.strm, t.level, t.method, t.windowBits, t.memLevel, t.strategy), i !== e) throw new Error(k[i]);
                t.header && f.deflateSetHeader(this.strm, t.header)
            };
            u.prototype.push = function(n, t) {
                var u, o, i = this.strm,
                l = this.options.chunkSize;
                if (this.ended) return ! 1;
                o = t === ~~t ? t: t === !0 ? s: y,
                i.input = "string" == typeof n ? h.string2buf(n) : n,
                i.next_in = 0,
                i.avail_in = i.input.length;
                do {
                    if (0 === i.avail_out && (i.output = new r.Buf8(l), i.next_out = 0, i.avail_out = l), u = f.deflate(i, o), u !== c && u !== e) return this.onEnd(u), this.ended = !0, !1; (0 === i.avail_out || 0 === i.avail_in && o === s) && this.onData("string" === this.options.to ? h.buf2binstring(r.shrinkBuf(i.output, i.next_out)) : r.shrinkBuf(i.output, i.next_out))
                } while (( i . avail_in > 0 || 0 === i . avail_out ) && u !== c);
                return o === s ? (u = f.deflateEnd(this.strm), this.onEnd(u), this.ended = !0, u === e) : !0
            },
            u.prototype.onData = function(n) {
                this.chunks.push(n)
            },
            u.prototype.onEnd = function(n) {
                n === e && (this.result = "string" === this.options.to ? this.chunks.join("") : r.flattenChunks(this.chunks)),
                this.chunks = [],
                this.err = n,
                this.msg = this.strm.msg
            },
            i.Deflate = u,
            i.deflate = o,
            i.deflateRaw = b,
            i.gzip = l
        },
        {
            "./utils/common": 27,
            "./utils/strings": 28,
            "./zlib/deflate.js": 32,
            "./zlib/messages": 37,
            "./zlib/zstream": 39
        }],
        26 : [function(n, t, i) {
            "use strict";
            function o(n, t) {
                var i = new f(t);
                if (i.push(n, !0), i.err) throw i.msg;
                return i.result
            }
            function h(n, t) {
                return t = t || {},
                t.raw = !0,
                o(n, t)
            }
            var e = n("./zlib/inflate.js"),
            u = n("./utils/common"),
            s = n("./utils/strings"),
            r = n("./zlib/constants"),
            c = n("./zlib/messages"),
            l = n("./zlib/zstream"),
            a = n("./zlib/gzheader"),
            f = function(n) {
                var t, i;
                if (this.options = u.assign({
                    chunkSize: 16384,
                    windowBits: 0,
                    to: ""
                },
                n || {}), t = this.options, t.raw && t.windowBits >= 0 && t.windowBits < 16 && (t.windowBits = -t.windowBits, 0 === t.windowBits && (t.windowBits = -15)), !(t.windowBits >= 0 && t.windowBits < 16) || n && n.windowBits || (t.windowBits += 32), t.windowBits > 15 && t.windowBits < 48 && 0 == (15 & t.windowBits) && (t.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new l, this.strm.avail_out = 0, i = e.inflateInit2(this.strm, t.windowBits), i !== r.Z_OK) throw new Error(c[i]);
                this.header = new a,
                e.inflateGetHeader(this.strm, this.header)
            };
            f.prototype.push = function(n, t) {
                var f, h, c, o, a, i = this.strm,
                l = this.options.chunkSize;
                if (this.ended) return ! 1;
                h = t === ~~t ? t: t === !0 ? r.Z_FINISH: r.Z_NO_FLUSH,
                i.input = "string" == typeof n ? s.binstring2buf(n) : n,
                i.next_in = 0,
                i.avail_in = i.input.length;
                do {
                    if (0 === i.avail_out && (i.output = new u.Buf8(l), i.next_out = 0, i.avail_out = l), f = e.inflate(i, r.Z_NO_FLUSH), f !== r.Z_STREAM_END && f !== r.Z_OK) return this.onEnd(f), this.ended = !0, !1;
                    i.next_out && (0 === i.avail_out || f === r.Z_STREAM_END || 0 === i.avail_in && h === r.Z_FINISH) && ("string" === this.options.to ? (c = s.utf8border(i.output, i.next_out), o = i.next_out - c, a = s.buf2string(i.output, c), i.next_out = o, i.avail_out = l - o, o && u.arraySet(i.output, i.output, c, o, 0), this.onData(a)) : this.onData(u.shrinkBuf(i.output, i.next_out)))
                } while ( i . avail_in > 0 && f !== r . Z_STREAM_END );
                return f === r.Z_STREAM_END && (h = r.Z_FINISH),
                h === r.Z_FINISH ? (f = e.inflateEnd(this.strm), this.onEnd(f), this.ended = !0, f === r.Z_OK) : !0
            },
            f.prototype.onData = function(n) {
                this.chunks.push(n)
            },
            f.prototype.onEnd = function(n) {
                n === r.Z_OK && (this.result = "string" === this.options.to ? this.chunks.join("") : u.flattenChunks(this.chunks)),
                this.chunks = [],
                this.err = n,
                this.msg = this.strm.msg
            },
            i.Inflate = f,
            i.inflate = o,
            i.inflateRaw = h,
            i.ungzip = o
        },
        {
            "./utils/common": 27,
            "./utils/strings": 28,
            "./zlib/constants": 30,
            "./zlib/gzheader": 33,
            "./zlib/inflate.js": 35,
            "./zlib/messages": 37,
            "./zlib/zstream": 39
        }],
        27 : [function(n, t, i) {
            "use strict";
            var f = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array,
            r, u;
            i.assign = function(n) {
                for (var t, i, r = Array.prototype.slice.call(arguments, 1); r.length;) if (t = r.shift(), t) {
                    if ("object" != typeof t) throw new TypeError(t + "must be non-object");
                    for (i in t) t.hasOwnProperty(i) && (n[i] = t[i])
                }
                return n
            },
            i.shrinkBuf = function(n, t) {
                return n.length === t ? n: n.subarray ? n.subarray(0, t) : (n.length = t, n)
            },
            r = {
                arraySet: function(n, t, i, r, u) {
                    if (t.subarray && n.subarray) return void n.set(t.subarray(i, i + r), u);
                    for (var f = 0; r > f; f++) n[u + f] = t[i + f]
                },
                flattenChunks: function(n) {
                    for (var u, f, e, r = 0,
                    t = 0,
                    i = n.length; i > t; t++) r += n[t].length;
                    for (e = new Uint8Array(r), u = 0, t = 0, i = n.length; i > t; t++) f = n[t],
                    e.set(f, u),
                    u += f.length;
                    return e
                }
            },
            u = {
                arraySet: function(n, t, i, r, u) {
                    for (var f = 0; r > f; f++) n[u + f] = t[i + f]
                },
                flattenChunks: function(n) {
                    return [].concat.apply([], n)
                }
            },
            i.setTyped = function(n) {
                n ? (i.Buf8 = Uint8Array, i.Buf16 = Uint16Array, i.Buf32 = Int32Array, i.assign(i, r)) : (i.Buf8 = Array, i.Buf16 = Array, i.Buf32 = Array, i.assign(i, u))
            },
            i.setTyped(f)
        },
        {}],
        28 : [function(n, t, i) {
            "use strict";
            function e(n, t) {
                if (65537 > t && (n.subarray && s || !n.subarray && o)) return String.fromCharCode.apply(null, f.shrinkBuf(n, t));
                for (var r = "",
                i = 0; t > i; i++) r += String.fromCharCode(n[i]);
                return r
            }
            var f = n("./common"),
            o = !0,
            s = !0,
            u,
            r;
            try {
                String.fromCharCode.apply(null, [0])
            } catch(h) {
                o = !1
            }
            try {
                String.fromCharCode.apply(null, new Uint8Array(1))
            } catch(h) {
                s = !1
            }
            for (u = new f.Buf8(256), r = 0; 256 > r; r++) u[r] = r >= 252 ? 6 : r >= 248 ? 5 : r >= 240 ? 4 : r >= 224 ? 3 : r >= 192 ? 2 : 1;
            u[254] = u[254] = 1,
            i.string2buf = function(n) {
                for (var r, t, e, u, o = n.length,
                s = 0,
                i = 0; o > i; i++) t = n.charCodeAt(i),
                55296 == (64512 & t) && o > i + 1 && (e = n.charCodeAt(i + 1), 56320 == (64512 & e) && (t = 65536 + (t - 55296 << 10) + (e - 56320), i++)),
                s += 128 > t ? 1 : 2048 > t ? 2 : 65536 > t ? 3 : 4;
                for (r = new f.Buf8(s), u = 0, i = 0; s > u; i++) t = n.charCodeAt(i),
                55296 == (64512 & t) && o > i + 1 && (e = n.charCodeAt(i + 1), 56320 == (64512 & e) && (t = 65536 + (t - 55296 << 10) + (e - 56320), i++)),
                128 > t ? r[u++] = t: 2048 > t ? (r[u++] = 192 | t >>> 6, r[u++] = 128 | 63 & t) : 65536 > t ? (r[u++] = 224 | t >>> 12, r[u++] = 128 | t >>> 6 & 63, r[u++] = 128 | 63 & t) : (r[u++] = 240 | t >>> 18, r[u++] = 128 | t >>> 12 & 63, r[u++] = 128 | t >>> 6 & 63, r[u++] = 128 | 63 & t);
                return r
            },
            i.buf2binstring = function(n) {
                return e(n, n.length)
            },
            i.binstring2buf = function(n) {
                for (var i = new f.Buf8(n.length), t = 0, r = i.length; r > t; t++) i[t] = n.charCodeAt(t);
                return i
            },
            i.buf2string = function(n, t) {
                for (var i, f, h = t || n.length,
                o = new Array(2 * h), r = 0, s = 0; h > s;) if (i = n[s++], 128 > i) o[r++] = i;
                else if (f = u[i], f > 4) o[r++] = 65533,
                s += f - 1;
                else {
                    for (i &= 2 === f ? 31 : 3 === f ? 15 : 7; f > 1 && h > s;) i = i << 6 | 63 & n[s++],
                    f--;
                    f > 1 ? o[r++] = 65533 : 65536 > i ? o[r++] = i: (i -= 65536, o[r++] = 55296 | i >> 10 & 1023, o[r++] = 56320 | 1023 & i)
                }
                return e(o, r)
            },
            i.utf8border = function(n, t) {
                var i;
                for (t = t || n.length, t > n.length && (t = n.length), i = t - 1; i >= 0 && 128 == (192 & n[i]);) i--;
                return 0 > i ? t: 0 === i ? t: i + u[n[i]] > t ? i: t
            }
        },
        {
            "./common": 27
        }],
        29 : [function(n, t) {
            "use strict";
            function i(n, t, i, r) {
                for (var u = 65535 & n | 0,
                f = n >>> 16 & 65535 | 0,
                e = 0; 0 !== i;) {
                    e = i > 2e3 ? 2e3: i,
                    i -= e;
                    do u = u + t[r++] | 0,
                    f = f + u | 0;
                    while (--e);
                    u %= 65521,
                    f %= 65521
                }
                return u | f << 16 | 0
            }
            t.exports = i
        },
        {}],
        30 : [function(n, t) {
            t.exports = {
                Z_NO_FLUSH: 0,
                Z_PARTIAL_FLUSH: 1,
                Z_SYNC_FLUSH: 2,
                Z_FULL_FLUSH: 3,
                Z_FINISH: 4,
                Z_BLOCK: 5,
                Z_TREES: 6,
                Z_OK: 0,
                Z_STREAM_END: 1,
                Z_NEED_DICT: 2,
                Z_ERRNO: -1,
                Z_STREAM_ERROR: -2,
                Z_DATA_ERROR: -3,
                Z_BUF_ERROR: -5,
                Z_NO_COMPRESSION: 0,
                Z_BEST_SPEED: 1,
                Z_BEST_COMPRESSION: 9,
                Z_DEFAULT_COMPRESSION: -1,
                Z_FILTERED: 1,
                Z_HUFFMAN_ONLY: 2,
                Z_RLE: 3,
                Z_FIXED: 4,
                Z_DEFAULT_STRATEGY: 0,
                Z_BINARY: 0,
                Z_TEXT: 1,
                Z_UNKNOWN: 2,
                Z_DEFLATED: 8
            }
        },
        {}],
        31 : [function(n, t) {
            "use strict";
            function i() {
                for (var n, r, i = [], t = 0; 256 > t; t++) {
                    for (n = t, r = 0; 8 > r; r++) n = 1 & n ? 3988292384 ^ n >>> 1 : n >>> 1;
                    i[t] = n
                }
                return i
            }
            function r(n, t, i, r) {
                var e = u,
                o = r + i,
                f;
                for (n = -1 ^ n, f = r; o > f; f++) n = n >>> 8 ^ e[255 & (n ^ t[f])];
                return - 1 ^ n
            }
            var u = i();
            t.exports = r
        },
        {}],
        32 : [function(n, t, i) {
            "use strict";
            function v(n, t) {
                return n.msg = di[t],
                t
            }
            function ii(n) {
                return (n << 1) - (n > 4 ? 9 : 0)
            }
            function g(n) {
                for (var t = n.length; --t >= 0;) n[t] = 0
            }
            function p(n) {
                var i = n.state,
                t = i.pending;
                t > n.avail_out && (t = n.avail_out),
                0 !== t && (o.arraySet(n.output, i.pending_buf, i.pending_out, t, n.next_out), n.next_out += t, i.pending_out += t, n.total_out += t, n.avail_out -= t, i.pending -= t, 0 === i.pending && (i.pending_out = 0))
            }
            function e(n, t) {
                s._tr_flush_block(n, n.block_start >= 0 ? n.block_start: -1, n.strstart - n.block_start, t),
                n.block_start = n.strstart,
                p(n.strm)
            }
            function r(n, t) {
                n.pending_buf[n.pending++] = t
            }
            function et(n, t) {
                n.pending_buf[n.pending++] = t >>> 8 & 255,
                n.pending_buf[n.pending++] = 255 & t
            }
            function ar(n, t, i, r) {
                var u = n.avail_in;
                return u > r && (u = r),
                0 === u ? 0 : (n.avail_in -= u, o.arraySet(t, n.input, n.next_in, u, i), 1 === n.state.wrap ? n.adler = bi(n.adler, t, u, i) : 2 === n.state.wrap && (n.adler = b(n.adler, t, u, i)), n.next_in += u, n.total_in += u, u)
            }
            function ni(n, t) {
                var u, e, c = n.max_chain_length,
                r = n.strstart,
                f = n.prev_length,
                o = n.nice_match,
                v = n.strstart > n.w_size - h ? n.strstart - (n.w_size - h) : 0,
                i = n.window,
                p = n.w_mask,
                w = n.prev,
                s = n.strstart + y,
                l = i[r + f - 1],
                a = i[r + f];
                n.prev_length >= n.good_match && (c >>= 2),
                o > n.lookahead && (o = n.lookahead);
                do
                if (u = t, i[u + f] === a && i[u + f - 1] === l && i[u] === i[r] && i[++u] === i[r + 1]) {
                    r += 2,
                    u++;
                    do;
                    while (i[++r] === i[++u] && i[++r] === i[++u] && i[++r] === i[++u] && i[++r] === i[++u] && i[++r] === i[++u] && i[++r] === i[++u] && i[++r] === i[++u] && i[++r] === i[++u] && s > r);
                    if (e = y - (s - r), r = s - y, e > f) {
                        if (n.match_start = t, f = e, e >= o) break;
                        l = i[r + f - 1],
                        a = i[r + f]
                    }
                }
                while ((t = w[t & p]) > v && 0 != --c);
                return f <= n.lookahead ? f: n.lookahead
            }
            function ot(n) {
                var f, i, e, s, r, t = n.w_size;
                do {
                    if (s = n.window_size - n.lookahead - n.strstart, n.strstart >= t + (t - h)) {
                        o.arraySet(n.window, n.window, t, t, 0),
                        n.match_start -= t,
                        n.strstart -= t,
                        n.block_start -= t,
                        i = n.hash_size,
                        f = i;
                        do e = n.head[--f],
                        n.head[f] = e >= t ? e - t: 0;
                        while (--i);
                        i = t,
                        f = i;
                        do e = n.prev[--f],
                        n.prev[f] = e >= t ? e - t: 0;
                        while (--i);
                        s += t
                    }
                    if (0 === n.strm.avail_in) break;
                    if (i = ar(n.strm, n.window, n.strstart + n.lookahead, s), n.lookahead += i, n.lookahead + n.insert >= u) for (r = n.strstart - n.insert, n.ins_h = n.window[r], n.ins_h = (n.ins_h << n.hash_shift ^ n.window[r + 1]) & n.hash_mask; n.insert && (n.ins_h = (n.ins_h << n.hash_shift ^ n.window[r + u - 1]) & n.hash_mask, n.prev[r & n.w_mask] = n.head[n.ins_h], n.head[n.ins_h] = r, r++, n.insert--, !(n.lookahead + n.insert < u)););
                } while ( n . lookahead < h && 0 !== n . strm . avail_in )
            }
            function oi(n, t) {
                var r = 65535,
                i;
                for (r > n.pending_buf_size - 5 && (r = n.pending_buf_size - 5);;) {
                    if (n.lookahead <= 1) {
                        if (ot(n), 0 === n.lookahead && t === nt) return f;
                        if (0 === n.lookahead) break
                    }
                    if ((n.strstart += n.lookahead, n.lookahead = 0, i = n.block_start + r, (0 === n.strstart || n.strstart >= i) && (n.lookahead = n.strstart - i, n.strstart = i, e(n, !1), 0 === n.strm.avail_out)) || n.strstart - n.block_start >= n.w_size - h && (e(n, !1), 0 === n.strm.avail_out)) return f
                }
                return n.insert = 0,
                t === w ? (e(n, !0), 0 === n.strm.avail_out ? k: tt) : n.strstart > n.block_start && (e(n, !1), 0 === n.strm.avail_out) ? f: f
            }
            function bt(n, t) {
                for (var i, r;;) {
                    if (n.lookahead < h) {
                        if (ot(n), n.lookahead < h && t === nt) return f;
                        if (0 === n.lookahead) break
                    }
                    if (i = 0, n.lookahead >= u && (n.ins_h = (n.ins_h << n.hash_shift ^ n.window[n.strstart + u - 1]) & n.hash_mask, i = n.prev[n.strstart & n.w_mask] = n.head[n.ins_h], n.head[n.ins_h] = n.strstart), 0 !== i && n.strstart - i <= n.w_size - h && (n.match_length = ni(n, i)), n.match_length >= u) if (r = s._tr_tally(n, n.strstart - n.match_start, n.match_length - u), n.lookahead -= n.match_length, n.match_length <= n.max_lazy_match && n.lookahead >= u) {
                        n.match_length--;
                        do n.strstart++,
                        n.ins_h = (n.ins_h << n.hash_shift ^ n.window[n.strstart + u - 1]) & n.hash_mask,
                        i = n.prev[n.strstart & n.w_mask] = n.head[n.ins_h],
                        n.head[n.ins_h] = n.strstart;
                        while (0 != --n.match_length);
                        n.strstart++
                    } else n.strstart += n.match_length,
                    n.match_length = 0,
                    n.ins_h = n.window[n.strstart],
                    n.ins_h = (n.ins_h << n.hash_shift ^ n.window[n.strstart + 1]) & n.hash_mask;
                    else r = s._tr_tally(n, 0, n.window[n.strstart]),
                    n.lookahead--,
                    n.strstart++;
                    if (r && (e(n, !1), 0 === n.strm.avail_out)) return f
                }
                return n.insert = n.strstart < u - 1 ? n.strstart: u - 1,
                t === w ? (e(n, !0), 0 === n.strm.avail_out ? k: tt) : n.last_lit && (e(n, !1), 0 === n.strm.avail_out) ? f: ut
            }
            function it(n, t) {
                for (var i, r, o;;) {
                    if (n.lookahead < h) {
                        if (ot(n), n.lookahead < h && t === nt) return f;
                        if (0 === n.lookahead) break
                    }
                    if (i = 0, n.lookahead >= u && (n.ins_h = (n.ins_h << n.hash_shift ^ n.window[n.strstart + u - 1]) & n.hash_mask, i = n.prev[n.strstart & n.w_mask] = n.head[n.ins_h], n.head[n.ins_h] = n.strstart), n.prev_length = n.match_length, n.prev_match = n.match_start, n.match_length = u - 1, 0 !== i && n.prev_length < n.max_lazy_match && n.strstart - i <= n.w_size - h && (n.match_length = ni(n, i), n.match_length <= 5 && (n.strategy === yr || n.match_length === u && n.strstart - n.match_start > 4096) && (n.match_length = u - 1)), n.prev_length >= u && n.match_length <= n.prev_length) {
                        o = n.strstart + n.lookahead - u,
                        r = s._tr_tally(n, n.strstart - 1 - n.prev_match, n.prev_length - u),
                        n.lookahead -= n.prev_length - 1,
                        n.prev_length -= 2;
                        do++n.strstart <= o && (n.ins_h = (n.ins_h << n.hash_shift ^ n.window[n.strstart + u - 1]) & n.hash_mask, i = n.prev[n.strstart & n.w_mask] = n.head[n.ins_h], n.head[n.ins_h] = n.strstart);
                        while (0 != --n.prev_length);
                        if (n.match_available = 0, n.match_length = u - 1, n.strstart++, r && (e(n, !1), 0 === n.strm.avail_out)) return f
                    } else if (n.match_available) {
                        if (r = s._tr_tally(n, 0, n.window[n.strstart - 1]), r && e(n, !1), n.strstart++, n.lookahead--, 0 === n.strm.avail_out) return f
                    } else n.match_available = 1,
                    n.strstart++,
                    n.lookahead--
                }
                return n.match_available && (r = s._tr_tally(n, 0, n.window[n.strstart - 1]), n.match_available = 0),
                n.insert = n.strstart < u - 1 ? n.strstart: u - 1,
                t === w ? (e(n, !0), 0 === n.strm.avail_out ? k: tt) : n.last_lit && (e(n, !1), 0 === n.strm.avail_out) ? f: ut
            }
            function vi(n, t) {
                for (var h, r, i, c, o = n.window;;) {
                    if (n.lookahead <= y) {
                        if (ot(n), n.lookahead <= y && t === nt) return f;
                        if (0 === n.lookahead) break
                    }
                    if (n.match_length = 0, n.lookahead >= u && n.strstart > 0 && (i = n.strstart - 1, r = o[i], r === o[++i] && r === o[++i] && r === o[++i])) {
                        c = n.strstart + y;
                        do;
                        while (r === o[++i] && r === o[++i] && r === o[++i] && r === o[++i] && r === o[++i] && r === o[++i] && r === o[++i] && r === o[++i] && c > i);
                        n.match_length = y - (c - i),
                        n.match_length > n.lookahead && (n.match_length = n.lookahead)
                    }
                    if (n.match_length >= u ? (h = s._tr_tally(n, 1, n.match_length - u), n.lookahead -= n.match_length, n.strstart += n.match_length, n.match_length = 0) : (h = s._tr_tally(n, 0, n.window[n.strstart]), n.lookahead--, n.strstart++), h && (e(n, !1), 0 === n.strm.avail_out)) return f
                }
                return n.insert = 0,
                t === w ? (e(n, !0), 0 === n.strm.avail_out ? k: tt) : n.last_lit && (e(n, !1), 0 === n.strm.avail_out) ? f: ut
            }
            function hi(n, t) {
                for (var i;;) {
                    if (0 === n.lookahead && (ot(n), 0 === n.lookahead)) {
                        if (t === nt) return f;
                        break
                    }
                    if (n.match_length = 0, i = s._tr_tally(n, 0, n.window[n.strstart]), n.lookahead--, n.strstart++, i && (e(n, !1), 0 === n.strm.avail_out)) return f
                }
                return n.insert = 0,
                t === w ? (e(n, !0), 0 === n.strm.avail_out ? k: tt) : n.last_lit && (e(n, !1), 0 === n.strm.avail_out) ? f: ut
            }
            function li(n) {
                n.window_size = 2 * n.w_size,
                g(n.head),
                n.max_lazy_match = rt[n.level].max_lazy,
                n.good_match = rt[n.level].good_length,
                n.nice_match = rt[n.level].nice_length,
                n.max_chain_length = rt[n.level].max_chain,
                n.strstart = 0,
                n.block_start = 0,
                n.lookahead = 0,
                n.insert = 0,
                n.match_length = n.prev_length = u - 1,
                n.match_available = 0,
                n.ins_h = 0
            }
            function ai() {
                this.strm = null,
                this.status = 0,
                this.pending_buf = null,
                this.pending_buf_size = 0,
                this.pending_out = 0,
                this.pending = 0,
                this.wrap = 0,
                this.gzhead = null,
                this.gzindex = 0,
                this.method = st,
                this.last_flush = -1,
                this.w_size = 0,
                this.w_bits = 0,
                this.w_mask = 0,
                this.window = null,
                this.window_size = 0,
                this.prev = null,
                this.head = null,
                this.ins_h = 0,
                this.hash_size = 0,
                this.hash_bits = 0,
                this.hash_mask = 0,
                this.hash_shift = 0,
                this.block_start = 0,
                this.match_length = 0,
                this.prev_match = 0,
                this.match_available = 0,
                this.strstart = 0,
                this.match_start = 0,
                this.lookahead = 0,
                this.prev_length = 0,
                this.max_chain_length = 0,
                this.max_lazy_match = 0,
                this.level = 0,
                this.strategy = 0,
                this.good_match = 0,
                this.nice_match = 0,
                this.dyn_ltree = new o.Buf16(2 * fi),
                this.dyn_dtree = new o.Buf16(2 * (2 * ci + 1)),
                this.bl_tree = new o.Buf16(2 * (2 * ui + 1)),
                g(this.dyn_ltree),
                g(this.dyn_dtree),
                g(this.bl_tree),
                this.l_desc = null,
                this.d_desc = null,
                this.bl_desc = null,
                this.bl_count = new o.Buf16(ei + 1),
                this.heap = new o.Buf16(2 * wt + 1),
                g(this.heap),
                this.heap_len = 0,
                this.heap_max = 0,
                this.depth = new o.Buf16(2 * wt + 1),
                g(this.depth),
                this.l_buf = 0,
                this.lit_bufsize = 0,
                this.last_lit = 0,
                this.d_buf = 0,
                this.opt_len = 0,
                this.static_len = 0,
                this.matches = 0,
                this.insert = 0,
                this.bi_buf = 0,
                this.bi_valid = 0
            }
            function ri(n) {
                var t;
                return n && n.state ? (n.total_in = n.total_out = 0, n.data_type = hr, t = n.state, t.pending = 0, t.pending_out = 0, t.wrap < 0 && (t.wrap = -t.wrap), t.status = t.wrap ? yt: d, n.adler = 2 === t.wrap ? 0 : 1, t.last_flush = nt, s._tr_init(t), a) : v(n, c)
            }
            function gt(n) {
                var t = ri(n);
                return t === a && li(n.state),
                t
            }
            function rr(n, t) {
                return n && n.state ? 2 !== n.state.wrap ? c: (n.state.gzhead = t, a) : c
            }
            function kt(n, t, i, r, f, e) {
                var h, s;
                return n ? (h = 1, t === fr && (t = 6), 0 > r ? (h = 0, r = -r) : r > 15 && (h = 2, r -= 16), 1 > f || f > cr || i !== st || 8 > r || r > 15 || 0 > t || t > 9 || 0 > e || e > or) ? v(n, c) : (8 === r && (r = 9), s = new ai, n.state = s, s.strm = n, s.wrap = h, s.gzhead = null, s.w_bits = r, s.w_size = 1 << s.w_bits, s.w_mask = s.w_size - 1, s.hash_bits = f + 7, s.hash_size = 1 << s.hash_bits, s.hash_mask = s.hash_size - 1, s.hash_shift = ~~ ((s.hash_bits + u - 1) / u), s.window = new o.Buf8(2 * s.w_size), s.head = new o.Buf16(s.hash_size), s.prev = new o.Buf16(s.w_size), s.lit_bufsize = 1 << f + 6, s.pending_buf_size = 4 * s.lit_bufsize, s.pending_buf = new o.Buf8(s.pending_buf_size), s.d_buf = s.lit_bufsize >> 1, s.l_buf = 3 * s.lit_bufsize, s.level = t, s.strategy = e, s.method = i, gt(n)) : c
            }
            function gi(n, t) {
                return kt(n, t, st, lr, pi, sr)
            }
            function ki(n, t) {
                var y, i, u, e, o, l, h;
                if (!n || !n.state || t > ti || 0 > t) return n ? v(n, c) : c;
                if (i = n.state, !n.output || !n.input && 0 !== n.avail_in || i.status === ft && t !== w) return v(n, 0 === n.avail_out ? vt: c);
                if ((i.strm = n, y = i.last_flush, i.last_flush = t, i.status === yt) && (2 === i.wrap ? (n.adler = 0, r(i, 31), r(i, 139), r(i, 8), i.gzhead ? (r(i, (i.gzhead.text ? 1 : 0) + (i.gzhead.hcrc ? 2 : 0) + (i.gzhead.extra ? 4 : 0) + (i.gzhead.name ? 8 : 0) + (i.gzhead.comment ? 16 : 0)), r(i, 255 & i.gzhead.time), r(i, i.gzhead.time >> 8 & 255), r(i, i.gzhead.time >> 16 & 255), r(i, i.gzhead.time >> 24 & 255), r(i, 9 === i.level ? 2 : i.strategy >= ht || i.level < 2 ? 4 : 0), r(i, 255 & i.gzhead.os), i.gzhead.extra && i.gzhead.extra.length && (r(i, 255 & i.gzhead.extra.length), r(i, i.gzhead.extra.length >> 8 & 255)), i.gzhead.hcrc && (n.adler = b(n.adler, i.pending_buf, i.pending, 0)), i.gzindex = 0, i.status = pt) : (r(i, 0), r(i, 0), r(i, 0), r(i, 0), r(i, 0), r(i, 9 === i.level ? 2 : i.strategy >= ht || i.level < 2 ? 4 : 0), r(i, ir), i.status = d)) : (o = st + (i.w_bits - 8 << 4) << 8, l = -1, l = i.strategy >= ht || i.level < 2 ? 0 : i.level < 6 ? 1 : 6 === i.level ? 2 : 3, o |= l << 6, 0 !== i.strstart && (o |= si), o += 31 - o % 31, i.status = d, et(i, o), 0 !== i.strstart && (et(i, n.adler >>> 16), et(i, 65535 & n.adler)), n.adler = 1)), i.status === pt) if (i.gzhead.extra) {
                    for (u = i.pending; i.gzindex < (65535 & i.gzhead.extra.length) && (i.pending !== i.pending_buf_size || (i.gzhead.hcrc && i.pending > u && (n.adler = b(n.adler, i.pending_buf, i.pending - u, u)), p(n), u = i.pending, i.pending !== i.pending_buf_size));) r(i, 255 & i.gzhead.extra[i.gzindex]),
                    i.gzindex++;
                    i.gzhead.hcrc && i.pending > u && (n.adler = b(n.adler, i.pending_buf, i.pending - u, u)),
                    i.gzindex === i.gzhead.extra.length && (i.gzindex = 0, i.status = ct)
                } else i.status = ct;
                if (i.status === ct) if (i.gzhead.name) {
                    u = i.pending;
                    do {
                        if (i.pending === i.pending_buf_size && (i.gzhead.hcrc && i.pending > u && (n.adler = b(n.adler, i.pending_buf, i.pending - u, u)), p(n), u = i.pending, i.pending === i.pending_buf_size)) {
                            e = 1;
                            break
                        }
                        e = i.gzindex < i.gzhead.name.length ? 255 & i.gzhead.name.charCodeAt(i.gzindex++) : 0, r(i, e)
                    } while ( 0 !== e );
                    i.gzhead.hcrc && i.pending > u && (n.adler = b(n.adler, i.pending_buf, i.pending - u, u)),
                    0 === e && (i.gzindex = 0, i.status = lt)
                } else i.status = lt;
                if (i.status === lt) if (i.gzhead.comment) {
                    u = i.pending;
                    do {
                        if (i.pending === i.pending_buf_size && (i.gzhead.hcrc && i.pending > u && (n.adler = b(n.adler, i.pending_buf, i.pending - u, u)), p(n), u = i.pending, i.pending === i.pending_buf_size)) {
                            e = 1;
                            break
                        }
                        e = i.gzindex < i.gzhead.comment.length ? 255 & i.gzhead.comment.charCodeAt(i.gzindex++) : 0, r(i, e)
                    } while ( 0 !== e );
                    i.gzhead.hcrc && i.pending > u && (n.adler = b(n.adler, i.pending_buf, i.pending - u, u)),
                    0 === e && (i.status = at)
                } else i.status = at;
                if (i.status === at && (i.gzhead.hcrc ? (i.pending + 2 > i.pending_buf_size && p(n), i.pending + 2 <= i.pending_buf_size && (r(i, 255 & n.adler), r(i, n.adler >> 8 & 255), n.adler = 0, i.status = d)) : i.status = d), 0 !== i.pending) {
                    if (p(n), 0 === n.avail_out) return i.last_flush = -1,
                    a
                } else if (0 === n.avail_in && ii(t) <= ii(y) && t !== w) return v(n, vt);
                if (i.status === ft && 0 !== n.avail_in) return v(n, vt);
                if (0 !== n.avail_in || 0 !== i.lookahead || t !== nt && i.status !== ft) {
                    if (h = i.strategy === ht ? hi(i, t) : i.strategy === er ? vi(i, t) : rt[i.level].func(i, t), (h === k || h === tt) && (i.status = ft), h === f || h === k) return 0 === n.avail_out && (i.last_flush = -1),
                    a;
                    if (h === ut && (t === nr ? s._tr_align(i) : t !== ti && (s._tr_stored_block(i, 0, 0, !1), t === tr && (g(i.head), 0 === i.lookahead && (i.strstart = 0, i.block_start = 0, i.insert = 0))), p(n), 0 === n.avail_out)) return i.last_flush = -1,
                    a
                }
                return t !== w ? a: i.wrap <= 0 ? dt: (2 === i.wrap ? (r(i, 255 & n.adler), r(i, n.adler >> 8 & 255), r(i, n.adler >> 16 & 255), r(i, n.adler >> 24 & 255), r(i, 255 & n.total_in), r(i, n.total_in >> 8 & 255), r(i, n.total_in >> 16 & 255), r(i, n.total_in >> 24 & 255)) : (et(i, n.adler >>> 16), et(i, 65535 & n.adler)), p(n), i.wrap > 0 && (i.wrap = -i.wrap), 0 !== i.pending ? a: dt)
            }
            function yi(n) {
                var t;
                return n && n.state ? (t = n.state.status, t !== yt && t !== pt && t !== ct && t !== lt && t !== at && t !== d && t !== ft ? v(n, c) : (n.state = null, t === d ? v(n, ur) : a)) : c
            }
            var rt, o = n("../utils/common"),
            s = n("./trees"),
            bi = n("./adler32"),
            b = n("./crc32"),
            di = n("./messages"),
            nt = 0,
            nr = 1,
            tr = 3,
            w = 4,
            ti = 5,
            a = 0,
            dt = 1,
            c = -2,
            ur = -3,
            vt = -5,
            fr = -1,
            yr = 1,
            ht = 2,
            er = 3,
            or = 4,
            sr = 0,
            hr = 2,
            st = 8,
            cr = 9,
            lr = 15,
            pi = 8,
            wi = 29,
            vr = 256,
            wt = vr + 1 + wi,
            ci = 30,
            ui = 19,
            fi = 2 * wt + 1,
            ei = 15,
            u = 3,
            y = 258,
            h = y + u + 1,
            si = 32,
            yt = 42,
            pt = 69,
            ct = 73,
            lt = 91,
            at = 103,
            d = 113,
            ft = 666,
            f = 1,
            ut = 2,
            k = 3,
            tt = 4,
            ir = 3,
            l = function(n, t, i, r, u) {
                this.good_length = n,
                this.max_lazy = t,
                this.nice_length = i,
                this.max_chain = r,
                this.func = u
            };
            rt = [new l(0, 0, 0, 0, oi), new l(4, 4, 8, 4, bt), new l(4, 5, 16, 8, bt), new l(4, 6, 32, 32, bt), new l(4, 4, 16, 16, it), new l(8, 16, 32, 32, it), new l(8, 16, 128, 128, it), new l(8, 32, 128, 256, it), new l(32, 128, 258, 1024, it), new l(32, 258, 258, 4096, it)],
            i.deflateInit = gi,
            i.deflateInit2 = kt,
            i.deflateReset = gt,
            i.deflateResetKeep = ri,
            i.deflateSetHeader = rr,
            i.deflate = ki,
            i.deflateEnd = yi,
            i.deflateInfo = "pako deflate (from Nodeca project)"
        },
        {
            "../utils/common": 27,
            "./adler32": 29,
            "./crc32": 31,
            "./messages": 37,
            "./trees": 38
        }],
        33 : [function(n, t) {
            "use strict";
            function i() {
                this.text = 0,
                this.time = 0,
                this.xflags = 0,
                this.os = 0,
                this.extra = null,
                this.extra_len = 0,
                this.name = "",
                this.comment = "",
                this.hcrc = 0,
                this.done = !1
            }
            t.exports = i
        },
        {}],
        34 : [function(n, t) {
            "use strict";
            var i = 30,
            r = 12;
            t.exports = function(n, t) {
                var l, a, g, e, ot, d, ft, it, ut, w, k, c, f, tt, nt, rt, et, v, u, h, p, s, y, b, o;
                l = n.state,
                a = n.next_in,
                b = n.input,
                g = a + (n.avail_in - 5),
                e = n.next_out,
                o = n.output,
                ot = e - (t - n.avail_out),
                d = e + (n.avail_out - 257),
                ft = l.dmax,
                it = l.wsize,
                ut = l.whave,
                w = l.wnext,
                k = l.window,
                c = l.hold,
                f = l.bits,
                tt = l.lencode,
                nt = l.distcode,
                rt = (1 << l.lenbits) - 1,
                et = (1 << l.distbits) - 1;
                n: do {
                    15 > f && (c += b[a++] << f, f += 8, c += b[a++] << f, f += 8), v = tt[c & rt];
                    t: for (;;) {
                        if (u = v >>> 24, c >>>= u, f -= u, u = v >>> 16 & 255, 0 === u) o[e++] = 65535 & v;
                        else {
                            if (! (16 & u)) {
                                if (0 == (64 & u)) {
                                    v = tt[(65535 & v) + (c & (1 << u) - 1)];
                                    continue t
                                }
                                if (32 & u) {
                                    l.mode = r;
                                    break n
                                }
                                n.msg = "invalid literal/length code",
                                l.mode = i;
                                break n
                            }
                            h = 65535 & v,
                            u &= 15,
                            u && (u > f && (c += b[a++] << f, f += 8), h += c & (1 << u) - 1, c >>>= u, f -= u),
                            15 > f && (c += b[a++] << f, f += 8, c += b[a++] << f, f += 8),
                            v = nt[c & et];
                            i: for (;;) {
                                if (u = v >>> 24, c >>>= u, f -= u, u = v >>> 16 & 255, !(16 & u)) {
                                    if (0 == (64 & u)) {
                                        v = nt[(65535 & v) + (c & (1 << u) - 1)];
                                        continue i
                                    }
                                    n.msg = "invalid distance code",
                                    l.mode = i;
                                    break n
                                }
                                if (p = 65535 & v, u &= 15, u > f && (c += b[a++] << f, f += 8, u > f && (c += b[a++] << f, f += 8)), p += c & (1 << u) - 1, p > ft) {
                                    n.msg = "invalid distance too far back",
                                    l.mode = i;
                                    break n
                                }
                                if (c >>>= u, f -= u, u = e - ot, p > u) {
                                    if (u = p - u, u > ut && l.sane) {
                                        n.msg = "invalid distance too far back",
                                        l.mode = i;
                                        break n
                                    }
                                    if (s = 0, y = k, 0 === w) {
                                        if (s += it - u, h > u) {
                                            h -= u;
                                            do o[e++] = k[s++];
                                            while (--u);
                                            s = e - p,
                                            y = o
                                        }
                                    } else if (u > w) {
                                        if (s += it + w - u, u -= w, h > u) {
                                            h -= u;
                                            do o[e++] = k[s++];
                                            while (--u);
                                            if (s = 0, h > w) {
                                                u = w,
                                                h -= u;
                                                do o[e++] = k[s++];
                                                while (--u);
                                                s = e - p,
                                                y = o
                                            }
                                        }
                                    } else if (s += w - u, h > u) {
                                        h -= u;
                                        do o[e++] = k[s++];
                                        while (--u);
                                        s = e - p,
                                        y = o
                                    }
                                    for (; h > 2;) o[e++] = y[s++],
                                    o[e++] = y[s++],
                                    o[e++] = y[s++],
                                    h -= 3;
                                    h && (o[e++] = y[s++], h > 1 && (o[e++] = y[s++]))
                                } else {
                                    s = e - p;
                                    do o[e++] = o[s++],
                                    o[e++] = o[s++],
                                    o[e++] = o[s++],
                                    h -= 3;
                                    while (h > 2);
                                    h && (o[e++] = o[s++], h > 1 && (o[e++] = o[s++]))
                                }
                                break
                            }
                        }
                        break
                    }
                } while ( g > a && d > e );
                h = f >> 3,
                a -= h,
                f -= h << 3,
                c &= (1 << f) - 1,
                n.next_in = a,
                n.next_out = e,
                n.avail_in = g > a ? 5 + (g - a) : 5 - (a - g),
                n.avail_out = d > e ? 257 + (d - e) : 257 - (e - d),
                l.hold = c,
                l.bits = f
            }
        },
        {}],
        35 : [function(n, t, i) {
            "use strict";
            function gt(n) {
                return (n >>> 24 & 255) + (n >>> 8 & 65280) + ((65280 & n) _3C_3C8) + ((255 & n) _3C_3C24)
            }
            function ki() {
                this.mode = 0,
                this.last = !1,
                this.wrap = 0,
                thi0D63E92DBD "",
                t.wrap && (n.adler = 1 & t.wrap),
                t.mode = kt,
                t.last = 0,
                t.havedict = 0,
                t.dmax = 32768,
                t.head = null,
                t.hold = 0,
                t.bits = 0,
                t.lencode = t.lendyn = new u.Buf32(pi),
                t.distcode = t.distdyn = new u.Buf32(yi),
                t.sane = 1,
                t.back = -1,
                s) : f
            }
            function ti(n) {
                var t;
                return n && n.state ? (t = n.state, t.wsize = 0, t.whave = 0, t.wnext = 0, ni(n)) : f
            }
            function ii(n, t) {
                var r, i;
                return n && n.state ? (i = n.state, 0 > t ? (r = 0, t = -t) : (r = (t >> 4) + 1, 48 > t && (t &= 15)), t && (8 > t || t > 15) ? f: (null !== i.window && i.wbits !== t && (i.window = null), i.wrap = r, i.wbits = t, ti(n))) : f
            }
            function ri(n, t) {
                var i, r;
                return n ? (r = new ki, n.state = r, r.window = null, i = ii(n, t), i !== s && (n.state = null), i) : f
            }
            function sr(n) {
                return ri(n, bi)
            }
            function nr(n) {
                if (si) {
                    var t;
                    for (p = new u.Buf32(512), y = new u.Buf32(32), t = 0; 144 > t;) n.lens[t++] = 8;
                    for (; 256 > t;) n.lens[t++] = 9;
                    for (; 280 > t;) n.lens[t++] = 7;
                    for (; 288 > t;) n.lens[t++] = 8;
                    for (h(ei, n.lens, 0, 288, p, 0, n.work, {
                        bits: 9
                    }), t = 0; 32 > t;) n.lens[t++] = 5;
                    h(oi, n.lens, 0, 32, y, 0, n.work, {
                        bits: 5
                    }),
                    si = !1
                }
                n.lencode = p,
                n.lenbits = 9,
                n.distcode = y,
                n.distbits = 5
            }
            function tr(n, t, i, r) {
                var e, f = n.state;
                return null === f.window && (f.wsize = 1 << f.wbits, f.wnext = 0, f.whave = 0, f.window = new u.Buf8(f.wsize)),
                r >= f.wsize ? (u.arraySet(f.window, t, i - f.wsize, f.wsize, 0), f.wnext = 0, f.whave = f.wsize) : (e = f.wsize - f.wnext, e > r && (e = r), u.arraySet(f.window, t, i - r, e, f.wnext), r -= e, r ? (u.arraySet(f.window, t, i - r, r, 0), f.wnext = r, f.whave = f.wsize) : (f.wnext += e, f.wnext === f.wsize && (f.wnext = 0), f.whave < f.wsize && (f.whave += e))),
                0
            }
            function ir(n, t) {
                var i, ri, ar, ii, hr, ni, bi, p, y, wr, vi, ti, yr, kr, si, ir, sr, ur, pr, br, pi, cr, vr, lr, yi = 0,
                ki = new u.Buf8(4),
                dr = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
                if (!n || !n.state || !n.output || !n.input && 0 !== n.avail_in) return f;
                i = n.state,
                i.mode === o && (i.mode = w),
                hr = n.next_out,
                ar = n.output,
                bi = n.avail_out,
                ii = n.next_in,
                ri = n.input,
                ni = n.avail_in,
                p = i.hold,

                y = i.bits,
                wr = ni,
                vi = bi,
                cr = s;
                n: for (;;) switch (i.mode) {
                case kt:
                    if (0 === i.wrap) {
                        i.mode = w;
                        break
                    }
                    for (; 16 > y;) {
                        if (0 === ni) break n;
                        ni--,
                        p += ri[ii++] << y,
                        y += 8
                    }
                    if (2 & i.wrap && 35615 === p) {
                        i.check = 0,
                        ki[0] = 255 & p,
                        ki[1] = p >>> 8 & 255,
                        i.check = e(i.check, ki, 2, 0),
                        p = 0,
                        y = 0,
                        i.mode = dt;
                        break
                    }
                    if (i.flags = 0, i.head && (i.head.done = !1), !(1 & i.wrap) || (((255 & p) << 8) + (p >> 8)) _2531) {
                        n.msg = "incorrect header check",
                        i.mode = r;
                        break
                    }
                    if ((15 & p) !== hi) {
                        n.msg = "unknown compression method",
                        i.mode = r;
                        break
                    }
                    if (p >>>= 4, y -= 4, pi = (15 & p) + 8, 0 === i.wbits) i.wbits = pi;
                    else if (pi > i.wbits) {
                        n.msg = "invalid window size",
                        i.mode = r;
                        break
                    }
                    i.dmax = 1 << pi,
                    n.adler = i.check = 1,
                    i.mode = 512 & p ? k: o,
                    p = 0,
                    y = 0;
                    break;
                case dt:
                    for (; 16 > y;) {
                        if (0 === ni) break n;
                        ni--,
                        p += ri[ii++] << y,
                        y += 8
                    }
                    if (i.flags = p, (255 & i.flags) !== hi) {
                        n.msg = "unknown compression method",
                        i.mode = r;
                        break
                    }
                    if (57344 & i.flags) {
                        n.msg = "unknown header flags set",
                        i.mode = r;
                        break
                    }
                    i.head && (i.head.text = p >> 8 & 1),
                    512 & i.flags && (ki[0] = 255 & p, ki[1] = p >>> 8 & 255, i.check = e(i.check, ki, 2, 0)),
                    p = 0,
                    y = 0,
                    i.mode = ui;
                case ui:
                    for (; 32 > y;) {
                        if (0 === ni) break n;
                        ni--,
                        p += ri[ii++] << y,
                        y += 8
                    }
                    i.head && (i.head.time = p),
                    512 & i.flags && (ki[0] = 255 & p, ki[1] = p >>> 8 & 255, ki[2] = p >>> 16 & 255, ki[3] = p >>> 24 & 255, i.check = e(i.check, ki, 4, 0)),
                    p = 0,
                    y = 0,
                    i.mode = bt;
                case bt:
                    for (; 16 > y;) {
                        if (0 === ni) break n;
                        ni--,
                        p += ri[ii++] << y,
                        y += 8
                    }
                    i.head && (i.head.xflags = 255 & p, i.head.os = p >> 8),
                    512 & i.flags && (ki[0] = 255 & p, ki[1] = p >>> 8 & 255, i.check = e(i.check, ki, 2, 0)),
                    p = 0,
                    y = 0,
                    i.mode = st;
                case st:
                    if (1024 & i.flags) {
                        for (; 16 > y;) {
                            if (0 === ni) break n;
                            ni--,
                            p += ri[ii++] << y,
                            y += 8
                        }
                        i.length = p,
                        i.head && (i.head.extra_len = p),
                        512 & i.flags && (ki[0] = 255 & p, ki[1] = p >>> 8 & 255, i.check = e(i.check, ki, 2, 0)),
                        p = 0,
                        y = 0
                    } else i.head && (i.head.extra = null);
                    i.mode = rt;
                case rt:
                    if (1024 & i.flags && (ti = i.length, ti > ni && (ti = ni), ti && (i.head && (pi = i.head.extra_len - i.length, i.head.extra || (i.head.extra = new Array(i.head.extra_len)), u.arraySet(i.head.extra, ri, ii, ti, pi)), 512 & i.flags && (i.check = e(i.check, ri, ti, ii)), ni -= ti, ii += ti, i.length -= ti), i.length)) break n;
                    i.length = 0,
                    i.mode = it;
                case it:
                    if (2048 & i.flags) {
                        if (0 === ni) break n;
                        ti = 0;
                        do pi = ri[ii + ti++],
                        i.head && pi && i.length < 65536 && (i.head.name += String.fromCharCode(pi));
                        while (pi && ni > ti);
                        if (512 & i.flags && (i.check = e(i.check, ri, ti, ii)), ni -= ti, ii += ti, pi) break n
                    } else i.head && (i.head.name = null);
                    i.length = 0,
                    i.mode = tt;
                case tt:
                    if (4096 & i.flags) {
                        if (0 === ni) break n;
                        ti = 0;
                        do pi = ri[ii + ti++],
                        i.head && pi && i.length < 65536 && (i.head.comment += String.fromCharCode(pi));
                        while (pi && ni > ti);
                        if (512 & i.flags && (i.check = e(i.check, ri, ti, ii)), ni -= ti, ii += ti, pi) break n
                    } else i.head && (i.head.comment = null);
                    i.mode = nt;
                case nt:
                    if (512 & i.flags) {
                        for (; 16 > y;) {
                            if (0 === ni) break n;
                            ni--,
                            p += ri[ii++] << y,
                            y += 8
                        }
                        if (p !== (65535 & i.check)) {
                            n.msg = "header crc mismatch",
                            i.mode = r;
                            break
                        }
                        p = 0,
                        y = 0
                    }
                    i.head && (i.head.hcrc = i.flags >> 9 & 1, i.head.done = !0),
                    n.adler = i.check = 0,
                    i.mode = o;
                    break;
                case k:
                    for (; 32 > y;) {
                        if (0 === ni) break n;
                        ni--,
                        p += ri[ii++] << y,
                        y += 8
                    }
                    n.adler = i.check = gt(p),
                    p = 0,
                    y = 0,
                    i.mode = g;
                case g:
                    if (0 === i.havedict) return n.next_out = hr,
                    n.avail_out = bi,
                    n.next_in = ii,
                    n.avail_in = ni,
                    i.hold = p,
                    i.bits = y,
                    rr;
                    n.adler = i.check = 1,
                    i.mode = o;
                case o:
                    if (t === ai || t === c) break n;
                case w:
                    if (i.last) {
                        p >>>= 7 & y,
                        y -= 7 & y,
                        i.mode = v;
                        break
                    }
                    for (; 3 > y;) {
                        if (0 === ni) break n;
                        ni--,
                        p += ri[ii++] << y,
                        y += 8
                    }
                    switch (i.last = 1 & p, p >>>= 1, y -= 1, 3 & p) {
                    case 0:
                        i.mode = wt;
                        break;
                    case 1:
                        if (nr(i), i.mode = a, t === c) {
                            p >>>= 2,
                            y -= 2;
                            break n
                        }
                        break;
                    case 2:
                        i.mode = ut;
                        break;
                    case 3:
                        n.msg = "invalid block type",
                        i.mode = r
                    }
                    p >>>= 2,
                    y -= 2;
                    break;
                case wt:
                    for (p >>>= 7 & y, y -= 7 & y; 32 > y;) {
                        if (0 === ni) break n;
                        ni--,
                        p += ri[ii++] << y,
                        y += 8
                    }
                    if ((65535 & p) != (p >>> 16 ^ 65535)) {
                        n.msg = "invalid stored block lengths",
                        i.mode = r;
                        break
                    }
                    if (i.length = 65535 & p, p = 0, y = 0, i.mode = b, t === c) break n;
                case b:
                    i.mode = ft;
                case ft:
                    if (ti = i.length) {
                        if (ti > ni && (ti = ni), ti > bi && (ti = bi), 0 === ti) break n;
                        u.arraySet(ar, ri, ii, ti, hr),
                        ni -= ti,
                        ii += ti,
                        bi -= ti,
                        hr += ti,
                        i.length -= ti;
                        break
                    }
                    i.mode = o;
                    break;
                case ut:
                    for (; 14 > y;) {
                        if (0 === ni) break n;
                        ni--,
                        p += ri[ii++] << y,
                        y += 8
                    }
                    if (i.nlen = (31 & p) + 257, p >>>= 5, y -= 5, i.ndist = (31 & p) + 1, p >>>= 5, y -= 5, i.ncode = (15 & p) + 4, p >>>= 4, y -= 4, i.nlen > 286 || i.ndist > 30) {
                        n.msg = "too many length or distance symbols",
                        i.mode = r;
                        break
                    }
                    i.have = 0,
                    i.mode = ot;
                case ot:
                    for (; i.have < i.ncode;) {
                        for (; 3 > y;) {
                            if (0 === ni) break n;
                            ni--,
                            p += ri[ii++] << y,
                            y += 8
                        }
                        i.lens[dr[i.have++]] = 7 & p,
                        p >>>= 3,
                        y -= 3
                    }
                    for (; i.have < 19;) i.lens[dr[i.have++]] = 0;
                    if (i.lencode = i.lendyn, i.lenbits = 7, vr = {
                        bits: i.lenbits
                    },
                    cr = h(or, i.lens, 0, 19, i.lencode, 0, i.work, vr), i.lenbits = vr.bits, cr) {
                        n.msg = "invalid code lengths set",
                        i.mode = r;
                        break
                    }
                    i.have = 0,
                    i.mode = ht;
                case ht:
                    for (; i.have < i.nlen + i.ndist;) {
                        for (; yi = i.lencode[p & (1 << i.lenbits) - 1], si = yi >>> 24, ir = yi >>> 16 & 255, sr = 65535 & yi, !(y >= si);) {
                            if (0 === ni) break n;
                            ni--,
                            p += ri[ii++] << y,
                            y += 8
                        }
                        if (16 > sr) p >>>= si,
                        y -= si,
                        i.lens[i.have++] = sr;
                        else {
                            if (16 === sr) {
                                for (lr = si + 2; lr > y;) {
                                    if (0 === ni) break n;
                                    ni--,
                                    p += ri[ii++] << y,
                                    y += 8
                                }
                                if (p >>>= si, y -= si, 0 === i.have) {
                                    n.msg = "invalid bit length repeat",
                                    i.mode = r;
                                    break
                                }
                                pi = i.lens[i.have - 1],
                                ti = 3 + (3 & p),
                                p >>>= 2,
                                y -= 2
                            } else if (17 === sr) {
                                for (lr = si + 3; lr > y;) {
                                    if (0 === ni) break n;
                                    ni--,
                                    p += ri[ii++] << y,
                                    y += 8
                                }
                                p >>>= si,
                                y -= si,
                                pi = 0,
                                ti = 3 + (7 & p),
                                p >>>= 3,
                                y -= 3
                            } else {
                                for (lr = si + 7; lr > y;) {
                                    if (0 === ni) break n;
                                    ni--,
                                    p += ri[ii++] << y,
                                    y += 8
                                }
                                p >>>= si,
                                y -= si,
                                pi = 0,
                                ti = 11 + (127 & p),
                                p >>>= 7,
                                y -= 7
                            }
                            if (i.have + ti > i.nlen + i.ndist) {
                                n.msg = "invalid bit length repeat",
                                i.mode = r;
                                break
                            }
                            for (; ti--;) i.lens[i.have++] = pi
                        }
                    }
                    if (i.mode === r) break;
                    if (0 === i.lens[256]) {
                        n.msg = "invalid code -- missing end-of-block",
                        i.mode = r;
                        break
                    }
                    if (i.lenbits = 9, vr = {
                        bits: i.lenbits
                    },
                    cr = h(ei, i.lens, 0, i.nlen, i.lencode, 0, i.work, vr), i.lenbits = vr.bits, cr) {
                        n.msg = "invalid literal/lengths set",
                        i.mode = r;
                        break
                    }
                    if (i.distbits = 6, i.distcode = i.distdyn, vr = {
                        bits: i.distbits
                    },
                    cr = h(oi, i.lens, i.nlen, i.ndist, i.distcode, 0, i.work, vr), i.distbits = vr.bits, cr) {
                        n.msg = "invalid distances set",
                        i.mode = r;
                        break
                    }
                    if (i.mode = a, t === c) break n;
                case a:
                    i.mode = l;
                case l:
                    if (ni >= 6 && bi >= 258) {
                        n.next_out = hr,
                        n.avail_out = bi,
                        n.next_in = ii,
                        n.avail_in = ni,
                        i.hold = p,
                        i.bits = y,
                        er(n, vi),
                        hr = n.next_out,
                        ar = n.output,
                        bi = n.avail_out,
                        ii = n.next_in,
                        ri = n.input,
                        ni = n.avail_in,
                        p = i.hold,
                        y = i.bits,
                        i.mode === o && (i.back = -1);
                        break
                    }
                    for (i.back = 0; yi = i.lencode[p & (1 << i.lenbits) - 1], si = yi >>> 24, ir = yi >>> 16 & 255, sr = 65535 & yi, !(y >= si);) {
                        if (0 === ni) break n;
                        ni--,
                        p += ri[ii++] << y,
                        y += 8
                    }
                    if (ir && 0 == (240 & ir)) {
                        for (ur = si, pr = ir, br = sr; yi = i.lencode[br + ((p & (1 << ur + pr) - 1) >> ur)], si = yi >>> 24, ir = yi >>> 16 & 255, sr = 65535 & yi, !(y >= ur + si);) {
                            if (0 === ni) break n;
                            ni--,
                            p += ri[ii++] << y,
                            y += 8
                        }
                        p >>>= ur,
                        y -= ur,
                        i.back += ur
                    }
                    if (p >>>= si, y -= si, i.back += si, i.length = sr, 0 === ir) {
                        i.mode = pt;
                        break
                    }
                    if (32 & ir) {
                        i.back = -1,
                        i.mode = o;
                        break
                    }
                    if (64 & ir) {
                        n.msg = "invalid literal/length code",
                        i.mode = r;
                        break
                    }
                    i.extra = 15 & ir,
                    i.mode = lt;
                case lt:
                    if (i.extra) {
                        for (lr = i.extra; lr > y;) {
                            if (0 === ni) break n;
                            ni--,
                            p += ri[ii++] << y,
                            y += 8
                        }
                        i.length += p & (1 << i.extra) - 1,
                        p >>>= i.extra,
                        y -= i.extra,
                        i.back += i.extra
                    }
                    i.was = i.length,
                    i.mode = at;
                case at:
                    for (; yi = i.distcode[p & (1 << i.distbits) - 1], si = yi >>> 24, ir = yi >>> 16 & 255, sr = 65535 & yi, !(y >= si);) {
                        if (0 === ni) break n;
                        ni--,
                        p += ri[ii++] << y,
                        y += 8
                    }
                    if (0 == (240 & ir)) {
                        for (ur = si, pr = ir, br = sr; yi = i.distcode[br + ((p & (1 << ur + pr) - 1) >> ur)], si = yi >>> 24, ir = yi >>> 16 & 255, sr = 65535 & yi, !(y >= ur + si);) {
                            if (0 === ni) break n;
                            ni--,
                            p += ri[ii++] << y,
                            y += 8
                        }
                        p >>>= ur,
                        y -= ur,
                        i.back += ur
                    }
                    if (p >>>= si, y -= si, i.back += si, 64 & ir) {
                        n.msg = "invalid distance code",
                        i.mode = r;
                        break
                    }
                    i.offset = sr,
                    i.extra = 15 & ir,
                    i.mode = vt;
                case vt:
                    if (i.extra) {
                        for (lr = i.extra; lr > y;) {
                            if (0 === ni) break n;
                            ni--,
                            p += ri[ii++] << y,
                            y += 8
                        }
                        i.offset += p & (1 << i.extra) - 1,
                        p >>>= i.extra,
                        y -= i.extra,
                        i.back += i.extra
                    }
                    if (i.offset > i.dmax) {
                        n.msg = "invalid distance too far back",
                        i.mode = r;
                        break
                    }
                    i.mode = yt;
                case yt:
                    if (0 === bi) break n;
                    if (ti = vi - bi, i.offset > ti) {
                        if (ti = i.offset - ti, ti > i.whave && i.sane) {
                            n.msg = "invalid distance too far back",
                            i.mode = r;
                            break
                        }
                        ti > i.wnext ? (ti -= i.wnext, yr = i.wsize - ti) : yr = i.wnext - ti,
                        ti > i.length && (ti = i.length),
                        kr = i.window
                    } else kr = ar,
                    yr = hr - i.offset,
                    ti = i.length;
                    ti > bi && (ti = bi),
                    bi -= ti,
                    i.length -= ti;
                    do ar[hr++] = kr[yr++];
                    while (--ti);
                    0 === i.length && (i.mode = l);
                    break;
                case pt:
                    if (0 === bi) break n;
                    ar[hr++] = i.length,
                    bi--,
                    i.mode = l;
                    break;
                case v:
                    if (i.wrap) {
                        for (; 32 > y;) {
                            if (0 === ni) break n;
                            ni--,
                            p |= ri[ii++] << y,
                            y += 8
                        }
                        if (vi -= bi, n.total_out += vi, i.total += vi, vi && (n.adler = i.check = i.flags ? e(i.check, ar, vi, hr - vi) : fi(i.check, ar, vi, hr - vi)), vi = bi, (i.flags ? p: gt(p)) !== i.check) {
                            n.msg = "incorrect data check",
                            i.mode = r;
                            break
                        }
                        p = 0,
                        y = 0
                    }
                    i.mode = et;
                case et:
                    if (i.wrap && i.flags) {
                        for (; 32 > y;) {
                            if (0 === ni) break n;
                            ni--,
                            p += ri[ii++] << y,
                            y += 8
                        }
                        if (p !== (4294967295 & i.total)) {
                            n.msg = "incorrect length check",
                            i.mode = r;
                            break
                        }
                        p = 0,
                        y = 0
                    }
                    i.mode = ct;
                case ct:
                    cr = fr;
                    break n;
                case r:
                    cr = gi;
                    break n;
                case d:
                    return ci;
                case wi:
                default:
                    return f
                }
                return n.next_out = hr,
                n.avail_out = bi,
                n.next_in = ii,
                n.avail_in = ni,
                i.hold = p,
                i.bits = y,
                (i.wsize || vi !== n.avail_out && i.mode < r && (i.mode < v || t !== li)) && tr(n, n.output, n.next_out, vi - n.avail_out) ? (i.mode = d, ci) : (wr -= n.avail_in, vi -= n.avail_out, n.total_in += wr, n.total_out += vi, i.total += vi, i.wrap && vi && (n.adler = i.check = i.flags ? e(i.check, ar, vi, n.next_out - vi) : fi(i.check, ar, vi, n.next_out - vi)), n.data_type = i.bits + (i.last ? 64 : 0) + (i.mode === o ? 128 : 0) + (i.mode === a || i.mode === b ? 256 : 0), (0 === wr && 0 === vi || t === li) && cr === s && (cr = di), cr)
            }
            function hr(n) {
                if (!n || !n.state) return f;
                var t = n.state;
                return t.window && (t.window = null),
                n.state = null,
                s
            }
            function ur(n, t) {
                var i;
                return n && n.state ? (i = n.state, 0 == (2 & i.wrap) ? f: (i.head = t, t.done = !1, s)) : f
            }
            var p, y, u = n("../utils/common"), fi = n("./adler32"), e = n("./crc32"), er = n("./inffast"), h = n("./inftrees"), or = 0, ei = 1, oi = 2, li = 4, ai = 5, c = 6, s = 0, fr = 1, rr = 2, f = -2, gi = -3, ci = -4, di = -5, hi = 8, kt = 1, dt = 2, ui = 3, bt = 4, st = 5, rt = 6, it = 7, tt = 8, nt = 9, k = 10, g = 11, o = 12, w = 13, wt = 14, b = 15, ft = 16, ut = 17, ot = 18, ht = 19, a = 20, l = 21, lt = 22, at = 23, vt = 24, yt = 25, pt = 26, v = 27, et = 28, ct = 29, r = 30, d = 31, wi = 32, pi = 852, yi = 592, vi = 15, bi = vi, si = !0; i.inflateReset = ti, i.inflateReset2 = ii, i.inflateResetKeep = ni, i.inflateInit = sr, i.inflateInit2 = ri, i.inflate = ir, i.inflateEnd = hr, i.inflateGetHeader = ur, i.inflateInfo = "pako inflate (from Nodeca project)"
        },
        {
            "../utils/common": 27,
            "./adler32": 29,
            "./crc32": 31,
            "./inffast": 34,
            "./inftrees": 36
        }], 36 : [function(n, t) {
            "use strict";
            var u = n("../utils/common"),
            i = 15,
            f = 852,
            e = 592,
            o = 0,
            r = 1,
            s = 2,
            h = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0],
            c = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78],
            l = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0],
            a = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
            t.exports = function(n, t, v, y, p, w, b, k) {
                for (var st, at, wt, dt, lt, ct, ti, yt, vt, ri = k.bits,
                d = 0,
                g = 0,
                et = 0,
                tt = 0,
                nt = 0,
                ft = 0,
                it = 0,
                ut = 0,
                ht = 0,
                rt = 0,
                pt = null,
                ii = 0,
                ot = new u.Buf16(i + 1), bt = new u.Buf16(i + 1), kt = null, ni = 0, gt, d = 0; i >= d; d++) ot[d] = 0;
                for (g = 0; y > g; g++) ot[t[v + g]]++;
                for (nt = ri, tt = i; tt >= 1 && 0 === ot[tt]; tt--);
                if (nt > tt && (nt = tt), 0 === tt) return p[w++] = 20971520,
                p[w++] = 20971520,
                k.bits = 1,
                0;
                for (et = 1; tt > et && 0 === ot[et]; et++);
                for (et > nt && (nt = et), ut = 1, d = 1; i >= d; d++) if (ut <<= 1, ut -= ot[d], 0 > ut) return - 1;
                if (ut > 0 && (n === o || 1 !== tt)) return - 1;
                for (bt[1] = 0, d = 1; i > d; d++) bt[d + 1] = bt[d] + ot[d];
                for (g = 0; y > g; g++) 0 !== t[v + g] && (b[bt[t[v + g]]++] = g);
                if (n === o ? (pt = kt = b, ct = 19) : n === r ? (pt = h, ii -= 257, kt = c, ni -= 257, ct = 256) : (pt = l, kt = a, ct = -1), rt = 0, g = 0, d = et, lt = w, ft = nt, it = 0, wt = -1, ht = 1 << nt, dt = ht - 1, n === r && ht > f || n === s && ht > e) return 1;
                for (gt = 0;;) {
                    gt++,
                    ti = d - it,
                    b[g] < ct ? (yt = 0, vt = b[g]) : b[g] > ct ? (yt = kt[ni + b[g]], vt = pt[ii + b[g]]) : (yt = 96, vt = 0),
                    st = 1 << d - it,
                    at = 1 << ft,
                    et = at;
                    do at -= st,
                    p[lt + (rt >> it) + at] = ti << 24 | yt << 16 | vt | 0;
                    while (0 !== at);
                    for (st = 1 << d - 1; rt & st;) st >>= 1;
                    if (0 !== st ? (rt &= st - 1, rt += st) : rt = 0, g++, 0 == --ot[d]) {
                        if (d === tt) break;
                        d = t[v + b[g]]
                    }
                    if (d > nt && (rt & dt) !== wt) {
                        for (0 === it && (it = nt), lt += et, ft = d - it, ut = 1 << ft; tt > ft + it && (ut -= ot[ft + it], !(0 >= ut));) ft++,
                        ut <<= 1;
                        if (ht += 1 << ft, n === r && ht > f || n === s && ht > e) return 1;
                        wt = rt & dt,
                        p[wt] = nt << 24 | ft << 16 | lt - w | 0
                    }
                }
                return 0 !== rt && (p[lt + rt] = d - it << 24 | 4194304),
                k.bits = nt,
                0
            }
        },
        {
            "../utils/common": 27
        }], 37 : [function(n, t) {
            "use strict";
            t.exports = {
                2 : "need dictionary",
                1 : "stream end",
                0 : "",
                "-1": "file error",
                "-2": "stream error",
                "-3": "data error",
                "-4": "insufficient memory",
                "-5": "buffer error",
                "-6": "incompatible version"
            }
        },
        {}], 38 : [function(n, t, i) {
            "use strict";
            function l(n) {
                for (var t = n.length; --t >= 0;) n[t] = 0
            }
            function ei(n) {
                return 256 > n ? s[n] : s[256 + (n >>> 7)]
            }
            function p(n, t) {
                n.pending_buf[n.pending++] = 255 & t,
                n.pending_buf[n.pending++] = t >>> 8 & 255
            }
            function r(n, t, i) {
                n.bi_valid > g - i ? (n.bi_buf |= t << n.bi_valid & 65535, p(n, n.bi_buf), n.bi_buf = t >> g - n.bi_valid, n.bi_valid += i - g) : (n.bi_buf |= t << n.bi_valid & 65535, n.bi_valid += i)
            }
            function u(n, t, i) {
                r(n, i[2 * t], i[2 * t + 1])
            }
            function fi(n, t) {
                var i = 0;
                do i |= 1 & n,
                n >>>= 1,
                i <<= 1;
                while (--t > 0);
                return i >>> 1
            }
            function si(n) {
                16 === n.bi_valid ? (p(n, n.bi_buf), n.bi_buf = 0, n.bi_valid = 0) : n.bi_valid >= 8 && (n.pending_buf[n.pending++] = 255 & n.bi_buf, n.bi_buf >>= 8, n.bi_valid -= 8)
            }
            function li(n, t) {
                for (var o, r, f, h, l, u = t.dyn_tree,
                a = t.max_code,
                y = t.stat_desc.static_tree,
                p = t.stat_desc.has_stree,
                w = t.stat_desc.extra_bits,
                v = t.stat_desc.extra_base,
                s = t.stat_desc.max_length,
                c = 0,
                i = 0; e >= i; i++) n.bl_count[i] = 0;
                for (u[2 * n.heap[n.heap_max] + 1] = 0, o = n.heap_max + 1; ht > o; o++) r = n.heap[o],
                i = u[2 * u[2 * r + 1] + 1] + 1,
                i > s && (i = s, c++),
                u[2 * r + 1] = i,
                r > a || (n.bl_count[i]++, h = 0, r >= v && (h = w[r - v]), l = u[2 * r], n.opt_len += l * (i + h), p && (n.static_len += l * (y[2 * r + 1] + h)));
                if (0 !== c) {
                    do {
                        for (i = s - 1; 0 === n.bl_count[i];) i--;
                        n.bl_count[i]--, n.bl_count[i + 1] += 2, n.bl_count[s]--, c -= 2
                    } while ( c > 0 );
                    for (i = s; 0 !== i; i--) for (r = n.bl_count[i]; 0 !== r;) f = n.heap[--o],
                    f > a || (u[2 * f + 1] !== i && (n.opt_len += (i - u[2 * f + 1]) * u[2 * f], u[2 * f + 1] = i), r--)
                }
            }
            function ti(n, t, i) {
                for (var u, o = new Array(e + 1), s = 0, f, r = 1; e >= r; r++) o[r] = s = s + i[r - 1] << 1;
                for (u = 0; t >= u; u++) f = n[2 * u + 1],
                0 !== f && (n[2 * u] = fi(o[f]++, f))
            }
            function ai() {
                for (var n, u, i, r = new Array(e + 1), l = 0, t = 0; k - 1 > t; t++) for (w[t] = l, n = 0; n < 1 << it[t]; n++) h[l++] = t;
                for (h[l - 1] = t, i = 0, t = 0; 16 > t; t++) for (a[t] = i, n = 0; n < 1 << b[t]; n++) s[i++] = t;
                for (i >>= 7; c > t; t++) for (a[t] = i << 7, n = 0; n < 1 << b[t] - 7; n++) s[256 + i++] = t;
                for (u = 0; e >= u; u++) r[u] = 0;
                for (n = 0; 143 >= n;) f[2 * n + 1] = 8,
                n++,
                r[8]++;
                for (; 255 >= n;) f[2 * n + 1] = 9,
                n++,
                r[9]++;
                for (; 279 >= n;) f[2 * n + 1] = 7,
                n++,
                r[7]++;
                for (; 287 >= n;) f[2 * n + 1] = 8,
                n++,
                r[8]++;
                for (ti(f, v + 1, r), n = 0; c > n; n++) o[2 * n + 1] = 5,
                o[2 * n] = fi(n, 5);
                ct = new ft(f, it, y + 1, v, e),
                lt = new ft(o, b, 0, c, e),
                at = new ft(new Array(0), oi, 0, d, ki)
            }
            function ni(n) {
                for (var t = 0; v > t; t++) n.dyn_ltree[2 * t] = 0;
                for (t = 0; c > t; t++) n.dyn_dtree[2 * t] = 0;
                for (t = 0; d > t; t++) n.bl_tree[2 * t] = 0;
                n.dyn_ltree[2 * nt] = 1,
                n.opt_len = n.static_len = 0,
                n.last_lit = n.matches = 0
            }
            function dt(n) {
                n.bi_valid > 8 ? p(n, n.bi_buf) : n.bi_valid > 0 && (n.pending_buf[n.pending++] = n.bi_buf),
                n.bi_buf = 0,
                n.bi_valid = 0
            }
            function hi(n, t, i, r) {
                dt(n),
                r && (p(n, i), p(n, ~i)),
                tr.arraySet(n.pending_buf, n.window, t, i, n.pending),
                n.pending += i
            }
            function kt(n, t, i, r) {
                var u = 2 * t,
                f = 2 * i;
                return n[u] < n[f] || n[u] === n[f] && r[t] <= r[i]
            }
            function tt(n, t, i) {
                for (var u = n.heap[i], r = i << 1; r <= n.heap_len && (r < n.heap_len && kt(t, n.heap[r + 1], n.heap[r], n.depth) && r++, !kt(t, u, n.heap[r], n.depth));) n.heap[i] = n.heap[r],
                i = r,
                r <<= 1;
                n.heap[i] = u
            }
            function bt(n, t, i) {
                var e, s, f, o, c = 0;
                if (0 !== n.last_lit) do e = n.pending_buf[n.d_buf + 2 * c] << 8 | n.pending_buf[n.d_buf + 2 * c + 1],
                s = n.pending_buf[n.l_buf + c],
                c++,
                0 === e ? u(n, s, t) : (f = h[s], u(n, f + y + 1, t), o = it[f], 0 !== o && (s -= w[f], r(n, s, o)), e--, f = ei(e), u(n, f, i), o = b[f], 0 !== o && (e -= a[f], r(n, e, o)));
                while (c < n.last_lit);
                u(n, nt, t)
            }
            function rt(n, t) {
                var i, f, u, r = t.dyn_tree,
                s = t.stat_desc.static_tree,
                h = t.stat_desc.has_stree,
                o = t.stat_desc.elems,
                e = -1;
                for (n.heap_len = 0, n.heap_max = ht, i = 0; o > i; i++) 0 !== r[2 * i] ? (n.heap[++n.heap_len] = e = i, n.depth[i] = 0) : r[2 * i + 1] = 0;
                for (; n.heap_len < 2;) u = n.heap[++n.heap_len] = 2 > e ? ++e: 0,
                r[2 * u] = 1,
                n.depth[u] = 0,
                n.opt_len--,
                h && (n.static_len -= s[2 * u + 1]);
                for (t.max_code = e, i = n.heap_len >> 1; i >= 1; i--) tt(n, r, i);
                u = o;
                do i = n.heap[1],
                n.heap[1] = n.heap[n.heap_len--],
                tt(n, r, 1),
                f = n.heap[1],
                n.heap[--n.heap_max] = i,
                n.heap[--n.heap_max] = f,
                r[2 * u] = r[2 * i] + r[2 * f],
                n.depth[u] = (n.depth[i] >= n.depth[f] ? n.depth[i] : n.depth[f]) + 1,
                r[2 * i + 1] = r[2 * f + 1] = u,
                n.heap[1] = u++,
                tt(n, r, 1);
                while (n.heap_len >= 2);
                n.heap[--n.heap_max] = n.heap[1],
                li(n, t),
                ti(r, e, n.bl_count)
            }
            function ii(n, t, i) {
                var s, r, h = -1,
                u = t[1],
                f = 0,
                e = 7,
                o = 4;
                for (0 === u && (e = 138, o = 3), t[2 * (i + 1) + 1] = 65535, s = 0; i >= s; s++) r = u,
                u = t[2 * (s + 1) + 1],
                ++f < e && r === u || (o > f ? n.bl_tree[2 * r] += f: 0 !== r ? (r !== h && n.bl_tree[2 * r]++, n.bl_tree[2 * ot]++) : 10 >= f ? n.bl_tree[2 * et]++:n.bl_tree[2 * vt]++, f = 0, h = r, 0 === u ? (e = 138, o = 3) : r === u ? (e = 6, o = 3) : (e = 7, o = 4))
            }
            function wt(n, t, i) {
                var c, e, l = -1,
                o = t[1],
                f = 0,
                s = 7,
                h = 4;
                for (0 === o && (s = 138, h = 3), c = 0; i >= c; c++) if (e = o, o = t[2 * (c + 1) + 1], !(++f < s && e === o)) {
                    if (h > f) {
                        do u(n, e, n.bl_tree);
                        while (0 != --f)
                    } else 0 !== e ? (e !== l && (u(n, e, n.bl_tree), f--), u(n, ot, n.bl_tree), r(n, f - 3, 2)) : 10 >= f ? (u(n, et, n.bl_tree), r(n, f - 3, 3)) : (u(n, vt, n.bl_tree), r(n, f - 11, 7));
                    f = 0,
                    l = e,
                    0 === o ? (s = 138, h = 3) : e === o ? (s = 6, h = 3) : (s = 7, h = 4)
                }
            }
            function yi(n) {
                var t;
                for (ii(n, n.dyn_ltree, n.l_desc.max_code), ii(n, n.dyn_dtree, n.d_desc.max_code), rt(n, n.bl_desc), t = d - 1; t >= 3 && 0 === n.bl_tree[2 * st[t] + 1]; t--);
                return n.opt_len += 3 * (t + 1) + 5 + 5 + 4,
                t
            }
            function pi(n, t, i, u) {
                var f;
                for (r(n, t - 257, 5), r(n, i - 1, 5), r(n, u - 4, 4), f = 0; u > f; f++) r(n, n.bl_tree[2 * st[f] + 1], 3);
                wt(n, n.dyn_ltree, t - 1),
                wt(n, n.dyn_dtree, i - 1)
            }
            function wi(n) {
                for (var i = 4093624447,
                t = 0; 31 >= t; t++, i >>>= 1) if (1 & i && 0 !== n.dyn_ltree[2 * t]) return ri;
                if (0 !== n.dyn_ltree[18] || 0 !== n.dyn_ltree[20] || 0 !== n.dyn_ltree[26]) return ui;
                for (t = 32; y > t; t++) if (0 !== n.dyn_ltree[2 * t]) return ui;
                return ri
            }
            function bi(n) {
                pt || (ai(), pt = !0),
                n.l_desc = new ut(n.dyn_ltree, ct),
                n.d_desc = new ut(n.dyn_dtree, lt),
                n.bl_desc = new ut(n.bl_tree, at),
                n.bi_buf = 0,
                n.bi_valid = 0,
                ni(n)
            }
            function gt(n, t, i, u) {
                r(n, (fr << 1) + (u ? 1 : 0), 3),
                hi(n, t, i, !0)
            }
            function di(n) {
                r(n, yt << 1, 3),
                u(n, nt, f),
                si(n)
            }
            function gi(n, t, i, u) {
                var e, s, h = 0;
                n.level > 0 ? (n.strm.data_type === er && (n.strm.data_type = wi(n)), rt(n, n.l_desc), rt(n, n.d_desc), h = yi(n), e = n.opt_len + 3 + 7 >>> 3, s = n.static_len + 3 + 7 >>> 3, e >= s && (e = s)) : e = s = i + 5,
                e >= i + 4 && -1 !== t ? gt(n, t, i, u) : n.strategy === ir || s === e ? (r(n, (yt << 1) + (u ? 1 : 0), 3), bt(n, f, o)) : (r(n, (vi << 1) + (u ? 1 : 0), 3), pi(n, n.l_desc.max_code + 1, n.d_desc.max_code + 1, h + 1), bt(n, n.dyn_ltree, n.dyn_dtree)),
                ni(n),
                u && dt(n)
            }
            function nr(n, t, i) {
                return n.pending_buf[n.d_buf + 2 * n.last_lit] = t >>> 8 & 255,
                n.pending_buf[n.d_buf + 2 * n.last_lit + 1] = 255 & t,
                n.pending_buf[n.l_buf + n.last_lit] = 255 & i,
                n.last_lit++,
                0 === t ? n.dyn_ltree[2 * i]++:(n.matches++, t--, n.dyn_ltree[2 * (h[i] + y + 1)]++, n.dyn_dtree[2 * ei(t)]++),
                n.last_lit === n.lit_bufsize - 1
            }
            var tr = n("../utils/common"),
            ir = 4,
            ri = 0,
            ui = 1,
            er = 2,
            fr = 0,
            yt = 1,
            vi = 2,
            ur = 3,
            rr = 258,
            k = 29,
            y = 256,
            v = y + 1 + k,
            c = 30,
            d = 19,
            ht = 2 * v + 1,
            e = 15,
            g = 16,
            ki = 7,
            nt = 256,
            ot = 16,
            et = 17,
            vt = 18,
            it = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0],
            b = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],
            oi = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
            st = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
            ci = 512,
            f = new Array(2 * (v + 2)),
            o,
            s,
            h,
            w,
            a;
            l(f),
            o = new Array(2 * c),
            l(o),
            s = new Array(ci),
            l(s),
            h = new Array(rr - ur + 1),
            l(h),
            w = new Array(k),
            l(w),
            a = new Array(c),
            l(a);
            var ct, lt, at, ft = function(n, t, i, r, u) {
                this.static_tree = n,
                this.extra_bits = t,
                this.extra_base = i,
                this.elems = r,
                this.max_length = u,
                this.has_stree = n && n.length
            },
            ut = function(n, t) {
                this.dyn_tree = n,
                this.max_code = 0,
                this.stat_desc = t
            },
            pt = !1;
            i._tr_init = bi,
            i._tr_stored_block = gt,
            i._tr_flush_block = gi,
            i._tr_tally = nr,
            i._tr_align = di
        },
        {
            "../utils/common": 27
        }], 39 : [function(n, t) {
            "use strict";
            function i() {
                this.input = null,
                this.next_in = 0,
                this.avail_in = 0,
                this.total_in = 0,
                this.output = null,
                this.next_out = 0,
                this.avail_out = 0,
                this.total_out = 0,
                this.msg = "",
                this.state = null,
                this.data_type = 2,
                this.adler = 0
            }
            t.exports = i
        },
        {}]
    },
    {},
    [9])(9)
}), MemberUserNews = [], MemberUserNews.TotalPages = 0, MemberUserNews.PageIndex = 1, MemberUserNews.ShowDialogNewsId = 0, MemberUserNews.ShowDialogNewsState = 0, MemberUserNews.IsSearch = !1, MemberUserNews.UnReadMsgCount = 0, MemberUserNews.IsDeling = !1, MemberUserNews.init_memberUserNews = function() {
    initMemberBaseControl(),
    MemberUserNews.UnReadMsgCount > -1 && MemberUserNews.init_UnReadMsgCount(MemberUserNews.UnReadMsgCount),
    MemberUserNews.TotalPages > 0 ? ($("#divUserNewsList").show(), $("#divUserNewsPageInfo").show(), $("#divNotUserNews").hide()) : ($("#divUserNewsList").hide(), $("#divUserNewsPageInfo").hide(), $("#divNotUserNews").show()),
    $($("#trHead").find(".tp-ui-checkbox")).bind("click",
    function() {
        MemberUserNews.changeCheckNews()
    }),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var n = parseInt($(this).attr("page_index")),
        t = parseInt($(this).attr("page_change"));
        MemberUserNews.getUserNewsData(n, t)
    }),
    $(".UserNewsTitle").click(function() {
        var t = $(this).attr("newsTitle"),
        i = $(this).attr("newsContent"),
        n,
        r;
        MemberUserNews.ShowDialogNewsId = $(this).attr("newsId"),
        MemberUserNews.ShowDialogNewsState = $(this).attr("newState"),
        n = {
            useTitle: "消息详情--" + t,
            message: i,
            icon: !1
        },
        r = new $.appModalDialog(n, {
            "确定": function(n) {
                n._close(!0),
                MemberUserNews.ShowDialogNewsState != "1" && MemberUserNews.subimtReadUserNewsData(MemberUserNews.ShowDialogNewsId)
            }
        },
        "message")
    })
},
MemberUserNews.init_UnReadMsgCount = function(n) {
    $("#emMemberUnReadNews1,#emMemberUnReadNews2").html(n),
    $("#emMemberUnReadNews1,#emMemberUnReadNews2").attr("UnReadMsgCount", n)
},
MemberUserNews.AddUnReadMsgNum = function() {
    var n = $("#emMemberUnReadNews1").attr("UnReadMsgCount");
    n = n ? parseInt(n) : 0,
    MemberUserNews.init_UnReadMsgCount(n + 1)
},
MemberUserNews.DecUnReadMsgNum = function() {
    var n = $("#emMemberUnReadNews1").attr("UnReadMsgCount");
    n = n ? parseInt(n) : 1,
    MemberUserNews.init_UnReadMsgCount(n - 1)
},
MemberUserNews.getUserNewsData = function(n, t) {
    var i = parseInt(MemberUserNews.TotalPages);
    if (t != 0 && n + t < 1) alertTip("已经是第一页");
    else if (t != 0 && n + t > i) alertTip("已经是最后一页");
    else {
        MemberUserNews.PageIndex = n + t;
        var r = $("#selUserNewsType").val(),
        u = $("#selUserNewsState").val(),
        f = [r, u, MemberUserNews.PageIndex];
        GetPartHtml("/Member/MemberUserNews", f)
    }
},
MemberUserNews.delUserNewsData = function(n) {
    return n > 0 && _confirm("确认删除该消息吗？") ? (MemberUserNews.submitDelUserNewsData(n), !0) : !1
},
MemberUserNews.doDelCheckUserNewsData = function() {
    var n = "";
    if ($(".trCheckbox").each(function() {
        $(this).attr("checked") && (n && (n += ","), n += $(this).attr("usernewsid"))
    }), n) MemberUserNews.submitDelUserNewsData(n);
    else return alertTip("请先选择需要删除的消息"),
    !1
},
MemberUserNews.submitDelUserNewsData = function(n) {
    if (MemberUserNews.IsDeling) return alertTip("正在删除消息，请稍等..."),
    !1;
    MemberUserNews.IsDeling = !0,
    ctx.postTokenEx({
        url: "/Member/SubmitDelMemberUserNews",
        data: EnCryptJsonParams([n]),
        success: function(n) {
            n.Success ? (MemberUserNews.getUserNewsData(MemberUserNews.PageIndex, 0), alertTip("删除成功")) : alert(n.Message)
        },
        complete: function() {
            MemberUserNews.IsDeling = !1
        }
    })
},
MemberUserNews.changeCheckNews = function() {
    var n = $("#cbCheckAll").attr("checked");
    n ? ($(".trCheckbox").attr("checked", !0), $(".tp-ui-checkbox").addClass("tp-ui-active")) : ($(".trCheckbox").attr("checked", !1), $(".tp-ui-checkbox").removeClass("tp-ui-active"))
},
MemberUserNews.doReadCheckUserNewsData = function() {
    var n = "";
    if ($(".trCheckbox").each(function() {
        $(this).attr("checked") && (n && (n += ","), n += $(this).attr("usernewsid"))
    }), n) MemberUserNews.subimtReadUserNewsData(n);
    else return alert("请先选择需要标记为已读的消息"),
    !1
},
MemberUserNews.subimtReadUserNewsData = function(n) {
    ctx.postTokenEx({
        url: "/Member/SubimtReadUserNewsData",
        data: EnCryptJsonParams([n]),
        success: function(n) {
            n.Success ? MemberUserNews.getUserNewsData(MemberUserNews.PageIndex, 0) : alert(n.Message)
        }
    })
},
MemberUserNews.subimtReadAllUserNewsData = function() {
    ctx.postTokenEx({
        url: "/Member/SubimtReadAllUserNewsData",
        success: function(n) {
            n.Success ? MemberUserNews.getUserNewsData(MemberUserNews.PageIndex, 0) : alert(n.Message)
        }
    })
},
FeedBack = [], FeedBack.InitFeedBack = function() {
    $formTable = $(".forms-table"),
    $formTable.find(".tpui-text").tpuiText(),
    $formTable.find(".tpui-radio").tpuiRadio(),
    $formTable.find(".tpui-button").tpuiButton(),
    $formTable.find(".tpui-textarea").tpuiTextarea()
},
FeedBack._isSubmit = !1, FeedBack.submitFeedBack = function() {
    if (FeedBack._isSubmit) return ! 1;
    if ($("#Name").val().trim().length == 0) return alertTip("姓名不能为空"),
    $("#Name").focus(),
    !1;
    if ($("#content").val().trim().length == 0) return alertTip("内容不能为空"),
    $("#content").focus(),
    !1;
    FeedBack._isSubmit = !0,
    ctx.postTokenEx({
        url: "/Home/SubmitFeedBack",
        data: {
            Name: $("#Name").val(),
            TeleNo: $("#TeleNo").val(),
            QQ: $("#QQ").val(),
            Content: $("#content").val()
        },
        success: function(n) {
            alert(n.Message),
            n.Success && $("#content").val("")
        }
    })
},
hasSubmit = !1, ForgetPwdHelper = [], ForgetPwdHelper.token = "", ForgetPwdHelper.changeWayValue = 0, ForgetPwdHelper.hasSecurityQuestion = !1, ForgetPwdHelper.SecurityQuestionUserId = 0, ForgetPwdHelper.IsSubmit = !1, ForgetPwdHelper.init = function(n) {
    var i = $("#repassword-panel"),
    t;
    if (i.find(".tpui-text").tpuiText(), i.find(".tpui-button").tpuiButton(), n && n != 1) {
        if (n == 2) {
            $("#imgStep2VerCode").attr("src", "/Login/ValidateCode?r=" + Math.random());
            $("#imgStep2VerCode,#aChangeStep2VerCode").on("click",
            function() {
                $("#imgStep2VerCode").attr("src", "/Login/ValidateCode?r=" + Math.random())
            });
            $("#btnChangePwd").on("click",
            function() {
                var r;
                ForgetPwdHelper.IsSubmit && alertTip("正在提交数据，请稍等", "找回密码"),
                ForgetPwdHelper.IsSubmit = !0;
                var n = $("#txtNewPassword").val(),
                t = $("#txtNewPassword2").val(),
                i = $("#txtVerCode2").val();
                if (!n || !t) {
                    alertTip("请先填写新密码");
                    return
                }
                if (n != t) {
                    alertTip("两次密码输入不一致，请重新输入");
                    return
                }
                if (!i) {
                    alertTip("请先填写验证码");
                    return
                }
                alertTip("正在提交数据，请稍等", "找回密码"),
                r = {
                    Password: n,
                    ConfirmPassword: t,
                    VerCode: i,
                    UserToken: ForgetPwdHelper.token
                },
                ctx.postToken("/Login/ForgetPwdToChangePassword", EnCryptJsonParams(r),
                function(n) {
                    n == "timeout" ? alertTip("重置密码失败，链接已超时，请重新操作") : n == "valicodefail" ? alertTip("重置密码失败，验证码输入错误，请稍后重试") : n == "密码不能为空" ? alertTip("重置密码失败，密码不能为空") : n == "密码输入不一致" ? alertTip("重置密码失败，两次密码不一致，请稍后重试") : n == "登录密码不能和资金密码一样" ? alertTip("重置密码失败，登录密码不能和资金密码一样，请稍后重试") : n == "fail" ? ($("#divStep1,#divStep2").hide(), $("#divStep3").show(), $("#divStep3_suc").hide(), $("#divStep3_fail").show()) : ($("#divStep1,#divStep2").hide(), $("#divStep3").show()),
                    $("#imgStep2VerCode").attr("src", "/Login/ValidateCode?r=" + Math.random()),
                    ForgetPwdHelper.IsSubmit = !1
                },
                function() {
                    ForgetPwdHelper.IsSubmit = !1,
                    alertTip("网络异常，请联系管理员！", "登录")
                })
            });
            $("#divStep1,#divStep3").hide(),
            $("#divStep2").show()
        }
    } else {
        t = "/Login/ValidateCode?r=" + Math.random(),
        $("#imgStep1VerCode").attr("src", t),
        $("#imgStep1VerCode2").attr("src", t);
        $("#imgStep1VerCode,#aChangeStep1VerCode,#imgStep1VerCode2,#aChangeStep1VerCode2").on("click",
        function() {
            var n = "/Login/ValidateCode?r=" + Math.random();
            $("#imgStep1VerCode").attr("src", n),
            $("#imgStep1VerCode2").attr("src", n)
        });
        $("#btnForgetPwd").on("click",
        function() {
            var n = $("input[name='changeWay']:checked").val();
            n == 0 ? ForgetPwdHelper.doForgetPwdByEmail() : n == 2 ? ForgetPwdHelper.doForgetPwdBySerialNumber() : ForgetPwdHelper.doForgetPwdBySecurityQuestion()
        });
        $("#divStep2,#divStep3").hide()
    }
},
ForgetPwdHelper.doForgetPwdByEmail = function() {
    var t = $("#txtUserName").val(),
    i = $("#txtEmail").val(),
    r = $("#txtVerCode").val(),
    n;
    if (!t && !i) return alertTip("请先填写用户名或安全邮箱"),
    !1;
    if (!r) return alertTip("请先填写验证码"),
    !1;
    n = $("div.tp-ui-loading-base").parent(),
    n.css({
        "z-index": 99999
    }).show(),
    ctx.postToken("../Login/ForgetPwdSendEmail", EnCryptJsonParams({
        UserName: t,
        Email: i,
        VerCode: r
    }),
    function(t) {
        t == "valicodefail" ? alertTip("验证码错误，请重新输入") : t == "paramIsEmpty" ? alertTip("请先输入用户名或安全邮箱") : t == "paramError" ? $("#txtUserName").val() ? alertTip("您输入的用户名有误或该账户未绑定安全邮箱，请联系您的上级") : alertTip("未找到绑定该安全邮箱的账户，请重新输入") : t == "fail" ? alertTip("找回密码失败，请稍后再试") : ($("#aBrowerEmail").attr("href", t[1]), $("#spanEmail").html(t[2]), $("#divStep1_Confirm").hide(), $("#divStep1_Result").show());
        var i = "../Login/ValidateCode@r=" + Math.random();
        $("#imgStep1VerCode").attr("src", i),
        $("#imgStep1VerCode2").attr("src", i),
        n.hide().prev().hide()
    },
    function() {
        alertTip("网络异常，请联系管理员！", "登录"),
        n.hide().prev().hide()
    })
},
ForgetPwdHelper.doForgetPwdBySerialNumber = function() {
    var i = $("#txtUserName_SN").val(),
    t = $("#txtSNVerCode").val(),
    r = $("#txtSNNewPassword").val(),
    u = $("#txtVerCode_SN").val(),
    n;
    if (!i && !t) return alert("请先填写用户名"),
    !1;
    if (!t) return alert("请先填写安全码"),
    !1;
    if (!r) return alert("请先填写新密码"),
    !1;
    if (!u) return alert("请先填写验证码"),
    !1;
    n = $("div.tp-ui-loading-base").parent(),
    n.css({
        "z-index": 99999
    }).show(),
    ctx.postToken("../Login/ForgetPwdBySerialNumber", EnCryptJsonParams({
        UserName: i,
        SNVerCode: t,
        SNNewPassword: r,
        VerCode: u
    }),
    function(t) {
        t == "valicodefail" ? alertTip("验证码错误，请重新输入") : t == "paramIsEmpty" ? alertTip("请先输入用户名或安全邮箱") : t == "PasswordParamIsEmpty" ? alertTip("请先输入新密码") : t == "paramError" ? $("#txtUserName").val() ? alertTip("您输入的用户名有误或该账户未绑定安全邮箱，请联系您的上级") : alertTip("未找到绑定该安全邮箱的账户，请重新输入") : t == "noUnbindSNfail" ? alertTip("您的账号未绑定手机令牌，请通过其他方式找回密码") : t == "SNVerCodeErrorCountFail" ? alertTip("您今天的手机验证中心验证码输错次数太多，请稍后再试") : t == "SNVerCodeError" ? alertTip("安全码错误，请重新输入") : t == "fundFail" ? alertTip("登陆密码不能与资金密码相同，请重新输入") : t == "fail" ? ($("#divStep1,#divStep2").hide(), $("#divStep3").show(), $("#divStep3_suc").hide(), $("#divStep3_fail").show()) : ($("#divStep1,#divStep2").hide(), $("#divStep3").show());
        var i = "../Login/ValidateCode@r=" + Math.random();
        $("#imgStep1VerCode").attr("src", i),
        $("#imgStep1VerCode2").attr("src", i),
        n.hide().prev().hide()
    },
    function() {
        alertTip("网络异常，请联系管理员！", "登录"),
        n.hide().prev().hide()
    })
},
ForgetPwdHelper.doForgetPwdBySecurityQuestion = function() {
    var e;
    if (!ForgetPwdHelper.hasSecurityQuestion) return alertTip("请先获取您设置的安全问题", "找回密码"),
    !1;
    var n = $("#txtAnswer1").attr("QuestionId"),
    t = $("#txtAnswer2").attr("QuestionId"),
    i = $("#txtAnswer3").attr("QuestionId"),
    r = $("#txtAnswer1").val(),
    u = $("#txtAnswer2").val(),
    f = $("#txtAnswer3").val();
    if (!n || !t || !i) return alertTip("请先获取您设置的安全问题", "找回密码"),
    !1;
    if (!r || !u || !f) return alertTip("请先回答安全问题", "找回密码"),
    !1;
    e = {
        UserId: ForgetPwdHelper.SecurityQuestionUserId,
        QuestionId1: n,
        QuestionId2: t,
        QuestionId3: i,
        Answer1: r,
        Answer2: u,
        Answer3: f
    },
    ctx.postToken("../Login/ForgetPwdCheckSecurityQuestion", EnCryptJsonParams(e),
    function(n) {
        n == "UserIdEmpty" || n == "QuestionEmpty" ? alertTip("请先输入用户名获取安全问题", "找回密码") : n == "AnswerEmpty" ? alertTip("请先输入问题答案", "找回密码") : n == "Answer1Error" ? alertTip("问题1回答错误，请重新输入", "找回密码") : n == "Answer2Error" ? alertTip("问题2回答错误，请重新输入", "找回密码") : n == "Answer3Error" ? alertTip("问题3回答错误，请重新输入", "找回密码") : location.replace("ForgetPwdToChange@id=" + n)
    },
    function() {
        alertTip("网络异常，请联系管理员！", "登录")
    })
},
ForgetPwdHelper.changeWay = function(n) {
    n == 1 ? ($("#divSerialNumberInfo").hide(), $("#divEmailInfo").hide(), $("#divSecurityQuestionInfo").show(), $("#divSubmitButton").hide(), $("#divQuestionList").hide(), ForgetPwdHelper.changeWayValue = 1) : n == 2 ? ($("#divSerialNumberInfo").show(), $("#divEmailInfo").hide(), $("#divSecurityQuestionInfo").hide(), $("#divSubmitButton").show(), $("#divQuestionList").hide(), ForgetPwdHelper.changeWayValue = 2) : ($("#divSerialNumberInfo").hide(), $("#divEmailInfo").show(), $("#divSecurityQuestionInfo").hide(), $("#divSubmitButton").show(), ForgetPwdHelper.changeWayValue = 0)
},
ForgetPwdHelper.getSecurityQuestion = function() {
    var n = $("#txtUserName3").val();
    n ? (alertTip("正在获取您设置的安全问题，请稍候..."), ctx.postToken("../Login/ForgetPwdGetSecurityQuestion", EnCryptJsonParams({
        UserName: n
    }),
    function(n) {
        n == "UserNameEmpty" ? alertTip("请先输入用户名", "找回密码") : n == "UserNameError" ? alertTip("用户名输入有误，请重新输入", "找回密码") : n && n.length > 0 ? ($("#lblQuestion1").text(n[0].Title), $("#txtAnswer1").attr("QuestionId", n[0].Id), $("#lblQuestion2").text(n[1].Title), $("#txtAnswer2").attr("QuestionId", n[1].Id), $("#lblQuestion3").text(n[2].Title), $("#txtAnswer3").attr("QuestionId", n[2].Id), $("#divQuestionList").show(), $("#divSubmitButton").show(), ForgetPwdHelper.hasSecurityQuestion = !0, ForgetPwdHelper.SecurityQuestionUserId = n[0].Uid) : ($("#lblQuestion1").text(""), $("#txtAnswer1").removeAttr("Id"), $("#lblQuestion2").text(""), $("#txtAnswer2").removeAttr("Id"), $("#lblQuestion3").text(""), $("#txtAnswer3").removeAttr("Id"), $("#divQuestionList").hide(), $("#divSubmitButton").hide(), ForgetPwdHelper.hasSecurityQuestion = !1, ForgetPwdHelper.SecurityQuestionUserId = 0, alertTip("对不起，您未设置安全问题，请通过安全邮箱找回密码！", "找回密码"))
    },
    function() {
        alertTip("网络异常，请联系管理员！", "找回密码")
    })) : alertTip("请先填写用户名", "找回密码")
},
MemberSecurity = [], MemberSecurity.hasSerialNumber = "", MemberSecurity.IsSendEmailCode = !1, MemberSecurity.IsSubmitLoginPassword = !1, MemberSecurity.IsMemberModifyFundPassword = !1, MemberSecurity.IsSubmitSecurityQuestion = !1, MemberSecurity.IsSubmitSecurityEmail = !1, MemberSecurity.IsSubmitBindSerialNumber = !1, MemberSecurity.init_TPUI = function() {
    var n = $("#divSecurityTask");
    n.find(".tpui-button").tpuiButton(),
    n.find(".tpui-text").tpuiText(),
    n.find(".tpui-select").tpuiSelect()
},
MemberSecurity.clear_tpuiDialog = function() {
    $("#divChangePasswordInner").parents(".tp-ui-dialog").remove(),
    $("#divChangeFundPasswordInner").parents(".tp-ui-dialog").remove(),
    $("#setQuestionInner").parents(".tp-ui-dialog").remove(),
    $("#divChangeEmail").parents(".tp-ui-dialog").remove()
},
MemberSecurity.init_SecurityInfo = function() {
    MemberSecurity.init_TPUI(),
    $("#sendEmailCode").unbind("click").bind("click",
    function() {
        var n = $("#securityEmail").val();
        if (!n) {
            alertTip("请先输入邮箱地址", "发送邮箱验证码");
            return
        }
        MemberSecurity.IsSendEmailCode || (MemberSecurity.IsSendEmailCode = !0, alertTip("正在给您的邮箱发送确认码，请稍候..."), ctx.postTokenEx({
            url: "../Member/MemberSendEmailCode",
            data: {
                email: n
            },
            success: function(n) {
                alertTip(n.Message, "发送邮箱验证码")
            },
            complete: function() {
                MemberSecurity.IsSendEmailCode = !1
            }
        }))
    }),
    ctx.postTokenEx({
        url: "../Member/MemberLastLoginIp",
        success: function(n) {
            $("#lastLoginIp").html(n)
        }
    });
    var n = $("#divSecurityTask .st-item");
    $.each(n,
    function(n, t) {
        var u = $(t),
        f = u.find(".option:first a:first"),
        i = u.find(".task-inner:first"),
        e = i.find(".tpui-button:first"),
        r = i.find(".tpui-button:eq(1)");
        i.tpuiDialog({
            width: 480,
            pushTo: "#tmpDialogWrap",
            onClose: function() {
                $("#oldLoginPassword").val(null),
                $("#loginPassword").val(null),
                $("#reLoginPassword").val(null),
                $("#oldFundPassword").val(null),
                $("#fundPassword").val(null),
                $("#reFundPassword").val(null),
                $("#securityEmail").val(null),
                $("#emailVercode").val(null)
            }
        }),
        f.unbind("click").bind("click",
        function() {
            i.tpuiDialog("_open")
        }),
        e.unbind("click").bind("click",
        function() {
            i.tpuiDialog("_close")
        }),
        r.unbind("click").bind("click",
        function() {
            var e, g, y, v;
            if (r.attr("id") != "submitQuestionAnswer") if (r.attr("id") == "submitLoginPassword") {
                if (MemberSecurity.IsSubmitLoginPassword) {
                    alertTip("正在处理中，请稍等...");
                    return
                }
                var s = $("#oldLoginPassword").val(),
                f = $("#loginPassword").val(),
                h = $("#reLoginPassword").val(),
                d = $("#txtSNVerCode_LoginPass").val();
                if (!s) {
                    alertTip("旧密码不能为空", "修改登录密码");
                    return
                }
                if (!f || !h) {
                    alertTip("新密码不能为空", "修改登录密码");
                    return
                }
                if (f.length < 6 || f.length > 12) {
                    alertTip("新密码应为6-12位", "修改登录密码");
                    return
                }
                if (f != h) {
                    alertTip("两次新密码输入不一致", "修改登录密码");
                    return
                }
                if (s == f) {
                    alertTip("新密码不能与旧密码相同", "修改登录密码");
                    return
                }
                if (MemberSecurity.hasSerialNumber == "True" && !d) {
                    alertTip("请先输入安全中心验证码", "修改资金密码");
                    return
                }
                ctx.postTokenEx({
                    url: "/Member/MemberModifyLoginPassword",
                    data: EnCryptJsonParams([s, f, h, d]),
                    beforeSend: function() {
                        MemberSecurity.IsSubmitLoginPassword = !0,
                        alertTip("正在处理中，请稍等...")
                    },
                    success: function(n) {
                        n.Success == !1 ? $.appAlert(n.Message, "danger") : (i.tpuiDialog("_close"), alertTip("修改成功", "修改登录密码"), MemberSecurity.clear_tpuiDialog(), home_hash_changed("membersecurity"))
                    },
                    complete: function() {
                        MemberSecurity.IsSubmitLoginPassword = !1
                    }
                })
            } else if (r.attr("id") == "submitFundPassword") {
                if (MemberSecurity.IsMemberModifyFundPassword) {
                    alertTip("正在处理中，请稍等...");
                    return
                }
                var c = $("#oldFundPassword").val(),
                u = $("#fundPassword").val(),
                l = $("#reFundPassword").val(),
                k = $("#txtSNVerCode_FunPass").val();
                if ($("#oldFundPassword").length > 0 && !c) {
                    alertTip("请先输入旧密码", "修改资金密码");
                    return
                }
                if (!u || !l) {
                    alertTip("请先输入新密码", "修改资金密码");
                    return
                }
                if (!u || u.length < 6 || u.length > 12) {
                    alertTip("密码应为6-12位", "修改资金密码");
                    return
                }
                if (u != l) {
                    alertTip("新密码不一致", "修改资金密码");
                    return
                }
                if (c == u) {
                    alertTip("新密码不能跟旧密码相同", "修改资金密码");
                    return
                }
                if (MemberSecurity.hasSerialNumber == "True" && !k) {
                    alertTip("请先输入安全中心验证码", "修改资金密码");
                    return
                }
                ctx.postTokenEx({
                    url: "/Member/MemberModifyFundPassword",
                    data: EnCryptJsonParams([c, u, l, k]),
                    beforeSend: function() {
                        MemberSecurity.IsMemberModifyFundPassword = !0,
                        alertTip("正在处理中，请稍等...")
                    },
                    success: function(n) {
                        n.Success == !1 ? $.appAlert(n.Message, "danger") : (i.tpuiDialog("_close"), alertTip("修改成功", "修改资金密码"), MemberSecurity.clear_tpuiDialog(), home_hash_changed("membersecurity"))
                    },
                    complete: function() {
                        MemberSecurity.IsMemberModifyFundPassword = !1
                    }
                })
            } else if (r.attr("id") == "submitSecurityQuestion") {
                if (MemberSecurity.IsSubmitSecurityQuestion) return;
                var a = document.getElementsByName("questionId"),
                nt = document.getElementsByName("answer"),
                w = !1,
                n = [];
                for (e = 0; e < a.length; e++) if (a[e].value != "0") {
                    if (w = !0, nt[e].value == "") {
                        alertTip("请先填写问题答案", "设置安全问题");
                        return
                    }
                    n.push(a[e].value)
                }
                if (!w) {
                    alertTip("请先选择问题并填写答案", "设置安全问题");
                    return
                }
                if (n.length == 2 && n[0] == n[1]) {
                    alertTip("不能选择相同问题", "设置安全问题");
                    return
                }
                if (n.length == 3 && (n[0] == n[1] || n[0] == n[2] || n[1] == n[2])) {
                    alertTip("不能选择相同问题", "设置安全问题");
                    return
                }
                g = {
                    type: "post",
                    beforeSend: function() {
                        MemberSecurity.IsSubmitSecurityQuestion = !0,
                        alertTip("正在处理中，请稍等...")
                    },
                    success: function(n) {
                        n.Success == !1 ? $.appAlert(n.Message, "danger") : ($.appAlert(n.Message, "success"), i.tpuiDialog("_close"), MemberSecurity.clear_tpuiDialog(), home_hash_changed("membersecurity"))
                    },
                    complete: function() {
                        MemberSecurity.IsSubmitSecurityQuestion = !1
                    }
                },
                $("#securityQuestionForm").ajaxSubmit(g)
            } else if (r.attr("id") == "submitSecurityEmail") {
                if (MemberSecurity.IsSubmitSecurityEmail) {
                    alertTip("正在处理中，请稍等...");
                    return
                }
                if (y = $("#securityEmail").val(), v = $("#emailVercode").val(), !y) {
                    alertTip("请输入邮箱地址", "设置安全邮箱");
                    return
                }
                if (!v) {
                    alertTip("请输入邮箱确认码", "设置安全邮箱");
                    return
                }
                ctx.postTokenEx({
                    url: "/Member/MemberBindSecurityEmail",
                    data: {
                        bindEmailValidateCode: v,
                        email: y
                    },
                    beforeSend: function() {
                        MemberSecurity.IsSubmitSecurityEmail = !0,
                        alertTip("正在处理中，请稍等...")
                    },
                    success: function(n) {
                        n.Success == !1 ? $.appAlert(n.Message, "danger") : ($.appAlert(n.Message, "success"), i.tpuiDialog("_close"), MemberSecurity.clear_tpuiDialog(), home_hash_changed("membersecurity"))
                    },
                    complete: function() {
                        MemberSecurity.IsSubmitSecurityEmail = !1
                    }
                })
            } else if (r.attr("id") == "submitBindSerialNumber") {
                if (MemberSecurity.IsSubmitBindSerialNumber) {
                    alertTip("正在处理中，请稍等...");
                    return
                }
                var o = $("#txtSNFundPass").val().trim(),
                t = $("#txtSerialNumber").val().trim().replaceAll("-", ""),
                b = $("input:radio[name=SNMobileType]:checked").val();
                if (!o) {
                    alertTip("请先输入资金密码", "绑定手机令牌");
                    return
                }
                if (!t) {
                    alertTip("请先输入手机安全中心序列号", "绑定手机令牌");
                    return
                }
                if (t.length != 16 || isNaN(t)) {
                    alertTip("您输入的序列号有误，请重新输入", "绑定手机令牌");
                    return
                }
                ctx.postTokenEx({
                    url: "/Member/MemberBindSerialNumber",
                    data: EnCryptJsonParams([o, t, b]),
                    beforeSend: function() {
                        MemberSecurity.IsSubmitBindSerialNumber = !0,
                        alertTip("正在处理中，请稍等...")
                    },
                    success: function(n) {
                        n.Success == !1 ? alertTip(n.Message, "绑定手机令牌失败") : (alertTip(n.Message, "绑定手机令牌成功"), i.tpuiDialog("_close"), MemberSecurity.clear_tpuiDialog(), home_hash_changed("membersecurity"))
                    },
                    complete: function() {
                        MemberSecurity.IsSubmitBindSerialNumber = !1
                    }
                })
            } else if (r.attr("id") == "submitChangeBindSerialNumber") {
                if (MemberSecurity.IsSubmitBindSerialNumber) {
                    alertTip("正在处理中，请稍等...");
                    return
                }
                var o = $("#txtSNFundPass2").val().trim(),
                p = $("#txtSNVerCode2").val().trim(),
                t = $("#txtSerialNumber2").val().trim().replaceAll("-", ""),
                b = $("input:radio[name=SNMobileType2]:checked").val();
                if (!o) {
                    alertTip("请先输入资金密码", "更改绑定手机令牌");
                    return
                }
                if (!p) {
                    alertTip("请先输入原手机安全中心验证码", "更改绑定手机令牌");
                    return
                }
                if (!t) {
                    alertTip("请先输入新的手机安全中心序列号", "更改绑定手机令牌");
                    return
                }
                if (t.length != 16 || isNaN(t)) {
                    alertTip("您输入的序列号有误，请重新输入", "更改绑定手机令牌");
                    return
                }
                ctx.postTokenEx({
                    url: "/Member/MemberChangeBindSerialNumber",
                    data: EnCryptJsonParams([o, t, b, p]),
                    beforeSend: function() {
                        MemberSecurity.IsSubmitBindSerialNumber = !0,
                        alertTip("正在处理中，请稍等...")
                    },
                    success: function(n) {
                        n.Success == !1 ? alertTip(n.Message, "手机令牌绑定更改失败") : (alertTip(n.Message, "手机令牌绑定更改成功"), i.tpuiDialog("_close"), MemberSecurity.clear_tpuiDialog(), home_hash_changed("membersecurity"))
                    },
                    complete: function() {
                        MemberSecurity.IsSubmitBindSerialNumber = !1
                    }
                })
            } else r.attr("id") == "bindBankInfo" && (i.tpuiDialog("_close"), alertTip("正在跳转..."), MemberSecurity.clear_tpuiDialog(), home_hash_changed("membershowcarddetail"))
        })
    }),
    $("#divUnBindSNTaskInner").tpuiDialog({
        pushTo: "#tmpDialogWrap",
        width: 480,
        onClose: function() {
            $("#oldLoginPassword").val(null),
            $("#loginPassword").val(null),
            $("#reLoginPassword").val(null),
            $("#oldFundPassword").val(null),
            $("#fundPassword").val(null),
            $("#reFundPassword").val(null),
            $("#securityEmail").val(null),
            $("#emailVercode").val(null)
        }
    }),
    $("#aUnbindSerialNumber").unbind("click").bind("click",
    function() {
        $("#divUnBindSNTaskInner").tpuiDialog("_open")
    }),
    $("#submitUnBindSerialNumber").unbind("click").bind("click",
    function() {
        if (MemberSecurity.IsSubmitBindSerialNumber) {
            alertTip("正在处理中，请稍等...");
            return
        }
        var n = $("#txtSNFundPass3").val().trim(),
        t = $("#txtSNVerCode3").val().trim(),
        i = $("input:radio[name=SNUnBindResult]:checked").val();
        if (!n) {
            alertTip("请先输入资金密码", "解绑手机令牌");
            return
        }
        if (!t) {
            alertTip("请先输入手机安全中心序列号", "解绑手机令牌");
            return
        }
        ctx.postTokenEx({
            url: "/Member/MemberUnBindSerialNumber",
            data: EnCryptJsonParams([n, t, i]),
            beforeSend: function() {
                MemberSecurity.IsSubmitBindSerialNumber = !0,
                alertTip("正在处理中，请稍等...")
            },
            success: function(n) {
                n.Success == !1 ? alertTip(n.Message, "解绑手机令牌失败") : (alertTip(n.Message, "解绑手机令牌成功"), $("#divUnBindSNTaskInner").tpuiDialog("_close"), MemberSecurity.clear_tpuiDialog(), home_hash_changed("membersecurity"))
            },
            complete: function() {
                MemberSecurity.IsSubmitBindSerialNumber = !1
            }
        })
    }),
    $("#cancelUnBindSerialNumber").unbind("click").bind("click",
    function() {
        $("#divUnBindSNTaskInner").tpuiDialog("_close")
    })
},
function(n) {
    n.appModalDialog = function(t, i, r) {
        if (t) return this.time = new Date,
        this.isMethod = typeof t == "string",
        this.isMethod || (this.message = n.isPlainObject(t) ? t: this._options),
        this.message = this.isMethod ? n.extend({},
        this._options, {
            type: r || "default",
            message: t,
            buttons: i || null
        }) : n.extend({},
        this._options, t, {
            type: r || "default",
            buttons: i || null
        }),
        this._create(),
        this
    },
    n.appModalDialog.prototype = {
        _options: {
            type: "default",
            icon: !0,
            useTitle: "快彩消息",
            title: null,
            titleSub: null,
            message: null,
            buttons: null,
            onClose: n.noop
        },
        _create: function() {
            var t = this,
            i = "app-modal-dialog",
            r = this.struct || {};
            r.$uiThis = n("<div>").addClass(i).attr({
                title: t.message.useTitle,
                "data-icon": "message"
            }).append(this._inner()).tpuiDialog({
                autoOpen: !0,
                mask: !0,
                maskClose: !1,
                buttons: t.message.buttons,
                inAniName: "zoomInUp",
                outAniName: "zoomOutDown",
                onClose: function(n) {
                    t.message.onClose(),
                    n._close(!0)
                }
            })
        },
        _inner: function() {
            var t = this.message,
            i = "images/status/",
            r = ".png",
            n = "";
            if (n += '<div class="complete complete-' + t.type + '">', t.icon) {
                n += '<div class="complete-sub image"> <span>';
                switch (t.type) {
                case "danger":
                    n += '<img src="' + i + "fail" + r + '" alt="">';
                    break;
                case "success":
                    n += '<img src="' + i + "succes" + r + '" alt="">';
                    break;
                case "warning":
                    n += '<img src="' + i + "warning" + r + '" alt="">';
                    break;
                case "doubt":
                    n += '<img src="' + i + "message" + r + '" alt="">';
                    break;
                case "message":
                default:
                    n += '<img src="' + i + "message" + r + '" alt="">'
                }
                n += "</span> </div>"
            }
            return t.title && (n += '<div class="complete-sub title">', n += "<h2>" + t.title + "</h2>", t.titleSub && (n += "<h4>" + t.titleSub + "</h4>"), n += "</div>"),
            t.message && (n += '<div class="complete-sub description">' + t.message + "</div>"),
            n += "</div>"
        }
    },
    n.appAlert = function(t, i) {
        if (t) var r = new n.appModalDialog(t, {
            "确定": function(n) {
                n._close(!0)
            }
        },
        i || "warning")
    },
    n.appConfirm = function(t, i, r) {
        if (t) return i = n.isFunction(i) ? i: n.noop,
        new n.appModalDialog(t, {
            "取消": function(n) {
                n._close(!0),
                i(!1)
            },
            "确定": function(n) {
                n._close(!0),
                i(!0)
            }
        },
        r || "tips")
    },
    n.animateRun = {},
    n.animateRun.options = {
        animate: "animated flash",
        delay: 0,
        callBack: n.noop
    },
    n.fn.animateRun = function(t, i) {
        var e = typeof t == "string",
        u = n.animateRun.options,
        f = "webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",
        r = e ? n.extend(!0, {},
        u, {
            animate: t
        }) : n.extend(!0, {},
        u, t);
        return i && n.isFunction(i) && (r = n.extend(!0, r, {
            callBack: i
        })),
        this.each(function() {
            var i = this,
            t = n(this);
            if (r.delay) setTimeout(function() {
                t.addClass(r.animate).one(f,
                function() {
                    t.removeClass(r.animate),
                    r.callBack.apply(i)
                })
            },
            r.delay);
            else t.addClass(r.animate).one(f,
            function() {
                t.removeClass(r.animate),
                r.callBack.apply(i)
            })
        })
    },
    n.agentLogin = function() {
        if (n("#login-agent").get(0)) {
            var r = n(window),
            t = n("body"),
            u = n("#login-base"),
            s = n("#la-form"),
            f = n("#la-slideshow"),
            h = u.find(".operate-bar:first li"),
            e = n("#version-handle"),
            i = n("#version-inner"),
            o = n("#version-slideshow"),
            c = n("#repassword-pop");
            f.slideshowLite(),
            o.slideshowLite(),
            i.tpuiDialog({
                width: 500,
                height: 340,
                mask: !0
            });
            e.on({
                click: function(n) {
                    return n.preventDefault(),
                    i.tpuiDialog("_open"),
                    !1
                }
            });
            n("html").css({
                overflow: "hidden"
            }),
            t.tpuiLoading({
                autoOpen: !0,
                escape: !1,
                mask: !0,
                title: null
            });
            r.one("load.loginPanel",
            function() {
                t.tpuiLoading("_hide")
            });
            n("#agent-login-submit").click(function() {
                window.location.href = "user-agent.html"
            })
        }
    }
} (jQuery), hasSubmit = !1, Agent = [], Agent.CheckNumInput = function() {
    $("input[type=text]").live("change",
    function() {
        var t = $(this),
        i = t.val(),
        n;
        t.hasClass("myNumClass0") && (n = i.replace("-", ""), isNumber(i) ? t.hasClass("betting-multiple") ? n = isInt(i) ? parseInt(n * 1) : (n * 1).toFixed(2) : isInt(i) || (n = parseInt(n * 1)) : t.val(1), n * 1 == 0 && (n = 1), i != n && t.val(n), t.trigger("changekc"))
    })
},
Agent.init_control = function() {
    initMemberBaseControl()
},
Agent.GetAgentPartHtml = function(n, t, i) {
    GetPartHtml(n, t, i)
},
Agent.agent_home_hash_changed = function(n) {
    n || (n = "agenthall"),
    n = n.toLowerCase();
    var i = "Agent",
    r = {
        partial: 1
    },
    t = $("body"),
    u = "../{0}/{1}".replaceFormat([i, n]);
    n = n.split("?")[0],
    ctx.ajax({
        type: "GET",
        url: u,
        async: !1,
        data: r,
        beforeSend: function() {
            t.css("cursor", "wait").attr("title", "系统正为你奋力加载中..."),
            t.tpuiLoading("_show"),
            gl.loadingPage.show()
        },
        complete: function() {
            t.css("cursor", "default").attr("title", ""),
            t.tpuiLoading("_hide"),
            gl.loadingPage.hide()
        },
        success: function(t) {
            var i, r;
            t == "ajax_login" ? (_alert("您的登录已失效，请重新登录！登录失效的原因可能有：1.在其他地方登录;2.当前IP改变;3.网络不稳定."), location.href = "../default.htm") : ($("#main-body").html(t), i = $(".tp-ui-menu-base"), i.removeClass("tp-ui-active"), r = $("." + n + ">div"), r.addClass("tp-ui-active")),
            gl.title && $("title").html(gl.title)
        },
        error: function(n) {
            n.status == 500 || n.status == 403,
            $("#main-body").html(n.responseText)
        }
    })
},
Agent.init_Agent = function() {
    function n(radio) {
        var chart = $("#container").highcharts();
        chart.series[0].setData(eval("[" + radio.data("chartData") + "]")),
        chart.series[0].update({
            name: radio.parent().parent().html()
        },
        !1),
        chart.redraw()
    }
    Agent.init_control(),
    $(function() {
        $("#queryData").click()
    }),
    $("#queryData").die("click").live("click",
    function() {
        var t = $("body");
        ctx.postTokenEx({
            url: "../agent/GetAgentSumDetail",
            data: {
                begin: $(".startDateClass").val(),
                end: $(".endDateClass").val()
            },
            beforeSend: function() {
                t.css("cursor", "wait").attr("title", "系统正为你奋力加载中..."),
                t.tpuiLoading("_show")
            },
            complete: function() {
                t.css("cursor", "default").attr("title", ""),
                t.tpuiLoading("_hide")
            },
            success: function(data) {
                var i, dt;
                if (data.Count > 0) {
                    $("#betSum").html(data.DataSum.BetAmount),
                    $("#agBetSum").html(data.DataSum.AgBetAmount),
                    $("#netSum").html((data.DataSum.NetAmount + data.DataSum.ActivityAmount + data.DataSum.ReturnPointAmount).toFixed(2)),
                    $("#agNetSum").html((data.DataSum.AgNetAmount + data.DataSum.AGReturnPointAmount).toFixed(2)),
                    $("#bounsSum").html((data.DataSum.NetAmount + data.DataSum.BetAmount).toFixed(2)),
                    $("#agBounsSum").html((data.DataSum.AgNetAmount + data.DataSum.AgBetAmount).toFixed(2)),
                    $("#ActivitySum").html(data.DataSum.ActivityAmount),
                    $("#ActivityHBSum").html(data.DataSum.ActivityAmountHB),
                    $("#RechargeSum").html(data.DataSum.RechargeAmount),
                    $("#WithDrawSum").html(data.DataSum.WithdrawAmount),
                    $("#IncreaseSum").html(data.DataSum.IncreaseNum),
                    $("#BetReturnSum").html(data.DataSum.ReturnPointAmount.toFixed(2)),
                    $("#ProfitReturnSum").html(data.DataSum.FhAmount.toFixed(2)),
                    $("#AGBetReturnSum").html(data.DataSum.AGReturnPointAmount.toFixed(2)),
                    $("#AGProfitReturnSum").html(data.DataSum.AGFhAmount.toFixed(2)),
                    $("#TotalProfitReturnSum").html(data.DataSum.TotalFhAmount.toFixed(2));
                    var html = "",
                    betAmountData = "",
                    inCreaseNumData = "",
                    withDrawNumData = "",
                    rechargeData = "",
                    agentBetReturnData = "",
                    agentProfitReturnData = "";
                    for (agentBetReturnDataAG = "", agentProfitReturnDataAG = "", i = 0; i < data.DataDetails.length; i++) dt = eval("new " + eval(data.DataDetails[i].CreateTime).source),
                    html += "<tr>",
                    html += "<td><span>" + NetToJsDateTime(data.DataDetails[i].CreateTime, "yyyy-MM-dd") + "</span></td>",
                    html += "<td><span>" + data.DataDetails[i].IncreaseNum + "</span></td>",
                    html += "<td><span>" + data.DataDetails[i].WithdrawAmount + "</span></td>",
                    html += "<td><span>" + data.DataDetails[i].RechargeAmount + "</span></td>",
                    html += "<td><span>" + data.DataDetails[i].ActivityAmount + "</span></td>",
                    html += "<td><span>" + data.DataDetails[i].ActivityAmountHB + "</span></td>",
                    html += "<td><span>" + data.DataDetails[i].BetAmount + "</span></td>",
                    html += "<td><span>" + data.DataDetails[i].AgBetAmount + "</span></td>",
                    html += "<td><span>" + (data.DataDetails[i].NetAmount + data.DataDetails[i].ActivityAmount + data.DataDetails[i].ReturnPointAmount).toFixed(2) + "</span></td>",
                    html += "<td><span>" + (data.DataDetails[i].AgNetAmount + data.DataDetails[i].AGReturnPointAmount).toFixed(2) + "</span></td>",
                    html += "<td><span>" + data.DataDetails[i].ReturnPointAmount.toFixed(2) + "</span></td>",
                    html += "<td><span>" + data.DataDetails[i].AGReturnPointAmount.toFixed(2) + "</span></td>",
                    html += "</tr>",
                    betAmountData += "[Date.UTC(" + dt.getFullYear() + "," + dt.getMonth() + "," + dt.getDate() + ")," + data.DataDetails[i].BetAmount + "]",
                    inCreaseNumData += "[Date.UTC(" + dt.getFullYear() + "," + dt.getMonth() + "," + dt.getDate() + ")," + data.DataDetails[i].IncreaseNum + "]",
                    withDrawNumData += "[Date.UTC(" + dt.getFullYear() + "," + dt.getMonth() + "," + dt.getDate() + ")," + data.DataDetails[i].WithdrawAmount + "]",
                    rechargeData += "[Date.UTC(" + dt.getFullYear() + "," + dt.getMonth() + "," + dt.getDate() + ")," + data.DataDetails[i].RechargeAmount + "]",
                    agentBetReturnData += "[Date.UTC(" + dt.getFullYear() + "," + dt.getMonth() + "," + dt.getDate() + ")," + data.DataDetails[i].ReturnPointAmount + "]",
                    agentBetReturnDataAG += "[Date.UTC(" + dt.getFullYear() + "," + dt.getMonth() + "," + dt.getDate() + ")," + data.DataDetails[i].AGReturnPointAmount + "]",
                    i < data.DataDetails.length - 1 && (betAmountData += ",", inCreaseNumData += ",", withDrawNumData += ",", rechargeData += ",", agentBetReturnData += ",", agentBetReturnDataAG += ",");
                    $("#rBet").data("chartData", betAmountData),
                    $("#rWithDraw").data("chartData", withDrawNumData),
                    $("#rRecharge").data("chartData", rechargeData),
                    $("#rIncrease").data("chartData", inCreaseNumData),
                    $("#rBetReturn").data("chartData", agentBetReturnData),
                    $("#rAGBetReturn").data("chartData", agentBetReturnDataAG),
                    n($("input[name='radio-a'][checked]")),
                    $("#dataDetail").html(html)
                } else $("#rBet").data("chartData", ""),
                $("#rWithDraw").data("chartData", ""),
                $("#rRecharge").data("chartData", ""),
                $("#rIncrease").data("chartData", ""),
                $("#rBetReturn").data("chartData", ""),
                $("#rAGBetReturn").data("chartData", ""),
                $(".dataSum").html("0.00"),
                $("#dataDetail").html(""),
                n($("input[name='radio-a'][checked]"))
            }
        })
    }),
    $(".tpui-radio").change(function() {
        var t = $(this);
        n(t)
    })
},
Agent.init_AgentGenLink = function() {
    Agent.init_control(),
    $("#aAgent").click(function() {
        $(this).addClass("active"),
        $("#aMember").removeClass("active")
    }),
    $("#aMember").click(function() {
        $(this).addClass("active"),
        $("#aAgent").removeClass("active")
    }),
    $(function() {
        Agent.CreateLinkZeroClipboard("agentLinkUrl", "agentCopyLink", "linkarea1"),
        Agent.CreateLinkZeroClipboard("memberLinkUrl", "memberCopyLink", "linkarea2")
    }),
    $("#genLink").click(function() {
        if (hasSubmit) return ! 1;
        $("#genLink").css("cursor", "wait"),
        hasSubmit = !0;
        var n = {},
        t = $("#aAgent").hasClass("active") == !0 ? 1 : 0;
        n.linkType = t,
        ctx.postToken("../agent/GenLink", n,
        function(n) {
            var i = "../../api.weibo.com/2/short_url/shorten.json@source=5786724301&url_long=" + encodeURIComponent(n) + "";
            return ctx.ajax({
                url: i,
                type: "GET",
                dataType: "jsonp",
                cache: !1,
                success: function(n) {
                    hasSubmit = !1,
                    $("#genLink").css("cursor", "pointer"),
                    t == 0 ? $("#memberLinkUrl").val(n.data.urls[0].url_short) : $("#agentLinkUrl").val(n.data.urls[0].url_short),
                    alertTip("获取链接成功！")
                },
                error: function() {
                    hasSubmit = !1,
                    $("#genLink").css("cursor", "pointer"),
                    alert("链接生成失败,请重试!")
                }
            }),
            !1
        })
    })
},
Agent.CreateLinkZeroClipboard = function(n, t, i) {
    var r = new ZeroClipboard.Client;
    r.setHandCursor(!0),
    r.addEventListener("load",
    function() {}),
    r.addEventListener("mouseOver",
    function() {
        r.setText($("#" + n).val())
    }),
    r.addEventListener("complete",
    function() {
        alertTip("复制成功！")
    }),
    r.glue(t, i)
},
Agent.init_ManageUrl = function(n) {
    function t(n, t) {
        var i = new ZeroClipboard.Client;
        i.setHandCursor(!0),
        i.addEventListener("load",
        function() {}),
        i.addEventListener("mouseOver",
        function() {
            i.setText($("#" + n).attr("data-url"))
        }),
        i.addEventListener("complete",
        function() {
            alert("复制成功！")
        }),
        i.glue(t, "linkarea")
    }
    Agent.init_control(),
    $(function() {
        $(".copyBtn").each(function() {
            var n = $(this);
            t(n.attr("data-id"), n.attr("Id"))
        }),
        $(".delBtn").click(function() {
            if (hasSubmit) return ! 1;
            $(".delBtn").css("cursor", "wait"),
            hasSubmit = !0;
            var t = $(this),
            n = $("body");
            ctx.postTokenEx({
                beforeSend: function() {
                    $("body").css("cursor", "wait"),
                    $("body").attr("title", "系统正为你奋力加载中..."),
                    n.tpuiLoading("_show")
                },
                complete: function() {
                    $("body").css("cursor", "default"),
                    $("body").attr("title", ""),
                    n.tpuiLoading("_hide")
                },
                url: "../agent/DelLink",
                data: {
                    linkId: t.attr("data-id")
                },
                success: function(n) {
                    $(".delBtn").css("cursor", "pointer"),
                    hasSubmit = !1,
                    alert(n),
                    $("#refreshData").click()
                }
            })
        })
    }),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")) + 1,
        r = $("#aAgent").hasClass("active") ? 1 : 0,
        i;
        if (t <= 0) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = {
            page: t,
            linkType: r,
            userName: $("#userName").val()
        },
        Agent.GetAgentPartHtml("../agent/manageLink", i)
    })
},
Agent.init_ManageCustomer = function(n, t, i) {
    Agent.init_control(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")) + 1,
        r = $("#aAgent").hasClass("active") ? 1 : 0,
        i;
        if (t <= 0) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = {
            page: t,
            userType: r,
            userName: $("#userName").val(),
            startPoint: $("#startPoint").val(),
            endPoint: $("#endPoint").val()
        },
        Agent.GetAgentPartHtml("../member/memberagentusermanager", i)
    }),
    $("div[id=dlg-AgentProfit]").closest("div.tp-ui-dialog").remove(),
    $("#dlg-AgentProfit").tpuiDialog({
        pushTo: "#tmpDialogWrap",
        width: 480,
        onClose: function() {}
    });
    $("input[name=dlgCloseBtn]").on("click",
    function() {
        var n = $(this).attr("dlg");
        $("#" + n).tpuiDialog("_close")
    });
    $("a.agent-user-opt").live("click",
    function() {
        var u, f, n, r;
        if ($(this).attr("_type") == "agprofit") n = $(this).closest("tr"),
        $("#dlg-AgentProfit").tpuiDialog("_open"),
        r = n.attr("uid"),
        $("#updateAgentProfitRpoint").attr("uid", r),
        u = $.trim(n.find("#agreturnPoint").html()),
        f = "(" + u + "-" + t + ")",
        $("#pfRadioValue").val(u).attr("min", u).attr("max", t).closest("label").find("h4").html(f);
        else {
            $("#dlg-returnPoint").tpuiDialog("_open"),
            n = $(this).closest("tr"),
            r = n.attr("uid"),
            $("#updateReturnPpoint").attr("uid", r);
            var e = $.trim(n.find("#curReturnPointVal").html()),
            o = e < 1930 ? 1930 : e,
            f = "(" + o + "-" + i + ")";
            $("#ReturnPointVal").val(e).attr("min", o).attr("max", i).closest("label").find("h4").html(f)
        }
        $("span[id=spanCurUserName]").html(n.find("td[name=uname]").find("a").html()),
        $("input.random-selection").tpuiNumber({
            type: "depart"
        })
    });
    $("#updateAgentProfitRpoint").on("click",
    function() {
        var n = parseFloat($("#pfRadioValue").val()),
        h = $(this).attr("dlg"),
        u = $("#updateAgentProfitRpoint").attr("uid"),
        i = 0,
        f = t,
        o = $("#data-list").find("tr[uid=" + u + "]");
        if (i = parseInt($.trim(o.find("#agreturnPoint").html())), n >= i && n <= f) {
            var e = {
                rp: n,
                uid: u
            },
            s = EnCryptJsonParams(e),
            r = $("div.tp-ui-item.tp-ui-loading.tp-ui-loading-base");
            ctx.postTokenEx({
                url: "../Member/UpdateAgProfitReturnPoint",
                data: s,
                beforeSend: function() {
                    r.show().parent().css({
                        "z-index": 99999
                    }).show()
                },
                success: function(t) {
                    if (t == "ok") {
                        alertTip("设置成功");
                        var i = $("#data-list").find("tr[uid=" + e.uid + "]");
                        i.find("#agreturnPoint").html(n),
                        $("div.tp-ui-mask").click()
                    } else alertTip(t);
                    r.parent().hide().prev().hide()
                },
                error: function() {
                    alertTip("网络异常，请刷新页面再操作"),
                    r.parent().hide()
                },
                complete: function() {}
            })
        } else {
            alertTip("分红比例值必须是介于" + i + "与" + f + "之间的数字");
            return
        }
    });
    $("div[id=dlg-returnPoint]").closest("div.tp-ui-dialog").remove(),
    $("#dlg-returnPoint").tpuiDialog({
        pushTo: "#tmpDialogWrap",
        width: 480,
        onClose: function() {}
    });
    $("#updateReturnPpoint").on("click",
    function() {
        var r = $(this).attr("uid"),
        t = parseFloat($.trim($("#ReturnPointVal").val())),
        i = {
            rp: t,
            uid: r
        },
        u = EnCryptJsonParams(i),
        n = $("div.tp-ui-item.tp-ui-loading.tp-ui-loading-base");
        ctx.postTokenEx({
            url: "../Member/UpdateReturnPoint",
            data: u,
            beforeSend: function() {
                n.show().parent().css({
                    "z-index": 99999
                }).show()
            },
            success: function(r) {
                if (r == "ok") {
                    alertTip("设置成功");
                    var u = $("#data-list").find("tr[uid=" + i.uid + "]");
                    u.find("#curReturnPointVal").html(t),
                    $("div.tp-ui-mask").click()
                } else alertTip(r);
                n.parent().hide().prev().hide()
            },
            error: function() {
                alertTip("网络异常，请刷新页面再操作"),
                n.parent().hide()
            },
            complete: function() {}
        })
    })
},
Agent.init_AgentCheck = function(n, t) {
    Agent.init_control(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")) + 1,
        i;
        if (t <= 0) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = {
            page: t,
            userType: 1,
            userName: $("#userName").val()
        },
        Agent.GetAgentPartHtml("../member/memberagentcheck", i)
    }),
    $("div[id=dlg-AgentProfit]").closest("div.tp-ui-dialog").remove(),
    $("#dlg-AgentProfit").tpuiDialog({
        pushTo: "#tmpDialogWrap",
        width: 480,
        onClose: function() {}
    });
    $("input[name=dlgCloseBtn]").on("click",
    function() {
        var n = $(this).attr("dlg");
        $("#" + n).tpuiDialog("_close")
    });
    $("a[name='agent-user-opt']").on("click",
    function() {
        var r = $(this).attr("_type"),
        i,
        n,
        o,
        s;
        if (r == "HasUpdated") alertTip("本考核周期内只能修改一次，请等下一周期再修改");
        else if (i = (new Date).getDate(), i <= 3 || i >= 16 && i <= 18) {
            n = $(this).closest("tr"),
            o = n.attr("uid"),
            $("#updateAgentProfitRpoint").attr("uid", o).attr("_type", r),
            $("#dlg-AgentProfit").tpuiDialog("_open"),
            $("#spanCurUserName").html(n.find("td[name=uname]").find("a").html()),
            $("#returnAmountVal").val($.trim(n.find("#abreturnAmount").html()));
            var u = $.trim(n.find("#apreturnPoint").html()),
            f = 0,
            e = t;
            r == "AgentProfitUp" ? f = u: e = u,
            s = "(" + f + "-" + e + ")",
            $("#pfRadioValue").val(u).attr("min", f).attr("max", e).closest("label").find("h4").html(s),
            $("input.random-selection").tpuiNumber({
                type: "depart"
            })
        } else alertTip("已经过了审核时间，请等待下一周期再调整")
    });
    $("#updateAgentProfitRpoint").on("click",
    function() {
        var n = parseInt($.trim($("#pfRadioValue").val())),
        v = $(this).attr("dlg"),
        e = $("#updateAgentProfitRpoint").attr("uid"),
        c = $("#updateAgentProfitRpoint").attr("_type"),
        r = 0,
        u = t > 20 ? 20 : t,
        l = $("#data-list").find("tr[uid=" + e + "]"),
        o = parseInt($.trim(l.find("#apreturnPoint").html())),
        i;
        if (c == "AgentProfitUp" ? r = o: u = o, n >= r && n <= u) if (i = $.trim($("#returnAmountVal").val()), $.isNumeric(i) && i.indexOf(".") == -1) {
            var s = parseInt(i),
            h = {
                type: 0,
                rp: n,
                uid: e,
                amount: s
            },
            a = EnCryptJsonParams(h),
            f = $("div.tp-ui-item.tp-ui-loading.tp-ui-loading-base");
            ctx.postTokenEx({
                url: "../Member/UpdateProfitReturnPoint",
                data: a,
                beforeSend: function() {
                    f.show().parent().css({
                        "z-index": 99999
                    }).show()
                },
                success: function(t) {
                    if (t == "ok") {
                        alertTip("设置成功");
                        var i = $("#data-list").find("tr[uid=" + h.uid + "]");
                        i.find("#abreturnAmount").html(s),
                        i.find("#apreturnPoint").html(n),
                        i.find("#spanBigAgent").html('<label class="agent-user-opt digg-tag dt-hold" title="分红比例及目标日量已修改，请等待下一周期再查看是否达标">-</label>'),
                        i.find("a.agent-user-opt").parent().html('<a name="agent-user-opt" _type="HasUpdated" class="digg-tag dt-hold" title="已修改，本周期内只能修改一次">已修改</a>'),
                        i.find("span[name=spanStatus]").html("已审核"),
                        $("div.tp-ui-mask").click()
                    } else alertTip(t);
                    f.parent().hide().prev().hide()
                },
                error: function() {
                    alertTip("网络异常，请刷新页面再操作"),
                    f.parent().hide()
                },
                complete: function() {}
            })
        } else {
            alertTip("目标日量的值必须是整数");
            return
        } else {
            alertTip("分红比例值必须是介于" + r + "与" + u + "之间的数字");
            return
        }
    })
},
Agent.init_ReturnSum = function(n) {
    Agent.init_control(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")) + 1,
        i;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (t <= 0) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = {
            page: t,
            begin: $("#begin").val(),
            end: $("#end").val()
        },
        Agent.GetAgentPartHtml("/agent/ReturnSum", i)
    })
},
Agent.init_BetReturn = function(n) {
    Agent.init_control(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")) + 1,
        i;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (t <= 0) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = {
            page: t,
            begin: $("#begin").val(),
            end: $("#end").val(),
            userName: $("#userName").val(),
            returnType: $("#returnType").val()
        },
        Agent.GetAgentPartHtml("/agent/BetReturn", i)
    })
},
Agent.init_ProfitReturn = function(n) {
    Agent.init_control(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")) + 1,
        i;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (t <= 0) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = {
            page: t,
            begin: $("#begin").val(),
            end: $("#end").val()
        },
        Agent.GetAgentPartHtml("/agent/ProfitReturn", i)
    })
},
Agent.init_AgentWithdraw = function(n) {
    Agent.init_control(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")) + 1,
        i;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (t <= 0) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = {
            page: t,
            begin: $("#begin").val(),
            end: $("#end").val()
        },
        Agent.GetAgentPartHtml("/agent/AgentWithdraw", i)
    })
},
Agent.init_BetReturnDetail = function(n) {
    Agent.init_control(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")) + 1,
        i;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (t <= 0) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = {
            page: t,
            begin: $("#begin").val(),
            end: $("#end").val(),
            userName: $("#userName").val(),
            lotteryCode: $("#lotteryCode").val()
        },
        Agent.GetAgentPartHtml("/agent/BetReturnDetail", i)
    })
},
Agent.init_ProfitReturnDetail = function(n) {
    Agent.init_control(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var r = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")) + 1,
        i,
        t;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (r <= 0) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = $("#queryForm").get(0),
        t = document.createElement("input"),
        t.setAttribute("type", "hidden"),
        t.setAttribute("value", r),
        t.setAttribute("name", "page"),
        i.appendChild(t),
        i.submit()
    })
},
Agent.init_BetRecord = function(n) {
    Agent.init_control(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")),
        i,
        r;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0 || n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (t <= 0) return alertTip("当前已经是第一页!"),
        !1;
        i = {
            page: t,
            begin: $("#begin").val(),
            end: $("#end").val(),
            userName: $("#userName").val(),
            lotteryCode: $("#lotteryCode").val(),
            hasRunLottery: $("#hasRunLottery").val(),
            hasWin: $("#hasWin").val()
        },
        r = window.location.hash.toLowerCase().indexOf("memberagentbetrecordex") != -1 ? "memberagentbetrecordex": "memberagentbetrecord",
        Agent.GetAgentPartHtml("/member/" + r, i)
    })
},
Agent.init_AgBetRecord = function(n) {
    Agent.init_control(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")) + 1,
        i,
        r;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (t <= 0 && $(this).text().trim().indexOf("查询") == -1) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = {
            page: t,
            billNo: $("#billNo").val(),
            userName: $("#userName").val(),
            gameType: $("#gameType").val(),
            begin: $("#begin").val(),
            end: $("#end").val()
        },
        r = window.location.hash.toLowerCase().indexOf("memberagentagbetrecordex") != -1 ? "memberagentagbetrecordex": "memberagentagbetrecord",
        Agent.GetAgentPartHtml("/member/" + r, i)
    })
},
Agent.init_RechargeRecord = function(n) {
    Agent.init_control(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")),
        i,
        r;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (t <= 0) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = {
            page: t,
            begin: $("#begin").val(),
            end: $("#end").val(),
            userName: $("#userName").val()
        },
        r = window.location.hash.toLowerCase().indexOf("memberagentrechargerecordex") != -1 ? "memberagentrechargerecordex": "memberagentrechargerecord",
        Agent.GetAgentPartHtml("/member/" + r, i)
    })
},
Agent.init_WithDrawRecord = function(n) {
    Agent.init_control(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")),
        i,
        r;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (t <= 0) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = {
            page: t,
            begin: $("#begin").val(),
            end: $("#end").val(),
            userName: $("#userName").val()
        },
        r = window.location.hash.toLowerCase().indexOf("memberagentwithdrawrecordex") != -1 ? "memberagentwithdrawrecordex": "memberagentwithdrawrecord",
        Agent.GetAgentPartHtml("/member/" + r, i)
    })
},
Agent.init_AgentProfitPointTransform = function() {
    Agent.init_control(),
    $("#transform").click(function() {
        var n, t;
        if (hasSubmit) return ! 1;
        if ($("#transform").css("cursor", "wait"), hasSubmit = !0, n = $("#transformPoint").val(), n == "" || isNaN(n)) return $("#transform").css("cursor", "pointer"),
        hasSubmit = !1,
        alertTip("提现金额必须为数字！"),
        !1;
        t = $("body"),
        ctx.postTokenEx({
            url: "/agent/TransformPoint",
            data: {
                transformPoint: n
            },
            beforeSend: function() {
                $("body").css("cursor", "wait"),
                $("body").attr("title", "系统正为你奋力加载中..."),
                t.tpuiLoading("_show")
            },
            complete: function() {
                $("body").css("cursor", "default"),
                $("body").attr("title", ""),
                t.tpuiLoading("_hide")
            },
            success: function(n) {
                $("#transform").css("cursor", "pointer"),
                hasSubmit = !1,
                alertTip(n),
                window.location.href = "/agent#agentprofitpointtransform"
            }
        })
    })
},
Agent.init_UserProfit = function(n) {
    Agent.init_control(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")) + 1,
        i;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (t <= 0 && $(this).text().trim().indexOf("查询") == -1) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = {
            page: t,
            userName: $("#userName").val(),
            begin: $("#begin").val(),
            end: $("#end").val()
        },
        Agent.GetAgentPartHtml("/agent/userprofit", i)
    })
},
Agent.init_SummaryProfit = function(n, t) {
    Agent.init_control();
    var r = 1,
    i = $("#reportType>a"),
    u = $("input.GetDataByPageIndex");
    i.bind("click",
    function() {
        i.removeClass("active"),
        $(this).addClass("active"),
        AgentIsFather = 1,
        u.trigger("click")
    }),
    i.removeClass("active"),
    i.filter("[reportType=" + t + "]").addClass("active"),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")),
        u,
        f;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (t <= 0 && $(this).text().trim().indexOf("查询") == -1) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        r = AgentIsFather,
        $(this).attr("username") == AgentServerUserName && (r = 0),
        typeof $(this).attr("Pid") != "undefined" && (AgentAgPid = $(this).attr("Pid"), r = 0),
        u = i.filter(".active").attr("reportType"),
        f = {
            page: t + 1,
            rows: 15,
            userName: $("#userName").val(),
            begin: $("#begin").val(),
            end: $("#end").val(),
            isFather: r,
            reportType: u,
            Pid: AgentAgPid
        },
        Agent.GetAgentPartHtml("/member/MemberAgentSummaryReport", f, $("#memberSideBarId .mainbody"))
    })
},
Agent.init_LotteryDividend = function(n) {
    Agent.init_control();
    var t = 1;
    $(".GetDataByPageIndex").bind("click",
    function() {
        var i = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")),
        r;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (i <= 0 && $(this).text().trim().indexOf("查询") == -1) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (t = AgentIsFather, $(this).attr("username") == AgentLdServerUserName && (t = 0), $(this).attr("username") != AgentLdServerUserName && $(this).attr("GetChild") == 1) return alertTip("无法查看下级!"),
        !1;
        r = {
            page: i + 1,
            rows: 15,
            isFather: t
        },
        Agent.GetAgentPartHtml("/member/memberagentlotterydividendreport", r, $("#memberSideBarId .mainbody"))
    })
},
Agent.init_AgDividend = function(n) {
    Agent.init_control();
    var t = 1;
    $(".GetDataByPageIndex").bind("click",
    function() {
        var i = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")),
        r;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (i <= 0 && $(this).text().trim().indexOf("查询") == -1) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        t = AgentIsFather,
        $(this).attr("username") == AgentAgServerUserName && (t = 0),
        typeof $(this).attr("Pid") != "undefined" && (AgentAgPid = $(this).attr("Pid"), t = 0),
        r = {
            page: i + 1,
            rows: 15,
            isFather: t,
            Pid: AgentAgPid
        },
        Agent.GetAgentPartHtml("/member/MemberAgentAGDividendReport", r, $("#memberSideBarId .mainbody"))
    })
},
AgentApply = [], AgentApply.AgentMode = 0, AgentApply.AgentProfitReturnPoint = 0, AgentApply.LinkType = 1, AgentApply.IsSubmitApplying = !1, AgentApply.IsSubmitDeleting = !1, AgentApply.init_OpenAccount = function() {
    AgentApply.initMemberBaseControl(),
    $("#newUserName").blur(function() {
        var n = $("#newUserName").val();
        if (!n) return ! 1;
        ctx.postTokenEx({
            url: "/Member/CheckNewLoginName",
            data: EnCryptJsonParams([n]),
            success: function(n) {
                n.Success == !1 && alertTip("用户名已被使用，请重新输入")
            }
        })
    }),
    $("#submitApplyButton").die("click").bind("click",
    function() {
        var n, i, r, t;
        if (AgentApply.IsSubmitApplying) return alertTip("正在处理中，请稍等..."),
        !1;
        if (n = [$("#selUserType").val(), $.trim($("#newUserName").val()), $.trim($("#newUserPassword").val()), $("#ReturnPoint").val(), $("#AGProfitReturnPoint").val(), $("#ProfitReturnPoint").val(), $("#TargetQuantity").val()], n[1]) {
            if (i = /^[A-Za-z][A-Za-z0-9_]{3,15}$/, r = n[1].match(i), r == null) return alertTip("用户名长度应为4-16位数字，字母，下划线且必须为字母开头"),
            !1
        } else return alertTip("请先填写用户名"),
        !1;
        if (n[2]) {
            if (n[2].length < 6 || n[2].length > 12) return alertTip("密码长度应为6-12位小写字母数字符号组合"),
            !1
        } else return alertTip("请先填写密码"),
        !1;
        if (!n[3]) return alertTip("请先填写返点"),
        !1;
        if (t = parseInt(n[3]), t == 0 || t % 2 != 0) return alertTip("返点填写有误，必须为偶数，如1930,1932,1934"),
        !1;
        n[4] = "",
        n[5] = "",
        n[6] = "",
        ctx.postTokenEx({
            url: "/Member/SubmitAgentApplyOpenAccount",
            data: EnCryptJsonParams(n),
            beforeSend: function() {
                AgentApply.IsSubmitApplying = !0,
                $("#submitApplyButton").css("cursor", "wait"),
                alertTip("正在处理中，请稍等...")
            },
            success: function(n) {
                if (n.Success) var t = new $.appModalDialog("手工开户成功:" + n.Message, {
                    "确定": function(n) {
                        n._close(!0),
                        home_hash_changed("MemberAgentApplyOpenAccount")
                    }
                },
                "success");
                else alertTip(n.Message ? n.Message: "手工开户失败，请稍后再试")
            },
            error: function() {
                alertTip("手工开户失败，请稍后再试")
            },
            complete: function() {
                AgentApply.IsSubmitApplying = !1,
                $("#submitApplyButton").css("cursor", "pointer")
            }
        })
    })
},
AgentApply.init_LinkOpenAccount = function() {
    AgentApply.initMemberBaseControl(),
    $("#submitLinkButton").die("click").bind("click",
    function() {
        if (AgentApply.IsSubmitApplying) return alertTip("正在处理中，请稍等..."),
        !1;
        var n = [$("#selUserType").val(), $("#selLinkExp").val(), $("#ReturnPoint").val(), $("#Remark").val()],
        t = parseInt(n[2]);
        if (t == 0 || t % 2 != 0) return alertTip("返点填写有误，必须为偶数，如1930,1932,1934"),
        !1;
        ctx.postTokenEx({
            url: "/Member/SubmitAgentApplyLink",
            data: EnCryptJsonParams(n),
            beforeSend: function() {
                AgentApply.IsSubmitApplying = !0,
                $("#submitLinkButton").css("cursor", "wait"),
                alertTip("正在处理中，请稍等...")
            },
            success: function(n) {
                n.Success ? (alertTip("链接开户成功"), home_hash_changed("MemberAgentApplyLink")) : alertTip(n.Message ? n.Message: "链接开户失败，请稍后再试")
            },
            error: function() {
                alertTip("链接开户失败，请稍后再试")
            },
            complete: function() {
                AgentApply.IsSubmitApplying = !1,
                $("#submitLinkButton").css("cursor", "pointer")
            }
        })
    })
},
AgentApply.init_ManageUrl = function(n) {
    AgentApply.initMemberBaseControl(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")),
        r = AgentApply.LinkType,
        i;
        if (t < 0) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = [t, r],
        GetPartHtml("/Member/MemberAgentApplyLinkManage", i)
    }),
    $(".copyBtn").each(function() {
        var n = $(this);
        AgentApply.createLinkZeroClipboard(n.attr("data-id"), n.attr("Id"))
    }),
    $(".delBtn").click(function() {
        if (AgentApply.IsSubmitDeleting) return alertTip("正在处理中，请稍等..."),
        !1;
        var n = {
            linkId: $(this).attr("data-id")
        };
        window.confirm("确认删除吗？",
        function(t) {
            if (t) {
                var i = $("body");
                ctx.postTokenEx({
                    url: "/Member/SubmitDelLink",
                    data: n,
                    beforeSend: function() {
                        AgentApply.IsSubmitDeleting = !0,
                        $(".delBtn").css("cursor", "wait"),
                        $("body").attr("title", "系统正为你奋力加载中..."),
                        i.tpuiLoading("_show")
                    },
                    success: function(n) {
                        alert(n),
                        $("#refreshData").click()
                    },
                    complete: function() {
                        $(".delBtn").css("cursor", "pointer"),
                        $("body").attr("title", ""),
                        i.tpuiLoading("_hide"),
                        AgentApply.IsSubmitDeleting = !1
                    }
                })
            }
        })
    })
},
AgentApply.initMemberBaseControl = function() {
    var t = $(".data-table-option"),
    i = $(".table"),
    r = $(".tab-base"),
    n = $(".forms-table"),
    u = $(".kc-calendar");
    n.find(".tpui-text").tpuiText(),
    n.find(".tpui-radio").tpuiRadio(),
    n.find(".tpui-select").tpuiSelect(),
    n.find(".tpui-button").tpuiButton(),
    t.find(".tpui-text").tpuiText(),
    t.find(".tpui-button").tpuiButton(),
    t.find(".tpui-select").tpuiSelect(),
    i.find(".tpui-checkbox").tpuiCheckbox(),
    $("input.random-selection").tpuiNumber({
        type: "depart"
    })
},
AgentApply.createLinkZeroClipboard = function(n, t) {
    var i = new ZeroClipboard.Client;
    i.setHandCursor(!0),
    i.addEventListener("load",
    function() {}),
    i.addEventListener("mouseOver",
    function() {
        i.setText($("#" + n).attr("data-url"))
    }),
    i.addEventListener("complete",
    function() {
        alertTip("复制成功！")
    }),
    i.glue(t, "linkarea")
},
MemberTransfer = [], MemberTransfer.PreLoginName = "", MemberTransfer.GamePoint = 0, MemberTransfer.IsTransferSubmiting = !1, MemberTransfer.init_MemberTransfer = function() {
    MemberTransfer.initMemberBaseControl();
    var n = FormatNumber(MemberTransfer.GamePoint, 2);
    $("#spanGamePoint").html("&yen; " + n + " 元"),
    $("#spanGamePoint2").html(n),
    $(".tpui-radio").change(function() {
        var n = $("input:radio[name=TransferType]:checked").val();
        n == 0 ? $("#divReceiverUserNameRow,#divTransferModeRow").hide() : $("#divReceiverUserNameRow,#divTransferModeRow").show()
    }),
    $("#btnTransferConfirm").unbind("click").bind("click",
    function() {
        var r = $("input:radio[name=TransferType]:checked").val(),
        u = $("input:radio[name=TransferMode]:checked").val(),
        n = "",
        i,
        t;
        if (r == 0) {
            if (n = MemberTransfer.PreLoginName, !n) return alertTip("您没有直接上级无法转账", "转账"),
            !1
        } else if (n = $("#txtReceiverUserName").val(), !n) return alertTip("请先填写收账用户名", "转账"),
        !1;
        if ($("#spanReceiverUserName").html(n), $("#spanReceiverUserName").attr("TransferType", r), $("#spanReceiverUserName").attr("TransferMode", u), $("#spanReceiverUserName").attr("ReceiverUserName", n), $("#spanReceiverUserName2").html(n), $("#txtTransferAmount").val() <= 0) return alertTip("请先填写转账金额", "转账"),
        !1;
        i = parseFloat($("#txtTransferAmount").val()).toFixed(2),
        $("#spanTransferAmount").html(i + "元"),
        $("#spanTransferAmount").attr("TransferAmount", i),
        t = $("#txtTransferMark").val(),
        t && t.length > 26 ? $("#spanTransferMark").html(t.substring(0, 25) + "...") : $("#spanTransferMark").html(t),
        $("#spanTransferMark").attr("Mark", t),
        $("#txtFundPassword").val(""),
        $("#txtVerCode").val(""),
        $("#transfer-confirm").tpuiDialog("_open")
    }),
    $("#btnTransferSubmit").unbind("click").bind("click",
    function() {
        var i;
        if (MemberTransfer.IsTransferSubmiting) return alert("正在处理中，请稍等..."),
        !1;
        var r = $("#spanReceiverUserName").attr("TransferType"),
        u = $("#spanReceiverUserName").attr("TransferMode"),
        f = $("#spanReceiverUserName").attr("ReceiverUserName"),
        e = $("#spanTransferAmount").attr("TransferAmount"),
        n = $("#txtFundPassword").val(),
        t = $("#txtVerCode").val(),
        o = $("#spanTransferMark").attr("Mark");
        if (!n) return alertTip("请先输入资金密码", "确认转账"),
        !1;
        if (!t) return alertTip("请先输入手机安全中心验证码", "确认转账"),
        !1;
        i = [r, f, e, n, t, o, u],
        ctx.postTokenEx({
            url: "/Member/SubmitTransferAccount",
            data: EnCryptJsonParams(i),
            beforeSend: function() {
                MemberTransfer.IsTransferSubmiting = !0,
                $("#btnTransferSubmit").css("cursor", "wait"),
                alertTip("正在处理中，请稍等...")
            },
            success: function(n) {
                n.Success ? (alertTip(n.Message), $("#transfer-confirm").tpuiDialog("_close"), home_hash_changed("MemberTransfer"), RefreshUserAgPoint()) : alertTip(n.Message ? n.Message: "转账失败，请稍后再试"),
                MemberTransfer.IsTransferSubmiting = !1
            },
            error: function() {
                MemberTransfer.IsTransferSubmiting = !1,
                alertTip("手工开户失败，请稍后再试")
            },
            complete: function() {
                MemberTransfer.IsTransferSubmiting = !1,
                $("#btnTransferSubmit").css("cursor", "pointer")
            }
        })
    })
},
MemberTransfer.init_MemberTransferDetail = function(n) {
    MemberTransfer.initMemberBaseControl(),
    $(".GetDataByPageIndex").bind("click",
    function() {
        var t = parseInt($(this).attr("page_index")) + parseInt($(this).attr("page_change")),
        i;
        if (n == "0" && $(this).text().trim().indexOf("最后页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        if (t < 1 && $(this).text().trim().indexOf("查询") == -1) return alertTip("当前已经是第一页!"),
        !1;
        if (n == "0" && $(this).text().trim().indexOf("下一页") >= 0) return alertTip("当前已经是最后一页!"),
        !1;
        i = [t, $("#BeginDate").val(), $("#EndDate").val(), $("#transferType").val(), $("#transferMode").val()],
        GetPartHtml("/Member/MemberTransferDetail", i)
    })
},
MemberTransfer.initMemberBaseControl = function() {
    var t = $(".data-table-option"),
    i = $(".table"),
    u = $(".tab-base"),
    n = $(".forms-table"),
    r = $(".kc-calendar");
    n.find(".tpui-text").tpuiText(),
    n.find(".tpui-radio").tpuiRadio(),
    n.find(".tpui-select").tpuiSelect(),
    n.find(".tpui-button").tpuiButton(),
    t.find(".tpui-text").tpuiText(),
    t.find(".tpui-button").tpuiButton(),
    t.find(".tpui-select").tpuiSelect(),
    i.find(".tpui-checkbox").tpuiCheckbox(),
    r.cxCalendar({
        type: "YYYY-MM-DD"
    }),
    $("#txtTransferAmount").tpuiNumber(),
    $("#transfer-confirm").tpuiDialog({
        pushTo: "#tmpDialogWrap",
        width: 520,
        scrollLock: !0,
        onClose: function() {
            $("#spanReceiverUserName").html(""),
            $("#spanReceiverUserName2").html(""),
            $("#spanTransferAmount").html("0元"),
            $("#txtPassword").val(""),
            $("#txtVerCode").val("")
        }
    })
}