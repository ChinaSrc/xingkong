!function(t,e,a){var n={};n.cacheData={},n.currentGame=null,n.currentGameTypes=null,n.currentGameStatistics=null,n.currentGameOrder=null,n.currentGameTrace=null,n.currentGameSubmit=null,n.currentGameMessage=null,n.currentGamePlan=null,n.getCurrentGame=function(){return n.currentGame},n.setCurrentGame=function(t){n.currentGame=t},n.getCurrentGameTypes=function(){return n.currentGameTypes},n.setCurrentGameTypes=function(t){n.currentGameTypes=t},n.getCurrentGameStatistics=function(){return n.currentGameStatistics},n.setCurrentGameStatistics=function(t){n.currentGameStatistics=t},n.getCurrentGameOrder=function(){return n.currentGameOrder},n.setCurrentGameOrder=function(t){n.currentGameOrder=t},n.getCurrentGameTrace=function(){return n.currentGameTrace},n.setCurrentGameTrace=function(t){n.currentGameTrace=t},n.getCurrentGameSubmit=function(){return n.currentGameSubmit},n.setCurrentGameSubmit=function(t){n.currentGameSubmit=t},n.getCurrentGameMessage=function(){return n.currentGameMessage},n.setCurrentGameMessage=function(t){n.currentGameMessage=t},n.getCurrentGamePlan=function(){return n.currentGamePlan},n.setCurrentGamePlan=function(t){n.currentGamePlan=t},t.Games=n}(phoenix),function(t,e,a,n){var i={name:"",basePath:"game/default.htm",baseNamespace:"phoenix.Games.",dynamicConfigUrl:"newgame_play.shtml",eventProxyPanel:"body",requestLastBallUrl:"newgame_play.shtml"},r=t.Games,l=function(t){for(var e,a=$.trim(t).split("&"),n=0,i=a.length,r={};n<i;n++)e=a[n].split("="),e.length>0&&(2==e.length?r[e[0]]=e[1]:r[e[0]]="");return r},o=!1,s=!1,c={init:function(t){var e=this,a=r.getCurrentGameMessage();e.setName(t.name),e.currentNumber="",r.setCurrentGame(e),e.loadedHas={},e.currentGameMethod=null,e.dynamicConfig=null,e.addEvent("afterSwitchGameMethod",function(){r.getCurrentGame().getCurrentGameMethod().reSet();r.getCurrentGame().getCurrentGameMethod().getGameMethodName();r.getCurrentGameStatistics().setMultipleLimit(999999999),r.getCurrentGame().getCurrentGameMethod().updataGamesInfo()}),e.addEvent("changeDynamicConfig",function(){e.updateDynamicConfig()}),e.addEvent("afterSwitchGameMethod",function(){a=r.getCurrentGameMessage(),o=!1,s=!1,a.hide()}),e.addEvent("beforeSwitchGameMethod",function(){a=r.getCurrentGameMessage(),s=!0,setTimeout(function(){s&&a.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle;font-size:16px;"><em class="icon-spinner icon-spin icon-large mr10"></em> 正在配置玩法，请稍后 。</div>',"</div>","</div>"].join("")})},600)})},getMaxMultipleLimit:function(t){var e=t||r.getCurrentGame().getCurrentGameMethod().getGameMethodName(),a=r.getCurrentGame().getDynamicConfig().gamelimit;return Number(a[e].maxmultiple)},getDynamicConfigUrl:function(){return"newgame_play.shtml"},systemInitNotice:function(){r.getCurrentGameMessage().show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle;font-size:16px;"><em class="icon-spinner icon-spin icon-large mr10"></em> 页面加载中，请稍后 。</div>',"</div>","</div>"].join("")})},setBalanceValue:function(t){this.setDynamicConfig({balance:t})},getBalance:function(){this.getDynamicConfig().balance},getBalanceFormServer:function(){var t=this;$.ajax({url:t.getDynamicConfigUrl()+"@tag=getuserbalance",cache:!1,dataType:"JSON",success:function(e){1==Number(e.isSuccess)&&t.setBalanceValue(e.availablebalance)}})},getCurrentMid:function(){return window.GamesInitData.curmid},getServerDynamicConfig:function(t){var e=this,a=(e.defConfig,e.getName(),l(window.location.href.replace(/^.*?\?/,"")).curmid.replace(/\D/g,"")),n=(new Date).getTime();$.ajax({url:e.getDynamicConfigUrl()+"@curmid="+a+"&flag=dynamicConfig&tag="+n,dataType:"JSON",cache:!1,success:function(a){1==Number(a.isSuccess)&&(e.setDynamicConfig(a.data),$.isFunction(t)&&t.call(e,a.data))}})},getDynamicConfig:function(){return this.dynamicConfig},setDynamicConfig:function(t){var e=this;t.curmid=e.getCurrentMid(),this.dynamicConfig=$.extend(!0,this.dynamicConfig,t),this.fireEvent("changeDynamicConfig",t)},addDynamicBonus:function(t,e){void 0!==this.dynamicConfig.gamelimit&&void 0!==this.dynamicConfig.gamelimit[t]&&(this.dynamicConfig.gamelimit[t].usergroupmoney=e)},delCurrentPeriod:function(t){for(var e=this,a=t||e.getDynamicConfig(),n=a.gamenumbers||[],i=n.length-1;i>=0;i--)if($.trim(n[i].number)==$.trim(a.number)){n.splice(i,1);break}},updateDynamicConfig:function(){var t=this,e=t.getDynamicConfig();e.lastballs.split(",");if(1==e.isstop)return void setTimeout(function(){phoenix.Games.getCurrentGameMessage().show({type:"lotteryClose",data:{tplData:{lotterys:[1,2,3,4,5,6],lotteryName:"shishicai",lotteryPeriods:"20130528-276",orderDate:{year:"2013",month:"5",day:"3",hour:"1",min:"30"},lotteryType:[{name:"leli",pic:"#",url:"../163.com"},{name:"kuaile8",pic:"#",url:"../pp158.com"}]}}})},1e3);t.setCurrentNumber(e.number),r.cacheData={}},eventProxy:function(){var t=this,e=t.defConfig,a=$(e.eventProxyPanel);a.click(function(e){var a,n,i=e.target.getAttribute("data-param");i&&""!=$.trim(i)&&(e.preventDefault(),a=l(i),(n=t.getCurrentGameMethod())&&n.exeEvent(a,e.target))})},startGetBetBall:function(){var t=this;setTimeout(function(){t.startGetBetBallProcess=setInterval(function(){t.getCurrentTimeBall()},4e4),t.getCurrentTimeBall()},1e3)},stopGetBetBall:function(){var t=this;clearInterval(t.startGetBetBallProcess),t.startGetBetBallProcess=null},getCurrentTimeBall:function(t){var e=this;e.lastRequest&&e.lastRequest.abort(),e.lastRequest=$.ajax({url:e.defConfig.requestLastBallUrl+"@curmid="+e.getCurrentMid()+"&flag=getopencodes",dataType:"json",async:!1,cache:!1,success:function(a){1==Number(a.isSuccess)&&(e.fireEvent("afterGetLastBall",a),a.period.replace(/-/g,"")==Number(e.getDynamicConfig().number.replace(/-/g,""))-1&&(t&&t(),e.fireEvent("afterSuccessGetLastBall",a)))}})},getGameMethodByName:function(t){var e=this;e.loadedHas;if(e.hasOwnProperty(t)&&e[t]&&$.isArray(e[t].balls)&&$.isFunction(e[t].hide))return e[t]},switchGameMethod:function(t){var e,a,n=this;n.loadedHas;if(!o){o=!0,n.fireEvent("beforeSwitchGameMethod");for(e in n)n.getGameMethodByName(e)&&(e!=t?n[e].hide():(n[e].show(),n.currentGameMethod=n[e],n.fireEvent("afterSwitchGameMethod",t)));n.getGameMethodByName(t)||n.setup(t,function(){a=n.getGameMethodByName(t),a.show(),n.currentGameMethod=a,n.fireEvent("afterSwitchGameMethod",t)})}},getCurrentGameMethod:function(){return this.currentGameMethod},setup:function(t,e){var a,n=this,i=n.buildPath(t),r=function(){};a=arguments.length>0?arguments[arguments.length-1]:r,$.isFunction(a)||(a=r),n.isSetuped(t)||$.ajax({url:i,type:"GET",cache:!0,dataType:"script",success:function(){n.loadedHas[i]=!0,a.call(n)},error:function(t,e){alert("资源加载失败\n"+i+"\n错误类型："+e)}})},buildPath:function(t){var e=this;return e.defConfig.basePath+e.defConfig.baseNamespace+t+".js"},isSetuped:function(t){var e=this,a=e.loadedHas,n=e.buildPath(t);return a.hasOwnProperty(n)},setSetuped:function(t,e,a){},getGameConfig:function(){},getName:function(){return this.name},setName:function(t){this.name=t},setCurrentNumber:function(t){this.currentNumber=t},getCurrentNumber:function(){return this.currentNumber},editSubmitData:function(t){return t},parseBallData:function(e,a){var n=t.Games,i={},l=[],o=[],s=n.getCurrentGameOrder();l=a.split("_");for(var c=l.length-1;c>=0;c--){o=[],singel=l[c].split("-");for(var u=singel.length-1;u>=0;u--)o.push(singel[u].split(""));i={type:e,original:o,lotterys:o,moneyUnit:r.getCurrentGameStatistics().getMoneyUnit(),multiple:r.getCurrentGameStatistics().getMultip(),onePrice:r.getCurrentGameStatistics().getOnePrice(),num:o.length},i.amountText=r.getCurrentGameStatistics().formatMoney(i.num*i.moneyUnit*i.multiple*i.onePrice),s.add(i)}},parseDataFormUrl:function(){var e=this,a=t.Games.getCurrentGameTypes(),n=$.trim(t.util.getParam("gametype")),i=$.trim(t.util.getParam("ball"));n&&a.changeMode(n),i&&e.parseBallData(n,i)},showLotteryDescription:function(t){var e="",a=$("#J-lottery-info-status");!t||t.length<=0||(e=2==t.length?'<span class="f-left ml10">'+t[0]+'</span><span class="f-right mr10">'+t[1]+"</span>":'<span class="f-left ml10">'+t[0]+"</span><span>"+t[1]+'</span><span class="f-right mr10">'+t[2]+"</span>",a.html(e))}},u=t.Class(c,a);u.defConfig=i,t.Game=u}(phoenix,0,phoenix.Event),function(t,e,a,n){var r={name:"",UIContainer:"#J-balls-main-panel",ballsDom:".ball-number",ballAidDom:".ball-aid-hot",ballCurrentCls:"ball-number-current",methodMassageDom:".prompt .method-tip",methodExampleDom:".prompt .example-tip",hotColdUrl:"simulatedata/frequency.php",randomBetsNum:500,danshiLimitBall:9999},l=t.Games,o={init:function(t){var e=this;e.UIContainer=$(t.UIContainer),e.container=$("<div></div>").appendTo(e.UIContainer),e.buildUI(),e.hide(),e.balls=[],e.rebuildData(),e.ballsDom=e.getBallsDom(),e.ballsAidDom=e.getBallsAidDom(),e.isBallsComplete=!1,e.addEvent("updateData",function(t,e){var a=this,e=a.isBallsComplete?e:{lotterys:[],original:[]};l.getCurrentGameStatistics().updateData(e,a.getGameMethodName()),a.batchSetBallDom()}),e.addEvent("afterReset",function(){e.exeEvent_cancelCurrentButton()}),e.addEvent("afterSetBallData",function(t,a,n,i){e.exeEvent_cancelCurrentButton(a,n,i)})},getBallsDom:function(){var t=this,e=t.defConfig,a=t.balls;return a.length<1?[]:t.ballsDom||function(){for(var n=t.container.find(e.ballsDom),i=0,r=n.length,l=[],o=[],s=a[0].length;i<r;i++)l.push(n[i]),(i+1)%s!=0&&i+1!=r||(o.push(l),l=[]);return o}()},updataGamesInfo:function(){var t=this,e=t.getGameMethodName(),a=l.getCurrentGame(),n=a.getGameConfig().getInstance().getChildData(e).faceparamter;t.methodTip({tips:n.methoddesc,example:n.methodexample})},getChart:function(t,e){var a=this,n=$.trim(t),i="simulatedata/historyballs.php@type="+t+"&extent=currentFre&line=5&lenth=30&lotteryid=99101&userid=31";void 0===l.cacheData.charts&&(l.cacheData.charts={}),void 0!==l.cacheData.charts[n]?e&&e(l.cacheData.charts[n]):$.ajax({url:i,dataType:"json",success:function(t){if(1==t.isSuccess)t.data.historyBalls,l.cacheData.charts[n]=t.data.historyBalls,e&&e(l.cacheData.charts[n]);else try{console.log("服务器异常,请刷新页面重试。")}catch(t){}}}),a.fireEvent("afterUpdataGamesInfo",t)},methodTip:function(t){var e=this,a=e.defConfig;$(a.methodMassageDom).html(t.tips),$(a.methodExampleDom).html(t.example)},getHotCold:function(t,e,a,n){return},reBuildHotCold:function(t,e){var a,n=this,i=[],r=[],l=[],o=0,s=0;if("lost"==e)for(var c=0;c<t.length;c++){a=t[c];for(var u in a){var m=a[u].currentNum,d=a[u].pinlv;0==m?l=[[d,0]]:d>l[0][0]?l=[[d,m]]:d==l[0][0]&&l.push([d,m]),n.setBallAidData(c,m,d)}for(var f=0;f<l.length;f++)n.setBallAidData(c,l[f][1],l[f][0],"ball-aid-hot")}else if("fre"==e)for(var c=0;c<t.length;c++){a=t[c];for(var u in a){var m=a[u].currentNum,d=a[u].pinlv;i.push([d,m]),r.push(d),n.setBallAidData(c,m,d)}o=Math.min.apply(Math,r),s=Math.max.apply(Math,r);for(var f=0;f<i.length;f++)i[f][0]==o&&n.setBallAidData(c,i[f][1],i[f][0],"ball-aid-cold"),i[f][0]==s&&n.setBallAidData(c,i[f][1],i[f][0],"ball-aid-hot");i=[],r=[]}},initHotColdEvent:function(){var t=this,e=30,a="lost";t.container.on("click",".game-frequency-type li",function(){var t,n=($(this).parent(),l.getCurrentGame().getCurrentGameMethod().getGameMethodName());$(this).hasClass("fre")?(a=$(this).attr("data-type"),e=30,t="30期"):$(this).hasClass("lost")&&(a=$(this).attr("data-type"),e="currentFre",t="当前遗漏"),l.getCurrentGame().getCurrentGameMethod().getHotCold(n,e,a,t)}),t.container.on("click",".game-frequency-lost-length a, .game-frequency-fre-length a",function(){var t=($(this).parent(),l.getCurrentGame().getCurrentGameMethod().getGameMethodName()),e=$(this).html(),n=$(this).attr("data-type");l.getCurrentGame().getCurrentGameMethod().getHotCold(t,n,a,e)})},reSelect:function(t){var e,a,n,i,r,l,o=this,s=(o.getGameMethodName(),t),c=!1;for(o.reSet(),e=0,a=s.length;e<a;e++)for(n=0,i=s[e].length;n<i;n++)r=e,l=s[e][n],o.setBallData(r,l,1),c=!0;c&&o.updateData()},makePostParameter:function(t){for(var e=[],a=t.length,n=0;n<a;n++)e=e.concat(t[n].join("&"));return e.join(",")},arrIndexOf:function(t,e){for(var a=0,n=0;n<e.length;n++)e[n]==t&&(a+=1);return a||-1},rebuildData:function(){},getBallData:function(){return this.balls},setBallData:function(t,e,a){var n=this,i=n.getBallData();n.fireEvent("beforeSetBallData",t,e,a),t>=0&&t<i.length&&e>=0&&e<i[0].length&&(i[t][e]=a),n.fireEvent("afterSetBallData",t,e,a)},setBallAidData:function(t,e,a,n){var i=this,r=i.getBallsAidDom(),n=n?"ball-aid "+n:"ball-aid";t>=0&&t<r.length&&r[t]&&e>=0&&e<r[t].length&&r[t][e]&&(r[t][e].innerHTML=a,r[t][e].className=n)},getBallsAidDom:function(){var t=this,e=t.defConfig,a=t.balls;return a.length<1?[]:t.ballsAidDom||function(){var n=t.container.find(e.ballAidDom),r=0,l=a.length,o=[];for(i=0;i<l;i++){var s=a[i],c=s.length,u=[];for(j=0;j<c;j++)n[r]&&u.push(n[r]),r++;o.push(u)}return o}()},reSet:function(t){var e=this;e.isBallsComplete=!1,e.rebuildData(t),e.updateData(),e.fireEvent("afterReset")},getGameMethodName:function(){return this.defConfig.name},show:function(){var t=this;t.fireEvent("beforeShow",t.container),t.container.show(),t.fireEvent("afterShow",t.container)},hide:function(){var t=this;t.fireEvent("beforeHide",t.container),t.container.hide(),t.fireEvent("afterHide",t.container)},exeEvent:function(t,e){var a=this;$.isFunction(a["exeEvent_"+t.action])&&a["exeEvent_"+t.action].call(a,t,e)},exeEvent_addplan:function(t,e){var a=this;l.getCurrentGamePlan().add(a,t,e)},exeEvent_batchSetBall:function(t,e){var a=this,n=a.balls,i=Number(t.row),r=t.bound,o=n[i],s=0,c=o.length,u=void 0===t.start?0:Number(t.start),m=Math.ceil((c-u)/2+u),d=$(e),s=u;for("N115"==l.getCurrentGame().name&&(m-=1);s<c;s++)a.setBallData(i,s,-1);switch(r){case"all":for(s=u;s<c;s++)a.setBallData(i,s,1);break;case"big":for(s=m;s<c;s++)a.setBallData(i,s,1);break;case"small":for(s=u;s<m;s++)a.setBallData(i,s,1);break;case"odd":for(s=u;s<c;s++)(s+1)%2!=1&&a.setBallData(i,s,1);break;case"even":for(s=u;s<c;s++)(s+1)%2==1&&a.setBallData(i,s,1);break;case"none":}d.addClass("current"),a.updateData()},exeEvent_cancelCurrentButton:function(t,e,a){var n=this,i=n.container;(void 0!==t?i.find(".ball-control").eq(t):i.find(".ball-control")).find("a").removeClass("current")},exeEvent_ball:function(t,e){var a=this,n=$(e),i=a.defConfig.ballCurrentCls;if(void 0!=t.value&&void 0!=t.row)n.hasClass(i)?a.setBallData(Number(t.row),Number(t.value),-1):(a.fireEvent("beforeSelect",t),a.setBallData(Number(t.row),Number(t.value),1));else try{console.log("GameMethod.exeEvent_ball: lack param")}catch(t){}a.updateData()},batchSetBallDom:function(){for(var t=this,e=t.defConfig,a=e.ballCurrentCls,n=t.balls,i=0,r=0,l=n.length,o=0,s=t.getBallsDom(),c="";i<l;i++)for(o=n[i].length,r=0;r<o;r++)1==n[i][r]?(c=s[i][r].className,c=(" "+c+" ").replace(" "+a,""),c+=" "+a,s[i][r].className=c):(c=s[i][r].className,c=(" "+c+" ").replace(" "+a,""),s[i][r].className=c)},makeSubmitParameter:function(t){var e=l.getCurrentGame().getName(),a=$.extend(!0,[],t);if("N115"==e)for(var n=0;n<a.length;n++){for(var i=0;i<a[n].length;i++)a[n][i]=Number(a[n][i])<10?"0"+a[n][i]:a[n][i];a[n]=a[n].join("&")}else for(var n=0;n<a.length;n++)a[n]=a[n].join("&");return a.join("|")},updateData:function(){var t=this,e=t.getLottery();t.fireEvent("updateData",{lotterys:e,original:t.getOriginal()})},getOriginal:function(){var t=this,e=t.getBallData(),a=e.length,n=e[0].length;for(i=0,j=0,row=[],result=[];i<a;i++){for(row=[],j=0;j<n;j++)e[i][j]>0&&row.push(j);result.push(row)}return result},getLottery:function(t){for(var e,a=this,n=a.getBallData(),i=0,r=n.length,l=!0,o=0,s=0,c=[],u=1,m=0;i<r;i++){for(c[i]=[],e=n[i],s=e.length,l=!0,m=0,o=0;o<s;o++)e[o]>0&&(l=!1,t||c[i].push(o),m++);if(l)return a.isBallsComplete=!1,[];u*=m}return a.isBallsComplete=!0,t?u:a.isBallsComplete?a.combination(c):[]},removeSame:function(t){var e,a=0,n=this,i=this.getBallData()[0].length;t.length;for(e=Math.floor(Math.random()*i);a<t.length;a++)if(e==t[a])return arguments.callee.call(n,t);return e},removeArraySame:function(t){var e,a=this,n=0,i=a.getBallData()[0].length;data.length;for(e=Math.floor(Math.random()*i);n<t.length;n++)if(e==t[n])return arguments.callee.call(a,t);return e},getRandomBetsNum:function(){return this.defConfig.randomBetsNum},createRandomNum:function(){for(var t=this,e=[],a=t.getBallData().length,n=t.getBallData()[0].length,i=0;i<a;i++)e[i]=[Math.floor(Math.random()*n)],e[i].sort(function(t,e){return t>e?1:-1});return e},checkRandomBets:function(t,e){var a=this,n=void 0===t,t=t||{},i=[],e=e||0,r=(a.getBallData().length,a.getBallData()[0].length,l.getCurrentGameOrder().getTotal().orders);if(i=a.createRandomNum(),Number(e)>Number(a.getRandomBetsNum()))return i;if(n)for(var o=0;o<r.length;o++)if(r[o].type==a.defConfig.name){var s=r[o].original.join("");t[s]=s}return t[i.join("")]?(e++,arguments.callee.call(a,t,e)):i},randomNum:function(){var t=this,e=[],a=null,n=(t.getBallData(),t.defConfig.name,[]),i=[];return e=t.checkRandomBets(),i=e,n=t.combination(i),a={type:l.getCurrentGame().getCurrentGameMethod().getGameMethodName(),original:i,lotterys:n,moneyUnit:l.getCurrentGameStatistics().getMoneyUnit(),multiple:l.getCurrentGameStatistics().getMultip(),onePrice:l.getCurrentGameStatistics().getOnePrice(),num:n.length},a.amountText=l.getCurrentGameStatistics().formatMoney(a.num*a.moneyUnit*a.multiple*a.onePrice),a},randomLotterys:function(t){var e=this,a=0,n="";for(l.getCurrentGameOrder().cancelSelectOrder();a<t;a++)n=e.randomNum(),n.subType=e.getSubmitType(),l.getCurrentGameOrder().add(n)},ballsErrorTip:function(){},countBallsNum:function(){for(var t=this,e=0,a=t.getBallData(),n=a.length-1;n>=0;n--)if("[object Array]"==Object.prototype.toString.call(a[n])&&a[n].length>0)for(var i=a[n].length-1;i>=0;i--)1==a[n][i]&&e++;else 1==a[n]&&e++;return e},countBallsNumInLine:function(t){var e=this,a=0,n=e.getBallData();if("[object Array]"==Object.prototype.toString.call(n[t])&&n[t].length>0)for(var i=n[t].length-1;i>=0;i--)1==n[t][i]&&a++;else 1==n[t]&&a++;return a||-1},LimitMaxBalls:function(t){var e=this,a=0;e.getBallData(),Number(a);return(a=e.countBallsNum())>t},appendProgramToDom:function(t,e,a){var n=t.length||0,a=a||"",i=$(e);if(n&&i.length&&a)for(var r=0;r<n;r++){var l=t[r],o=a;for(key in l){var s="{{"+key+"}}";o=o.replace(new RegExp(s,"g"),l[key])}i.prepend(o)}},updateProgramStatus:function(t,e,a){$(t).children().eq(e).length},appendChaseToDom:function(t,e,a){var n=t.length||0,a=a||"",i=$(e);if(n&&i.length&&a)for(var r=0;r<n;r++){var l=t[r],o=a;for(key in l){var s="{{"+key+"}}";o=o.replace(new RegExp(s,"g"),l[key])}i.prepend(o)}},updateChaseStatus:function(t,e,a){$(t).children().eq(e).length},checkBallIsComplete:function(){for(var t,e=this,a=e.getBallData(),n=0,i=a.length,r=!0,l=0,o=0;n<i;n++){for(t=a[n],o=t.length,r=!0,l=0;l<o;l++)t[l]>0&&(r=!1);if(r)return e.isBallsComplete=!1,!1}return e.isBallsComplete=!0},combine:function(t,e,a){var n=[],i=0;if(a=a||[],0==e)return[a];for(;i<=t.length-e;i++)n=n.concat(arguments.callee(t.slice(i+1),e-1,a.slice(0).concat(t[i])));return n},combination:function(t){if(t.length<1)return[];var e,a,n,i=(t[0].length,t.length),r=[],l=[],o=[];for(r[e=i]=1;e--;)r[e]=r[e+1]*t[e].length;for(n=r[0],e=0;e<n;e++){for(o=[],a=0;a<i;a++)o[a]=t[a][~~(e%r[a]/r[a+1])];l[e]=o}return l},checkLimitBall:function(t){var e=this,a=l.getCurrentGameMessage();(Number(t.lotterys.length)||0)>e.defConfig.danshiLimitBall&&(t.lotterys=[],a.show({mask:!0,content:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring"></i>','<div style="display:inline-block;*zoom:1;*display:inline;vertical-align:middle">最多支持'+e.defConfig.danshiLimitBall+"注单式内容，请调整！</div>","</div>","</div>"].join(""),closeIsShow:!0,closeFun:function(){this.hide()}}))},removeArrFormTarget:function(t,e){for(var a=$.trim(t.join(" ")),n=0;n<e.length;n++)a=a.replace(e[n].join(","),"");return a=$.trim(a),a?a.split(/\s+/):[]},mathCorretBet:function(t,e){var a=this,n=[].concat(t);return 3==e?n=a.copySameArrappend(t,3):4==e?n=a.copySameArrappend(t,6):5==e?n=a.copySameArrappend(t,10):e<=1&&(n=[]),n},copySameArrappend:function(t,e){for(var a=[],n=e-1;n>=0;n--)a=a.concat(t);return a},checkPositionRules:function(){var t=this,e=0;return t.container.find("#J-postion-select").find("input").each(function(t){$(this).prop("checked")&&e++}),e},bindEventInstance:function(){var t=this;t.container.find("#J-postion-select").on("change","input",function(){t.handleDigitstrType("",$(this).attr("data-position")),t.updateData()})},getSubmitType:function(){return"digital"},setCurrentDigitstr:function(t){this.digitstrType=t},getCurrentDigitstr:function(){return this.digitstrType},handleDigitstrType:function(t,e){var a=this,n=t||a.getCurrentDigitstr();return n.indexOf(e)!=-1?n=n.replace(e,""):n+=e,a.setCurrentDigitstr(n),n}},s=t.Class(o,a);s.defConfig=r,t.GameMethod=s}(phoenix,0,phoenix.Event),function(t,e,a,n){var i,r={lotteryClose:['<div class="bd text-center">','<p class="text-title text-left">非常抱歉，本彩种已休市。<br />请与<#=orderDate#>后再购买</p>','<div class="lottery-numbers text-left">','<div class="tltle"><#=lotteryName#> 第<strong class="color-green"><#=lotteryPeriods#></strong>期开奖号码：</div>','<div class="content">',"<#=lotterys#>",'<a href="#">查看更多&raquo;</a>',"</div>","</div>",'<dl class="lottery-list">',"<dt>您可以购买以下彩种</dt>","<#=lotteryType#>","</dl>","</div>"].join(""),checkProject:['<div class="bd">','<ul class="ui-form">',"<li>",'<input type="input" placeholder="方案名称" class="">',"</li>","<li>",'<label for="question1" class="ui-label">彩种：</label>','<span class="ui-text-info"><#=lotteryName#></span>',"</li>","<li>",'<label for="answer1" class="ui-label">详情：</label>','<div class="textarea" style="font-size:12px;">',"<#=lotteryInfo#>","</div>","</li>","</ul>","</div>"].join(""),checkLotters:['<div class="bd">','<ul class="ui-form">',"<li>",'<label for="question1" class="ui-label">彩种：</label>','<span class="ui-text-info"><#=lotteryName#></span>','<label for="question1" class="ui-label" style="margin-left:10px;">期号：</label>','<span class="ui-text-info"><#=lotteryDate#>期</span>',"</li>","<li>",'<label for="answer1" class="ui-label">详情：</label>','<div class="textarea" style="font-size:12px;">',"<#=lotteryInfo#>","</div>","</li>","<li>",'<label for="question2" class="ui-label">付款总金额：</label>','<span class="ui-text-info"><span class="color-red"><#=lotteryamount#></span>元</span>',"</li>","<li>",'<label for="question2" class="ui-label">付款帐号：</label>','<span class="ui-text-info"><span class="color-red"><#=lotteryAcc#></span></span>',"</li>","</ul>","</div>"].join(""),planDetails:['<div class="bd">','<ul class="ui-form">',"<li>",'<label for="question1" class="ui-label">方案彩种：</label>',"<#=lotteryname#>","</li>","<li>",'<label for="question1" class="ui-label">投注期号：</label>',"<#=issue#>期","</li>","<li>",'<label for="question1" class="ui-label">方案名称：</label>','<input type="text" id="J-plan-name" readonly="readonly" class="input" value="<#=planname#>" placeholder="在此输入方案名称">',"</li>","<li>",'<label for="answer1" class="ui-label">方案详情：</label>','<div class="textarea" style="font-size:12px;">',"<#=methodname#><#=codes#>","</div>","</li>","<li>",'<label for="question2" class="ui-label">方案金额：</label>','<span class="ui-text-info"><span class="color-red"><#=money#></span>元</span>',"</li>","</ul>","</div>"].join(""),checkPlan:['<div class="bd">','<ul class="ui-form">',"<li>",'<label for="question1" class="ui-label">方案彩种：</label>',"<#=lotteryName#>","</li>","<li>",'<label for="question1" class="ui-label">方案名称：</label>','<input type="text" id="J-plan-name" class="input" value="<#=planName#>" placeholder="在此输入方案名称">',"</li>","<li>",'<label for="answer1" class="ui-label">方案详情：</label>','<div class="textarea" style="font-size:12px;">',"<#=lotteryInfo#>","</div>","</li>","<li>",'<label for="question2" class="ui-label">方案金额：</label>','<span class="ui-text-info"><span class="color-red"><#=lotteryamount#></span>元</span>',"</li>","<li>",'<label for="question2" class="ui-label">付款帐号：</label>','<span class="ui-text-info"><span class="color-red"><#=lotteryAcc#></span></span>',"</li>","</ul>","</div>"].join(""),nonSaleTime:['<div class="bd text-center">','<p class="text-title text-left">非常抱歉，本彩种未到销售时间。<br />请与<#=orderDate#>后再购买</p>','<dl class="lottery-list">',"<dt>您可以购买以下彩种</dt>","<#=lotteryType#>","</dl>","</div>"].join(""),normal:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<h4 class="pop-text"><#=msg#><br /></h4>',"</div>","</div>"].join(""),invalidtext:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<h4 class="pop-text"><#=msg#><br /></h4>',"</div>","</div>"].join(""),betExpired:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<h4 class="pop-text"><#=msg#><br /></h4>',"</div>","</div>"].join(""),multipleOver:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<h4 class="pop-text"><#=msg#><br /></h4>',"</div>","</div>"].join(""),pauseBet:['<div class="bd text-center">','<div class="pop-waring">','<i class="ico-waring <#=icon-class#>"></i>','<h4 class="pop-text"><#=msg#><br /></h4>',"</div>","</div>"].join(""),successTip:['<div class="bd text-center">','<div class="pop-title">','<i class="ico-waring <#=icon-class#>"></i>','<h4 class="pop-text"><#=msg#><br /></h4>',"</div>","</div>"].join(""),checkBalls:['<div class="bd text-center">','<div class="pop-title">','<i class="ico-waring <#=iconClass#>"></i>','<h4 class="pop-text">请至少选择一注投注号码！</h4>',"</div>",'<div class="pop-btn ">','<a href="javascript:void(0);" class="btn closeBtn">关 闭<b class="btn-inner"></b></a>',"</div>","</div>"].join(""),errorTip:['<div class="bd text-center">','<div class="pop-title">','<i class="ico-error"></i>','<h4 class="pop-text">方案提交失败,<br />请检查网络并重新提交！</h4>',"</div>",'<div class="pop-btn ">','<a href="javascript:void(0);" class="btn closeBtn">关 闭<b class="btn-inner"></b></a>',"</div>","</div>"].join(""),blockade:['<div class="bd panel-game-msg-blockade" id="J-blockade-panel-main">','<form id="J-form-blockade-detail" action="ssc-blockade-detail.php" target="_blank" method="post"></form>','<div class="game-msg-blockade-text">存在<#=blockadeType#>内容，系统已为您做出 <a href="#" data-action="blockade-detail">最佳处理</a> ，点击<span class="color-red">“确认”</span>完成投注</div>',"<div>",'<div class="game-msg-blockade-line-title">彩种：<#=gameTypeTitle#></div>','<div class="game-msg-blockade-line-title">期号：<#=currentGameNumber#></div>',"</div>",'<div id="J-game-panel-msg-blockade-0">','<div class="game-msg-blockade-cont" id="J-msg-panel-submit-blockade-error0"><#=blockadeData0#></div>',"</div>",'<div class="game-msg-blockade-panel-money">','<div><b>付款总金额：</b><span class="color-red"><b id="J-money-blockade-adjust"><#=amountAdjust#></b></span> 元&nbsp;&nbsp;&nbsp;&nbsp;<span style="display:<#=display#>"><b>减少投入：</b><span class="color-red"><b id="J-money-blockade-change"><#=amountChange#></b></span> 元</span></div>',"<div><b>付款账号：</b><#=username#></div>","</div>","<div>",'<p class="text-note">购买后请您尽量避免撤单，如撤单将收取手续费：￥<span class="handlingCharge">0.00</span>元</p>','<p class="text-note">本次投注，若未涉及到付款金额变化，将不再提示</p>',"</div>",'<ul class="textarea cancel-bets clearfix" style="font-size:12px;margin-top:10px;">','<li><span class="">奖期</span><span class="">撤单手续费</span></li>',"<li><span>2312321312</span><span>123131312313</span></li>","<li><span>2312321312</span><span>123131312313</span></li>","<li><span>2312321312</span><span>123131312313</span></li>","<li><span>2312321312</span><span>123131312313</span></li>","<li><span>2312321312</span><span>123131312313</span></li>","<li><span>2312321312</span><span>123131312313</span></li>","<li><span>2312321312</span><span>123131312313</span></li>","<li><span>2312321312</span><span>123131312313</span></li>","<li></li>","</ul>","</div>"].join("")},l=null,o=t.Games,s={init:function(e){var a=this;a.win=new t.util.MiniWindow({cls:"pop w-9"}),a.mask=t.util.Mask.getInstance(),a.reSet(),a.win.addEvent("afterHide",function(){a.reSet()})},doAction:function(t){var e=this,a="rebulid"+t.type,n="getHtml"+t.type,i=function(){};e[a]&&$.isFunction(e[a])&&(i=e[a]),t.tpl=void 0===t.tpl?e[n]():""+t.tpl,delete t.type,i.call(e,t)},formatHtml:function(t,e){var a,n,i=e;for(a in i)i.hasOwnProperty(a)&&(n=RegExp("<#="+a+"#>","g"),t=t.replace(n,i[a]));return t},arrIndexOf:function(t,e){for(var a=0,n=0;n<e.length;n++)e[n]==t&&(a+=1);return a||-1},getHtmlWaring:function(){return this.defConfig.normal},rebulidnormal:function(t){var e=this,a={};a.mask=!0,a.closeText="关 闭",a.closeIsShow=!0,a.closeFun=function(){e.hide()},a.content=e.formatHtml(t.tpl,t.data.tplData),e.show($.extend(a,t))},getHtmlnormal:function(){return this.getHtmlWaring()},rebulidcheckLotters:function(t){var e=this,a=(o.getCurrentGameOrder().getTotal().orders,{});a.mask=!0,a.iconClass="",a.content=e.formatHtml(t.tpl,t.data.tplData),e.show($.extend(a,t))},getHtmlcheckLotters:function(){return this.defConfig.checkLotters},rebulidcheckProject:function(t){var e=this,a=(o.getCurrentGameOrder().getTotal().orders,{});a.mask=!0,a.iconClass="",a.content=e.formatHtml(t.tpl,t.data.tplData),e.show($.extend(a,t))},getHtmlcheckProject:function(){return this.defConfig.checkLotters},rebulidcheckPlan:function(t){var e=this,a=(o.getCurrentGameOrder().getTotal().orders,{});a.mask=!0,a.iconClass="",a.content=e.formatHtml(t.tpl,t.data.tplData),e.show($.extend(a,t))},getHtmlcheckPlan:function(){return this.defConfig.checkPlan},rebulidplanDetails:function(t){var e=this,a=(o.getCurrentGameOrder().getTotal().orders,{});a.mask=!0,a.iconClass="",a.content=e.formatHtml(t.tpl,t.data.tplData),e.show($.extend(a,t))},getHtmlplanDetails:function(){return this.defConfig.planDetails},rebulidlotteryClose:function(t){var e=this,a={};lotteryName=t.data.tplData.lotteryName,lotteryPeriods=t.data.tplData.lotteryPeriods,time=t.data.tplData.orderDate,lotterys=t.data.tplData.lotterys,typeArray=t.data.tplData.lotteryType,a.mask=!0,a.iconClass="",a.closeIsShow=!0,a.closeFun=function(){e.hide()},t.data.tplData.lotteryName=function(){return lotteryName||""},t.data.tplData.lotteryPeriods=function(){return lotteryPeriods||""},t.data.tplData.orderDate=function(){return time.year+"年"+time.month+"月"+time.day+"日 "+time.hour+":"+time.min},t.data.tplData.lotterys=function(){var t="";if($.isArray(lotterys))for(var e=0;e<lotterys.length;e++)t+="<em>"+lotterys[e]+"</em>";return t},t.data.tplData.lotteryType=function(){var t="";if($.isArray(typeArray))for(var e=0;e<typeArray.length;e++)t+='<dd><span style="background:url('+typeArray[e].pic+')" class="pic" title="'+typeArray[e].name+'" alt="'+typeArray[e].name+'"></span><a href="'+typeArray[e].url+'" class="btn">去投注<b class="btn-inner"></b></a></dd>';return t},a.content=e.formatHtml(t.tpl,t.data.tplData),e.show($.extend(a,t))},getHtmllotteryClose:function(){return this.defConfig.lotteryClose},rebulidnonSaleTime:function(t){var e=this,a={};time=t.data.tplData.orderDate,typeArray=t.data.tplData.lotteryType,a.mask=!0,a.iconClass="",a.closeIsShow=!0,a.closeFun=function(){e.hide()},t.data.tplData.orderDate=function(){return time.year+"年"+time.month+"月"+time.day+"日 "+time.hour+":"+time.min},t.data.tplData.lotteryType=function(){var t="";if($.isArray(typeArray))for(var e=0;e<typeArray.length;e++)t+='<dd><span style="background:url('+typeArray[e].pic+')" class="pic" title="'+typeArray[e].name+'" alt="'+typeArray[e].name+'"></span><a href="'+typeArray[e].url+'" class="btn">去投注<b class="btn-inner"></b></a></dd>';return t},a.content=e.formatHtml(t.tpl,t.data.tplData),e.show($.extend(a,t))},getHtmlnonSaleTime:function(){return this.defConfig.nonSaleTime},rebulidmustChoose:function(t){var e=this,a={};a.mask=!0,a.iconClass="",a.closeIsShow=!0,a.closeFun=function(){e.hide()},a.content=e.formatHtml(t.tpl,t.data.tplData),e.show($.extend(a,t))},
getHtmlmustChoose:function(){return this.getHtmlWaring()},rebulidnetAbnormal:function(t){var e=this,a={};a.mask=!0,a.iconClass="",a.closeIsShow=!0,a.closeFun=function(){e.hide()},a.content=e.formatHtml(t.tpl,t.data.tplData),e.show($.extend(a,t))},getHtmlnetAbnormal:function(){return this.getHtmlWaring()},rebulidsuccess:function(t){var e=this,a={};a.mask=!0,a.iconClass="",a.closeIsShow=!0,t.data.tplData.msg="恭喜您~投注成功！",a.closeFun=function(){e.hide()},a.content=e.formatHtml(t.tpl,t.data.tplData),e.show($.extend(a,t))},getHtmlsuccess:function(){return this.defConfig.successTip},rebulidloginTimeout:function(t){var e=this,a={};a.mask=!0,a.closeIsShow=!0,a.closeFun=function(){e.hide()},a.content=e.formatHtml(t.tpl,t.data.tplData),e.show($.extend(a,t))},getHtmlloginTimeout:function(){return this.getHtmlWaring()},rebulidserverError:function(t){var e=this,a={};a.mask=!0,a.iconClass="",a.closeIsShow=!0,a.closeFun=function(){e.hide()},a.content=e.formatHtml(t.tpl,t.data.tplData),e.show($.extend(a,t))},getHtmlserverError:function(){return this.getHtmlWaring()},rebulidsysErrorShow:function(t){var e=this,a={};a.mask=!0,a.iconClass="",a.closeIsShow=!0,a.closeFun=function(){window.location.href="default.htm"},a.content=e.formatHtml(t.tpl,t.data.tplData),e.show($.extend(a,t))},getHtmlsysErrorShow:function(){return this.getHtmlWaring()},rebulidInsufficientbalance:function(t){var e=this,a={};a.mask=!0,a.closeIsShow=!0,a.closeFun=function(){e.hide()},a.content=e.formatHtml(t.tpl,t.data.tplData),e.show($.extend(a,t))},getHtmlInsufficientbalance:function(){return this.getHtmlWaring()},rebulidpauseBet:function(t){var e=this,a={};a.mask=!0,a.confirmText="投 注",a.confirmIsShow=!0,a.confirmFun=function(){for(var e=o.getCurrentGameOrder(),a=0;a<t.data.tplData.balls.length;a++)e.removeData(t.data.tplData.balls[a].id);o.getCurrentGameSubmit().submitData()},a.closeText="关 闭",a.closeIsShow=!0,a.closeFun=function(){e.hide()},t.data.tplData.msg=function(){for(var a=[],n=o.getCurrentGame().getGameConfig().getInstance(),i=0;i<t.data.tplData.balls.length;i++){var r=t.data.tplData.balls[i].type,l=n.getTitleByName(r);e.arrIndexOf(l.join(""),a)==-1&&a.push(l.join(""))}return"您的投注内容中“"+a.join("")+"”已暂停销售，是否完成剩余内容投注？"},a.content=e.formatHtml(t.tpl,t.data.tplData),e.show($.extend(a,t))},getHtmlpauseBet:function(){return this.defConfig.pauseBet},rebulidmultipleOver:function(t){var e=this,a={};a.mask=!0,a.iconClass="",a.closeText="关 闭",a.closeIsShow=!0,a.closeFun=function(){e.hide()},t.data.tplData.msg=function(){for(var a=[],n=o.getCurrentGame().getGameConfig().getInstance(),i=0;i<t.data.tplData.balls.length;i++){var r=t.data.tplData.balls[i].type,l=n.getTitleByName(r);e.arrIndexOf(l.join(""),a)==-1&&a.push(l.join(""))}return"您的投注内容中“"+a.join("")+"”超出倍数限制，请调整！"},a.content=e.formatHtml(t.tpl,t.data.tplData),e.show($.extend(a,t))},getHtmlmultipleOver:function(){return this.defConfig.multipleOver},rebulidinvalidtext:function(t){var e=this,a={};a.mask=!0,a.confirmText="刷新页面",a.confirmIsShow=!0,a.confirmFun=function(){window.location.reload()},a.content=e.formatHtml(e.getHtmlinvalidtext(),t),e.show($.extend(a,t))},getHtmlinvalidtext:function(){return this.defConfig.invalidtext},rebulidbetExpired:function(t){var e=this,a={};a.mask=!0,a.closeText="关 闭",a.closeIsShow=!0,a.closeFun=function(){e.hide()},t.data.tplData.msg=function(){return"您好，"+t.data.tplData.bitDate.expiredDate+"期 已截止销售，当前期为"+t.data.tplData.bitDate.current+"期 ，请留意！"},a.content=e.formatHtml(e.getHtmlbetExpired(),t.data.tplData),e.show($.extend(a,t))},getHtmlbetExpired:function(){return this.defConfig.betExpired},rebulidillegalTools:function(t){var e=this,a={};a.mask=!0,a.confirmText="刷新页面",a.confirmIsShow=!0,a.confirmFun=function(){window.location.reload()},a.content=e.formatHtml(e.getHtmlbetExpired(),t.data.tplData),e.show($.extend(a,t))},getHtmlblockade:function(){return this.defConfig.blockade},rebulidblockade:function(e){var a=this,n={},i=e.data.tplData,r=e.data.orderData,l=e.data.blockadeInfo,s=r.balls,c={},u="",m="",d=o.getCurrentGameOrder().formatMoney,f=!1,h=['<ul class="game-msg-blockade-balls">'];n.mask=!0,n.closeIsShow=!0,n.closeText="关 闭",n.confirmIsShow=!0,n.confirmText="确 认",n.closeFun=function(){a.hide()},$.each(s,function(t){c[""+this.id]=this,u=this.ball,u.length>28&&(u=u.substr(0,28)+"..."),m=o.getCurrentGame().getGameConfig().getInstance().getTitleByName(this.type).join("_"),h.push('<li data-id="'+this.id+'">['+m+"] "+u+"</li>")}),h.push("</ul>"),i.gameTypeTitle=o.getCurrentGame().getGameConfig().getInstance().getGameTypeCn(),i.blockadeData0=h.join(""),i.amount=d(r.amount),i.username=l.username,i.amountAdjust=d(l.amountAdjust),i.amountChange=d(r.amount-l.amountAdjust),i.display="",1==l.type?i.blockadeType="受限":2==l.type?(i.blockadeType="奖金变动",i.display="none"):i.blockadeType="奖金变动及受限",n.callback=function(){$.ajax({url:o.getCurrentGameSubmit().defConfig.handlingChargeURL+"@amout="+l.amountAdjust,dataType:"json",method:"GET",success:function(t){1==Number(t.isSuccess)&&a.getContentDom().find(".handlingCharge").html(t.data.handingcharge)}})},n.content=a.formatHtml(a.getHtmlbetExpired(),i),n.confirmFun=function(){var t=o.getCurrentGameMessage();if(f)return!1;$.ajax({url:o.getCurrentGameSubmit().defConfig.URL,data:r,dataType:"json",method:"POST",beforeSend:function(){f=!0},success:function(e){1==Number(e.isSuccess)?(t.show(e),a.clearData(),a.fireEvent("afterSubmitSuccess")):t.show(e)},complete:function(){f=!1,a.fireEvent("afterSubmit")}})},a.show($.extend(n,e)),t.util.toViewCenter(a.win.dom),$("#J-blockade-panel-main").on("click","[data-action]",function(t){var e=$(this),a=$.trim(e.attr("data-action"));$.trim(e.parent().attr("data-id"));switch(t.preventDefault(),a){case"blockade-detail":var n=$("#J-form-blockade-detail");n.html(""),$('<input type="hidden" value="'+r.gameType+'" name="gameType" />').appendTo(n),$.each(s,function(){var t=this;t.lockPoint&&(""!=$.trim(t.lockPoint.beforeBlockadeList)&&$.each(t.lockPoint.beforeBlockadeList,function(){var e=this;$('<input type="hidden" value="'+e.beishu+"-"+e.blockadeDetail+"-"+e.realBeishu+"-"+t.type+"-"+t.ball+'" name="beforeBlockadeList[]" />').appendTo(n)}),""!=$.trim(t.lockPoint.pointsList)&&$.each(t.lockPoint.pointsList,function(){var e=this;$('<input type="hidden" value="'+e.mult+"-"+e.point+"-"+e.retValue+"-"+t.type+"-"+t.ball+'" name="pointsList[]" />').appendTo(n)}))}),n.submit()}})},getHtmlillegalTools:function(){return this.getHtmlWaring()},rebulidsubFailed:function(t){var e=this,a={};a.mask=!0,a.closeText="关 闭",a.closeIsShow=!0,a.closeFun=function(){e.hide()},a.content=e.formatHtml(e.getHtmlbetExpired(),t.data.tplData),e.show($.extend(a,t))},getHtmlsubFailed:function(){return this.getHtmlWaring()},setTitle:function(t){this.win.setTitle(t)},setContent:function(t,e){this.win.setContent(t,e)},hideClose:function(){this.win.getCloseDom().hide()},hasOpenDialog:function(){return $(".j-ui-miniwindow").size()>0&&!$(".j-ui-miniwindow").is(":hidden")},checkDialogRules:function(t){var e=this;return"no"===t.cover&&!!e.hasOpenDialog()},hideTitle:function(){this.win.getTitleDom().hide()},show:function(t){var e=this,a=e.win;if(!e.checkDialogRules(t)&&(e.reSet(),void 0===t.data&&(t.data={}),t.data.tplData=void 0===t.data.tplData?{}:t.data.tplData,t)){if(t.type)return void e.doAction(t);void 0!==t.tpl&&(t.content=e.formatHtml(t.tpl,t.data.tplData)),l&&(clearTimeout(l),l=null),e.setTitle(t.title||"温馨提示"),e.setContent(t.content||""),t.confirmText&&a.setConfirmName(t.confirmText),t.cancelText&&a.setCancelName(t.cancelText),t.closeText&&a.setCloseName(t.closeText),t.normalCloseFun&&(a.doNormalClose=t.normalCloseFun),t.confirmFun&&(a.doConfirm=t.confirmFun),t.cancelFun&&(a.doCancel=t.cancelFun),t.closeFun&&(a.doClose=t.closeFun),t.confirmIsShow&&a.showConfirmButton(),t.cancelIsShow&&a.showCancelButton(),t.closeIsShow&&a.showCloseButton(),t.hideTitle&&e.hideTitle(),t.hideClose&&e.hideClose(),t.mask&&e.mask.show(),e.limitHeight(),a.show(),t.callback&&t.callback.call(e),t.time&&(l=setTimeout(function(){e.hide(),clearTimeout(l),l=null},1e3*t.time))}},limitHeight:function(){var t=this,e=$(window).height(),a=t.getContainerDom();a.outerHeight()>e&&(a.height(Math.floor(.9*e)),a.css({overflow:"auto"}))},getContainerDom:function(){return this.win.getContainerDom()},getContentDom:function(){return this.win.getContentDom()},hide:function(){var t=this;t.win.hide(),t.reSet()},reSet:function(){var t=this,e=t.win;t.mask.hide(),t.setTitle("提示"),t.setContent(""),e.hideConfirmButton(),e.hideCancelButton(),e.hideCloseButton(),e.doConfirm=function(){},e.doCancel=function(){},e.doClose=function(){},e.doNormalClose=function(){},e.setConfirmName("确 认"),e.setCancelName("取 消"),e.setCloseName("关 闭"),e.reSetPosition()}},c=t.Class(s,a);c.defConfig=r,c.getInstance=function(t){return i||(i=new c(t))},t.GameMessage=c}(phoenix,0,phoenix.Event);